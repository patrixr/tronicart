<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.13.0">
<title>Observable: SEO optimization | Tronicart</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="../_observablehq/theme-parchment.d89d0dee.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="../_observablehq/theme-parchment.d89d0dee.css">
<link rel="modulepreload" href="../_observablehq/client.24f05b63.js">
<link rel="modulepreload" href="../_observablehq/runtime.f168f711.js">
<link rel="modulepreload" href="../_observablehq/stdlib.0e911bb9.js">
<link rel="modulepreload" href="https://early.webawesome.com/webawesome@3.0.0-alpha.8/dist/webawesome.loader.js">

<meta name="description" content="Creative coding and art">
<meta name="keywords" content="creative, code, art, github, 0">
<meta name="author" content="Patrick Rabier">

<meta property="og:title" content="Observable: SEO optimization">
<meta property="og:type" content="article">
<meta property="og:url" content="/articles/observable-seo">
<meta property="og:image" content="https://tronica.io/_file/data/images/og-thumb.png">
<meta name="twitter:card" content="Creative coding and art">
<meta name="twitter:site" content="@tronicapps">
<meta name="twitter:creator" content="@tronicapps">

<link rel="stylesheet" href="https://early.webawesome.com/webawesome@3.0.0-alpha.8/dist/styles/themes/default.css">
<script type="module" src="https://early.webawesome.com/webawesome@3.0.0-alpha.8/dist/webawesome.loader.js"></script>


<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-GCRE839L0Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GCRE839L0Y');
</script>
  

<script type="module">

import "../_observablehq/client.24f05b63.js";

</script>
</head>
<body>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="../">Tronicart</a></li>
  </ol>
  <div id="observablehq-search"><input type="search" placeholder="Search"></div>
  <div id="observablehq-search-results"></div>
  <script>{const o=document.querySelector("#observablehq-search");o.setAttribute("data-shortcut",`${/Mac|iPhone/.test(navigator.platform)?"\u2318":"Alt-"}K`);const t=o.querySelector("input"),r=()=>import("../_observablehq/search.a1212c59.js");t.addEventListener("focus",r,{once:!0}),t.addEventListener("keydown",r,{once:!0});const c=document.querySelector("#observablehq-sidebar-toggle");addEventListener("keydown",e=>{(e.code==="KeyK"&&e.metaKey&&!e.altKey&&!e.ctrlKey||e.key==="/"&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&e.target===document.body)&&(c.checked?t.focus():(c.click(),t.focus(),c.click()),t.select(),e.preventDefault())});}</script>
  <section>
    <summary>Experiments</summary>
    <ol>
    <li class="observablehq-link"><a href="../experiments/raytracing-wasm">Raytracing with Go and Wasm</a></li>
    <li class="observablehq-link"><a href="../experiments/three-body-problem">Three body problem</a></li>
    <li class="observablehq-link"><a href="../experiments/hand-drawn">Hand-drawn lines</a></li>
    <li class="observablehq-link"><a href="../experiments/bitwise-tiles">Bitwise creativity</a></li>
    </ol>
  </section>
  <details open>
    <summary>Creative algorithms</summary>
    <ol>
    <li class="observablehq-link"><a href="../algorithms/composition">Composable sketches</a></li>
    <li class="observablehq-link"><a href="../algorithms/differential-growth-basics">Differential growth</a></li>
    <li class="observablehq-link"><a href="../algorithms/orbital-mechanics">Orbital mechanics</a></li>
    </ol>
  </details>
  <details open class="observablehq-section-active">
    <summary>Articles</summary>
    <ol>
    <li class="observablehq-link"><a href="./state-management">An outlook on state management</a></li>
    <li class="observablehq-link"><a href="./custom-react-hook">Custom React API hook</a></li>
    <li class="observablehq-link observablehq-link-active"><a href="./observable-seo">Observable SEO</a></li>
    </ol>
  </details>
  <details>
    <summary>Playgrounds</summary>
    <ol>
    <li class="observablehq-link"><a href="../playgrounds/falling-sand">Falling sand</a></li>
    <li class="observablehq-link"><a href="../playgrounds/triangles">Triangles</a></li>
    <li class="observablehq-link"><a href="../playgrounds/hexmesh/">Hexmesh</a></li>
    </ol>
  </details>
  <ol>
    <li class="observablehq-link"><a href="https://github.com/patrixr" target="_blank"><span>Github</span></a></li>
    <li class="observablehq-link"><a href="https://x.com/tronicapps" target="_blank"><span>Twitter</span></a></li>
    <li class="observablehq-link"><a href="https://objkt.com/users/tz1dQEFRNPdx2TXqfcprr1XCKdcUfir9geTP" target="_blank"><span>NFTs</span></a></li>
  </ol>
</nav>
<script>{const e=document.querySelector("#observablehq-sidebar"),o=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?o.checked=r==="true":o.indeterminate=!0;for(const t of document.querySelectorAll("#observablehq-sidebar summary")){const s=t.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${t.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<div id="observablehq-center">
<aside id="observablehq-toc" data-selector="h1:not(:first-of-type)[id], h2:first-child[id], :not(h1) + h2[id]">
<nav>
<div>Contents</div>
<ol>
<li class="observablehq-secondary-link"><a href="#determining-the-baseline">Determining the baseline</a></li>
<li class="observablehq-secondary-link"><a href="#meta-tags">Meta tags</a></li>
<li class="observablehq-secondary-link"><a href="#google-analytics">Google analytics</a></li>
<li class="observablehq-secondary-link"><a href="#sitemap-and-robots-txt">Sitemap and robots.txt</a></li>
<li class="observablehq-secondary-link"><a href="#report-details">Report details</a></li>
</ol>
</nav>
</aside>
<main id="observablehq-main" class="observablehq">
<h1 id="observable-seo-optimization" tabindex="-1"><a class="observablehq-header-anchor" href="#observable-seo-optimization">Observable: SEO optimization</a></h1>
<div class="note">
    This article is a work in progress. I will be updating it as I progressively improve the SEO rating of this website.
</div>
<p>If you're reading this, you should know you are looking at a website generated thanks to <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a>.
I can't express how much I <strong>love</strong> this platform. I get to write code, markdown pages, creative sketches all in one place. So I wanted to see how visible it would be to the world, with some SEO benchmarks.</p>
<p>At time of writing, their documentation is a bit sparse on the subject, so I'll be experimenting a bit to improve the SEO rating of this website.</p>
<h2 id="determining-the-baseline" tabindex="-1"><a class="observablehq-header-anchor" href="#determining-the-baseline">Determining the baseline</a></h2>
<p>To begin, we will use a tool called <a href="https://seositecheckup.com/" target="_blank" rel="noopener noreferrer">SEO Site Checkup</a> to determine the current SEO rating of the website.
It's a free tool that provides a quick overview of the website's SEO performance.</p>
<p>After running the tests, we obtained a score of <strong>76/100</strong>.</p>
<blockquote>
<p><em>First impressions: not bad</em>.</p>
</blockquote>
<p><img src="../_file/data/images/seo-score-jan-25.4afcedea.png" alt=""></p>
<p>I've listed the key recommendations below, click below to see the full details.</p>
<a href="#report-details">
  <wa-button variant="neutral">Jump to report</wa-button>
</a>
<p>Now that we've established the baseline, let's dive into some key areas for improvement.</p>
<h2 id="meta-tags" tabindex="-1"><a class="observablehq-header-anchor" href="#meta-tags">Meta tags</a></h2>
<p>Observable supports customization of the <code>&lt;head&gt;</code> tag through a <a href="https://observablehq.com/framework/config#head" target="_blank" rel="noopener noreferrer">custom header function</a> in it's configuration file.</p>
<p>This function has access to the <a href="https://observablehq.com/framework/markdown#front-matter" target="_blank" rel="noopener noreferrer">yaml front matter</a> of each page, which is where we can store the information of our meta tags.</p>
<p>For example, this is how we can define the meta tags for this page:</p>
<pre data-language="yaml"><code class="language-yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">keywords:</span> <span class="hljs-string">seo,</span> <span class="hljs-string">observablehq,</span> <span class="hljs-string">web</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Improving</span> <span class="hljs-string">the</span> <span class="hljs-string">SEO</span> <span class="hljs-string">rating</span> <span class="hljs-string">of</span> <span class="hljs-string">an</span> <span class="hljs-string">Observable</span> <span class="hljs-string">website</span>
<span class="hljs-meta">---
</span></code></pre>
<p>This is what we'll use to add our custom tags:</p>
<pre data-language="typescript"><code class="language-typescript"><span class="hljs-comment">// observablehq.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Tronicart"</span>,

  <span class="hljs-comment">// Other configurations...</span>

  <span class="hljs-attr">head</span>: <span class="hljs-function">(<span class="hljs-params">{ title, data, path }</span>) =&gt;</span> {
    <span class="hljs-comment">// Some sensible default values</span>
    <span class="hljs-keyword">const</span> keywords = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">"creative"</span>, <span class="hljs-string">"code"</span>, <span class="hljs-string">"art"</span>, <span class="hljs-string">"github"</span>])
    <span class="hljs-keyword">const</span> { description = <span class="hljs-string">"Creative coding and art"</span>, <span class="hljs-attr">keywords</span>: kw = [] } = data

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">in</span> kw) {
      keywords.<span class="hljs-title function_">add</span>(k)
    }

    <span class="hljs-comment">// Return the head html</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
      &lt;meta name="description" content="<span class="hljs-subst">${description}</span>"&gt;
      &lt;meta name="keywords" content="<span class="hljs-subst">${[...keywords].join(<span class="hljs-string">", "</span>)}</span>"&gt;
    `</span>
  },
}
</code></pre>
<h2 id="google-analytics" tabindex="-1"><a class="observablehq-header-anchor" href="#google-analytics">Google analytics</a></h2>
<p>SEO ratings are also influenced by the presence of Google Analytics on the website. This can be achieved with a simple addition to the <code>&lt;head&gt;</code> using the same method as we did before:</p>
<p>First, we'll create a small helper in our configuration file:</p>
<pre data-language="typescript"><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">GA_SCRIPT</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">GA_ID</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">GA_ID</span> ?? <span class="hljs-string">""</span>

  <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">GA_ID</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
  }

  <span class="hljs-keyword">return</span> <span class="hljs-string">`
&lt;!-- Google tag (gtag.js) --&gt;
&lt;script async src="https://www.googletagmanager.com/gtag/js?id=<span class="hljs-subst">${GA_ID}</span>"&gt;&lt;/script&gt;
&lt;script&gt;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '<span class="hljs-subst">${GA_ID}</span>');
&lt;/script&gt;
  `</span>
}
</code></pre>
<div class="note">
    I am using a github secret to store the GA_ID, which is then injected into the build process.
    But that is not mandatory, you can simply replace `process.env.GA_ID` with your own ID.
</div>
<p>Next we can include this in our <code>head</code> function:</p>
<pre data-language="typescript"><code class="language-typescript"><span class="hljs-comment">// observablehq.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Tronicart"</span>,

  <span class="hljs-comment">// Other configurations...</span>

  <span class="hljs-attr">head</span>: <span class="hljs-function">(<span class="hljs-params">{ title, data, path }</span>) =&gt;</span> {
    <span class="hljs-comment">// ... variables</span>

    <span class="hljs-keyword">return</span> <span class="hljs-string">`
      &lt;meta name="description" content="<span class="hljs-subst">${description}</span>"&gt;
      &lt;meta name="keywords" content="<span class="hljs-subst">${[...keywords].join(<span class="hljs-string">", "</span>)}</span>"&gt;

      <span class="hljs-subst">${GA_SCRIPT()}</span>
    `</span>
  },
}
</code></pre>
<h2 id="sitemap-and-robots-txt" tabindex="-1"><a class="observablehq-header-anchor" href="#sitemap-and-robots-txt">Sitemap and robots.txt</a></h2>
<p>At time of writing, Observable does not appear to support sitemaps or robots.txt files. This is a bit of a bummer, but we can work around it.
The observable config object already contains a list of all the pages in the website, so we can use that to generate a sitemap.</p>
<p>Let's start by creating a custom script that will add a sitemap to the final build:</p>
<pre data-language="typescript"><code class="language-typescript"><span class="hljs-keyword">import</span> config <span class="hljs-keyword">from</span> <span class="hljs-string">"observablehq.config"</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateSitemap</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { pages } = config;

  <span class="hljs-comment">// Generate sitemap using pages</span>
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateRobotsTxt</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// Generate robots.txt</span>
}}

<span class="hljs-title function_">generateSitemap</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">generateRobotsTxt</span>())
</code></pre>
<p>Next, let's create an npm script to run this script, and hook it to the build method</p>
<pre data-language="json"><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// Other scripts...</span>
    <span class="hljs-attr">"sitemap"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node generate-sitemap.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"postbuild"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm run sitemap"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>And voila ! We now have a sitemap and robots.txt file generated for our website.</p>
<h2 id="report-details" tabindex="-1"><a class="observablehq-header-anchor" href="#report-details">Report details</a></h2>
<p>Here are the key recommendations from the SEO Site Checkup report:</p>
<blockquote>
<ul>
<li><wa-badge appearance="filled outlined" variant="danger">High</wa-badge> Add a <strong>meta description</strong> tag to provide a brief and informative summary of the page's content for search engines.</li>
<li><wa-badge appearance="filled outlined" variant="danger">High</wa-badge> To ensure that Search Engines can accurately identify the topic of this webpage, it is important to include the <strong>most common keywords</strong> in the title tag, meta description, and heading tags.</li>
<li><wa-badge appearance="filled outlined" variant="danger">High</wa-badge> Connect your webpage with <strong>social media</strong> networks using APIs or AddThis, as social signals are becoming increasingly important for search engines to validate a site's trustworthiness and authority.</li>
<li><wa-badge appearance="filled outlined" variant="danger">High</wa-badge> To improve the website experience for your visitors, it is recommended to eliminate any <strong>render-blocking resources</strong> on this webpage.</li>
<li><wa-badge appearance="filled outlined" variant="danger">High</wa-badge> Consider using <strong>structured data</strong> in your webpage as it can help search engines gain a better understanding of your content.</li>
<li><wa-badge appearance="filled outlined" variant="warning">Medium</wa-badge> Add a <strong>sitemap</strong> file to help search engine crawlers index content more thoroughly and quickly.</li>
<li><wa-badge appearance="filled outlined" variant="warning">Medium</wa-badge> Add a <strong>robots.txt</strong> file to properly communicate with web crawlers and prevent unwanted access to sensitive content.</li>
<li><wa-badge appearance="filled outlined" variant="warning">Medium</wa-badge> Add a <strong>Google Analytics</strong> script to this website to help in diagnosing potential SEO issues by monitoring site visitors and traffic sources.</li>
<li><wa-badge appearance="filled outlined" variant="warning">Medium</wa-badge> Using <strong>social media meta tags</strong> can improve the appearance and content of shared links on social media platforms, potentially increasing click-through rates and engagement with the page.</li>
<li><wa-badge appearance="filled outlined" variant="warning">Medium</wa-badge> Avoid performance and security issues by adding "rel=noopener" or "rel=noreferrer" to your "target=_blank" links.</li>
</ul>
</blockquote>
</main>
<footer id="observablehq-footer">
<nav><a rel="prev" href="./custom-react-hook"><span>Custom React API hook</span></a><a rel="next" href="../playgrounds/falling-sand"><span>Falling sand</span></a></nav>
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2025-01-09T14:32:55">Jan 9, 2025</a>.</div>
</footer>
</div>
</body>
</html>
