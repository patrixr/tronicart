var No=Object.defineProperty;var T=(De,ke)=>No(De,"name",{value:ke,configurable:!0}),Wt=(De=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(De,{get:(ke,Oe)=>(typeof require<"u"?require:ke)[Oe]}):De)(function(De){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+De+'" is not supported')});var Go=(De,ke)=>{for(var Oe in ke)No(De,Oe,{get:ke[Oe],enumerable:!0})};var dr=globalThis||(typeof window<"u"?window:self),Kn=Object.create,Gr=Object.defineProperty,Qn=Object.getOwnPropertyDescriptor,$n=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,es=Object.prototype.hasOwnProperty,Mr=(De=>typeof Wt<"u"?Wt:typeof Proxy<"u"?new Proxy(De,{get:(ke,Oe)=>(typeof Wt<"u"?Wt:ke)[Oe]}):De)(function(De){if(typeof Wt<"u")return Wt.apply(this,arguments);throw Error('Dynamic require of "'+De+'" is not supported')}),ts=T((De,ke)=>()=>(ke||De((ke={exports:{}}).exports,ke),ke.exports),"Ho"),rs=T((De,ke)=>{for(var Oe in ke)Gr(De,Oe,{get:ke[Oe],enumerable:!0})},"Wo"),Nr=T((De,ke,Oe,Ze)=>{if(ke&&typeof ke=="object"||typeof ke=="function")for(let Je of $n(ke))!es.call(De,Je)&&Je!==Oe&&Gr(De,Je,{get:()=>ke[Je],enumerable:!(Ze=Qn(ke,Je))||Ze.enumerable});return De},"Cr"),os=T((De,ke,Oe)=>(Nr(De,ke,"default"),Oe&&Nr(Oe,ke,"default")),"sr"),Vo=T((De,ke,Oe)=>(Oe=De!=null?Kn(Jn(De)):{},Nr(ke||!De||!De.__esModule?Gr(Oe,"default",{value:De,enumerable:!0}):Oe,De)),"go"),Ho=ts((De,ke)=>{(function(Oe){typeof De=="object"&&typeof ke<"u"?ke.exports=Oe():typeof define=="function"&&define.amd?define([],Oe):(typeof window<"u"?window:typeof dr<"u"?dr:typeof self<"u"?self:this).p5=Oe()})(function(){var Oe,Ze,Je;return T(function t(Y,k,v){function p(m,f){if(!k[m]){if(!Y[m]){var r=typeof Mr=="function"&&Mr;if(!f&&r)return r(m,!0);if(d)return d(m,!0);throw(f=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",f}r=k[m]={exports:{}},Y[m][0].call(r.exports,function(s){return p(Y[m][1][s]||s)},r,r.exports,t,Y,k,v)}return k[m].exports}T(p,"p");for(var d=typeof Mr=="function"&&Mr,h=0;h<v.length;h++)p(v[h]);return p},"t")({1:[function(t,Y,k){"use strict";k.byteLength=function(i){var i=r(i),l=i[0],i=i[1];return 3*(l+i)/4-i},k.toByteArray=function(s){var l,i,u=r(s),n=u[0],u=u[1],a=new d(function(y,_){return 3*(y+_)/4-_}(n,u)),o=0,c=0<u?n-4:n;for(i=0;i<c;i+=4)l=p[s.charCodeAt(i)]<<18|p[s.charCodeAt(i+1)]<<12|p[s.charCodeAt(i+2)]<<6|p[s.charCodeAt(i+3)],a[o++]=l>>16&255,a[o++]=l>>8&255,a[o++]=255&l;return u===2&&(l=p[s.charCodeAt(i)]<<2|p[s.charCodeAt(i+1)]>>4,a[o++]=255&l),u===1&&(l=p[s.charCodeAt(i)]<<10|p[s.charCodeAt(i+1)]<<4|p[s.charCodeAt(i+2)]>>2,a[o++]=l>>8&255,a[o++]=255&l),a},k.fromByteArray=function(s){for(var l,i=s.length,n=i%3,u=[],a=0,o=i-n;a<o;a+=16383)u.push(function(c,y,_){for(var x,b=[],w=y;w<_;w+=3)x=(c[w]<<16&16711680)+(c[w+1]<<8&65280)+(255&c[w+2]),b.push(function(M){return v[M>>18&63]+v[M>>12&63]+v[M>>6&63]+v[63&M]}(x));return b.join("")}(s,a,o<a+16383?o:a+16383));return n==1?(l=s[i-1],u.push(v[l>>2]+v[l<<4&63]+"==")):n==2&&(l=(s[i-2]<<8)+s[i-1],u.push(v[l>>10]+v[l>>4&63]+v[l<<2&63]+"=")),u.join("")};for(var v=[],p=[],d=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,f=h.length;m<f;++m)v[m]=h[m],p[h.charCodeAt(m)]=m;function r(s){var l=s.length;if(0<l%4)throw new Error("Invalid string. Length must be a multiple of 4");return s=s.indexOf("="),l=(s=s===-1?l:s)===l?0:4-s%4,[s,l]}T(r,"r"),p[45]=62,p[95]=63},{}],2:[function(t,Y,k){},{}],3:[function(t,Y,k){},{}],4:[function(t,Y,k){(function(r){"use strict";var p=t("base64-js"),d=t("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(k.Buffer=r,k.SlowBuffer=function(j){return+j!=j&&(j=0),r.alloc(+j)},k.INSPECT_MAX_BYTES=50,2147483647);function f(j){if(m<j)throw new RangeError('The value "'+j+'" is invalid for option "size"');return j=new Uint8Array(j),Object.setPrototypeOf(j,r.prototype),j}T(f,"g");function r(j,L,G){if(typeof j!="number")return s(j,L,G);if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(j)}T(r,"r");function s(j,L,G){if(typeof j=="string"){var N=j,Z=L;if(r.isEncoding(Z=typeof Z=="string"&&Z!==""?Z:"utf8"))return oe=0|a(N,Z),ie=f(oe),ie=(N=ie.write(N,Z))!==oe?ie.slice(0,N):ie;throw new TypeError("Unknown encoding: "+Z)}if(ArrayBuffer.isView(j))return n(j);if(j!=null){if(W(j,ArrayBuffer)||j&&W(j.buffer,ArrayBuffer)){var oe=j,N=L,ie=G;if(N<0||oe.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<N+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return oe=N===void 0&&ie===void 0?new Uint8Array(oe):ie===void 0?new Uint8Array(oe,N):new Uint8Array(oe,N,ie),Object.setPrototypeOf(oe,r.prototype),oe}if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(Z=j.valueOf&&j.valueOf(),Z!=null&&Z!==j)return r.from(Z,L,G);var ce=function(ue){{var be,ye;if(r.isBuffer(ue))return be=0|u(ue.length),(ye=f(be)).length!==0&&ue.copy(ye,0,0,be),ye}if(ue.length!==void 0)return typeof ue.length!="number"||Q(ue.length)?f(0):n(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return n(ue.data)}(j);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return r.from(j[Symbol.toPrimitive]("string"),L,G)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}T(s,"a");function l(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}T(l,"s");function i(j){return l(j),f(j<0?0:0|u(j))}T(i,"n");function n(j){for(var L=j.length<0?0:0|u(j.length),G=f(L),N=0;N<L;N+=1)G[N]=255&j[N];return G}T(n,"l");function u(j){if(m<=j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|j}T(u,"u");function a(j,L){if(r.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||W(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);var G=j.length,N=2<arguments.length&&arguments[2]===!0;if(!N&&G===0)return 0;for(var Z=!1;;)switch(L){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return U(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return z(j).length;default:if(Z)return N?-1:U(j).length;L=(""+L).toLowerCase(),Z=!0}}T(a,"h");function o(j,L,G){var N,Z=!1;if((L=L===void 0||L<0?0:L)>this.length||(G=G===void 0||G>this.length?this.length:G)<=0||(G>>>=0)<=(L>>>=0))return"";for(j=j||"utf8";;)switch(j){case"hex":var oe=this,Me=L,ie=G,ye=oe.length;(!ie||ie<0||ye<ie)&&(ie=ye);for(var ce="",ue=Me=!Me||Me<0?0:Me;ue<ie;++ue)ce+=ae[oe[ue]];return ce;case"utf8":case"utf-8":return w(this,L,G);case"ascii":var be=this,ye=L,se=G,xe="";se=Math.min(be.length,se);for(var Se=ye;Se<se;++Se)xe+=String.fromCharCode(127&be[Se]);return xe;case"latin1":case"binary":var Ie=this,Me=L,q=G,we="";q=Math.min(Ie.length,q);for(var ve=Me;ve<q;++ve)we+=String.fromCharCode(Ie[ve]);return we;case"base64":return re=this,N=G,(fe=L)===0&&N===re.length?p.fromByteArray(re):p.fromByteArray(re.slice(fe,N));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var re=L,fe=G,ge=this.slice(re,fe),B="",H=0;H<ge.length;H+=2)B+=String.fromCharCode(ge[H]+256*ge[H+1]);return B;default:if(Z)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),Z=!0}}T(o,"o");function c(j,L,G){var N=j[L];j[L]=j[G],j[G]=N}T(c,"d");function y(j,L,G,N,Z){if(j.length===0)return-1;if(typeof G=="string"?(N=G,G=0):2147483647<G?G=2147483647:G<-2147483648&&(G=-2147483648),(G=(G=Q(G=+G)?Z?0:j.length-1:G)<0?j.length+G:G)>=j.length){if(Z)return-1;G=j.length-1}else if(G<0){if(!Z)return-1;G=0}if(typeof L=="string"&&(L=r.from(L,N)),r.isBuffer(L))return L.length===0?-1:_(j,L,G,N,Z);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?(Z?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(j,L,G):_(j,[L],G,N,Z);throw new TypeError("val must be string, number or Buffer")}T(y,"b");function _(j,L,G,N,Z){var oe=1,ie=j.length,ce=L.length;if(N!==void 0&&((N=String(N).toLowerCase())==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(j.length<2||L.length<2)return-1;ie/=oe=2,ce/=2,G/=2}function ue(Se,Ie){return oe===1?Se[Ie]:Se.readUInt16BE(Ie*oe)}if(T(ue,"re"),Z)for(var be=-1,ye=G;ye<ie;ye++)if(ue(j,ye)===ue(L,be===-1?0:ye-be)){if(ye-(be=be===-1?ye:be)+1===ce)return be*oe}else be!==-1&&(ye-=ye-be),be=-1;else for(ye=G=ie<G+ce?ie-ce:G;0<=ye;ye--){for(var se=!0,xe=0;xe<ce;xe++)if(ue(j,ye+xe)!==ue(L,xe)){se=!1;break}if(se)return ye}return-1}T(_,"M");function x(j,L,G,N){return P(function(Z){for(var oe=[],ie=0;ie<Z.length;++ie)oe.push(255&Z.charCodeAt(ie));return oe}(L),j,G,N)}T(x,"T");function b(j,L,G,N){return P(function(Z,oe){for(var ie,ce,ue=[],be=0;be<Z.length&&!((oe-=2)<0);++be)ce=Z.charCodeAt(be),ie=ce>>8,ce=ce%256,ue.push(ce),ue.push(ie);return ue}(L,j.length-G),j,G,N)}T(b,"x");function w(j,L,G){G=Math.min(j.length,G);for(var N=[],Z=L;Z<G;){var oe,ie,ce,ue,be=j[Z],ye=null,se=239<be?4:223<be?3:191<be?2:1;if(Z+se<=G)switch(se){case 1:be<128&&(ye=be);break;case 2:(192&(oe=j[Z+1]))==128&&127<(ue=(31&be)<<6|63&oe)&&(ye=ue);break;case 3:oe=j[Z+1],ie=j[Z+2],(192&oe)==128&&(192&ie)==128&&2047<(ue=(15&be)<<12|(63&oe)<<6|63&ie)&&(ue<55296||57343<ue)&&(ye=ue);break;case 4:oe=j[Z+1],ie=j[Z+2],ce=j[Z+3],(192&oe)==128&&(192&ie)==128&&(192&ce)==128&&65535<(ue=(15&be)<<18|(63&oe)<<12|(63&ie)<<6|63&ce)&&ue<1114112&&(ye=ue)}ye===null?(ye=65533,se=1):65535<ye&&(ye-=65536,N.push(ye>>>10&1023|55296),ye=56320|1023&ye),N.push(ye),Z+=se}var xe=N,Se=xe.length;if(Se<=M)return String.fromCharCode.apply(String,xe);for(var Ie="",Me=0;Me<Se;)Ie+=String.fromCharCode.apply(String,xe.slice(Me,Me+=M));return Ie}T(w,"_"),k.kMaxLength=m,(r.TYPED_ARRAY_SUPPORT=function(){try{var j=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(j,L),j.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=s,Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(j,L,G){return L=L,G=G,l(j=j),!(j<=0)&&L!==void 0?typeof G=="string"?f(j).fill(L,G):f(j).fill(L):f(j)},r.allocUnsafe=i,r.allocUnsafeSlow=i,r.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==r.prototype},r.compare=function(j,L){if(W(j,Uint8Array)&&(j=r.from(j,j.offset,j.byteLength)),W(L,Uint8Array)&&(L=r.from(L,L.offset,L.byteLength)),!r.isBuffer(j)||!r.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===L)return 0;for(var G=j.length,N=L.length,Z=0,oe=Math.min(G,N);Z<oe;++Z)if(j[Z]!==L[Z]){G=j[Z],N=L[Z];break}return G<N?-1:N<G?1:0},r.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(j,L){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return r.alloc(0);if(L===void 0)for(Z=L=0;Z<j.length;++Z)L+=j[Z].length;for(var G=r.allocUnsafe(L),N=0,Z=0;Z<j.length;++Z){var oe=j[Z];if(W(oe,Uint8Array)&&(oe=r.from(oe)),!r.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(G,N),N+=oe.length}return G},r.byteLength=a,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<j;L+=2)c(this,L,L+1);return this},r.prototype.swap32=function(){var j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<j;L+=4)c(this,L,L+3),c(this,L+1,L+2);return this},r.prototype.swap64=function(){var j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<j;L+=8)c(this,L,L+7),c(this,L+1,L+6),c(this,L+2,L+5),c(this,L+3,L+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var j=this.length;return j===0?"":arguments.length===0?w(this,0,j):o.apply(this,arguments)},r.prototype.equals=function(j){if(r.isBuffer(j))return this===j||r.compare(this,j)===0;throw new TypeError("Argument must be a Buffer")},r.prototype.inspect=function(){var L="",j=k.INSPECT_MAX_BYTES,L=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim();return this.length>j&&(L+=" ... "),"<Buffer "+L+">"},h&&(r.prototype[h]=r.prototype.inspect),r.prototype.compare=function(j,L,G,N,Z){if(W(j,Uint8Array)&&(j=r.from(j,j.offset,j.byteLength)),!r.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(G===void 0&&(G=j?j.length:0),N===void 0&&(N=0),Z===void 0&&(Z=this.length),(L=L===void 0?0:L)<0||G>j.length||N<0||Z>this.length)throw new RangeError("out of range index");if(Z<=N&&G<=L)return 0;if(Z<=N)return-1;if(G<=L)return 1;if(this===j)return 0;for(var oe=(Z>>>=0)-(N>>>=0),ie=(G>>>=0)-(L>>>=0),ce=Math.min(oe,ie),ue=this.slice(N,Z),be=j.slice(L,G),ye=0;ye<ce;++ye)if(ue[ye]!==be[ye]){oe=ue[ye],ie=be[ye];break}return oe<ie?-1:ie<oe?1:0},r.prototype.includes=function(j,L,G){return this.indexOf(j,L,G)!==-1},r.prototype.indexOf=function(j,L,G){return y(this,j,L,G,!0)},r.prototype.lastIndexOf=function(j,L,G){return y(this,j,L,G,!1)},r.prototype.write=function(j,L,G,N){if(L===void 0)N="utf8",G=this.length,L=0;else if(G===void 0&&typeof L=="string")N=L,G=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(G)?(G>>>=0,N===void 0&&(N="utf8")):(N=G,G=void 0)}var Z=this.length-L;if((G===void 0||Z<G)&&(G=Z),0<j.length&&(G<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");N=N||"utf8";for(var oe,ie,ce,ue=!1;;)switch(N){case"hex":var be=this,ye=j,se=L,xe=G,Se=(se=Number(se)||0,be.length-se);(!xe||Se<(xe=Number(xe)))&&(xe=Se),(Se=ye.length)/2<xe&&(xe=Se/2);for(var Ie=0;Ie<xe;++Ie){var Me=parseInt(ye.substr(2*Ie,2),16);if(Q(Me))return Ie;be[se+Ie]=Me}return Ie;case"utf8":case"utf-8":return Se=L,ce=G,P(U(j,(ie=this).length-Se),ie,Se,ce);case"ascii":return x(this,j,L,G);case"latin1":case"binary":return x(this,j,L,G);case"base64":return ie=this,ce=L,oe=G,P(z(j),ie,ce,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,j,L,G);default:if(ue)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),ue=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function E(j,L,G){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(G<j+L)throw new RangeError("Trying to access beyond buffer length")}T(E,"S");function A(j,L,G,N,Z,oe){if(!r.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z<L||L<oe)throw new RangeError('"value" argument is out of bounds');if(G+N>j.length)throw new RangeError("Index out of range")}T(A,"A");function C(j,L,G,N){if(G+N>j.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}T(C,"E");function I(j,L,G,N,Z){return L=+L,G>>>=0,Z||C(j,0,G,4),d.write(j,L,G,N,23,4),G+4}T(I,"D");function F(j,L,G,N,Z){return L=+L,G>>>=0,Z||C(j,0,G,8),d.write(j,L,G,N,52,8),G+8}T(F,"F"),r.prototype.slice=function(j,L){var G=this.length,G=((j=~~j)<0?(j+=G)<0&&(j=0):G<j&&(j=G),(L=L===void 0?G:~~L)<0?(L+=G)<0&&(L=0):G<L&&(L=G),L<j&&(L=j),this.subarray(j,L));return Object.setPrototypeOf(G,r.prototype),G},r.prototype.readUIntLE=function(j,L,G){j>>>=0,L>>>=0,G||E(j,L,this.length);for(var N=this[j],Z=1,oe=0;++oe<L&&(Z*=256);)N+=this[j+oe]*Z;return N},r.prototype.readUIntBE=function(j,L,G){j>>>=0,L>>>=0,G||E(j,L,this.length);for(var N=this[j+--L],Z=1;0<L&&(Z*=256);)N+=this[j+--L]*Z;return N},r.prototype.readUInt8=function(j,L){return j>>>=0,L||E(j,1,this.length),this[j]},r.prototype.readUInt16LE=function(j,L){return j>>>=0,L||E(j,2,this.length),this[j]|this[j+1]<<8},r.prototype.readUInt16BE=function(j,L){return j>>>=0,L||E(j,2,this.length),this[j]<<8|this[j+1]},r.prototype.readUInt32LE=function(j,L){return j>>>=0,L||E(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},r.prototype.readUInt32BE=function(j,L){return j>>>=0,L||E(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},r.prototype.readIntLE=function(j,L,G){j>>>=0,L>>>=0,G||E(j,L,this.length);for(var N=this[j],Z=1,oe=0;++oe<L&&(Z*=256);)N+=this[j+oe]*Z;return(Z*=128)<=N&&(N-=Math.pow(2,8*L)),N},r.prototype.readIntBE=function(j,L,G){j>>>=0,L>>>=0,G||E(j,L,this.length);for(var N=L,Z=1,oe=this[j+--N];0<N&&(Z*=256);)oe+=this[j+--N]*Z;return(Z*=128)<=oe&&(oe-=Math.pow(2,8*L)),oe},r.prototype.readInt8=function(j,L){return j>>>=0,L||E(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},r.prototype.readInt16LE=function(j,L){return j>>>=0,L||E(j,2,this.length),L=this[j]|this[j+1]<<8,32768&L?4294901760|L:L},r.prototype.readInt16BE=function(j,L){return j>>>=0,L||E(j,2,this.length),L=this[j+1]|this[j]<<8,32768&L?4294901760|L:L},r.prototype.readInt32LE=function(j,L){return j>>>=0,L||E(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},r.prototype.readInt32BE=function(j,L){return j>>>=0,L||E(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},r.prototype.readFloatLE=function(j,L){return j>>>=0,L||E(j,4,this.length),d.read(this,j,!0,23,4)},r.prototype.readFloatBE=function(j,L){return j>>>=0,L||E(j,4,this.length),d.read(this,j,!1,23,4)},r.prototype.readDoubleLE=function(j,L){return j>>>=0,L||E(j,8,this.length),d.read(this,j,!0,52,8)},r.prototype.readDoubleBE=function(j,L){return j>>>=0,L||E(j,8,this.length),d.read(this,j,!1,52,8)},r.prototype.writeUIntLE=function(j,L,G,N){j=+j,L>>>=0,G>>>=0,N||A(this,j,L,G,Math.pow(2,8*G)-1,0);var Z=1,oe=0;for(this[L]=255&j;++oe<G&&(Z*=256);)this[L+oe]=j/Z&255;return L+G},r.prototype.writeUIntBE=function(j,L,G,N){j=+j,L>>>=0,G>>>=0,N||A(this,j,L,G,Math.pow(2,8*G)-1,0);var Z=G-1,oe=1;for(this[L+Z]=255&j;0<=--Z&&(oe*=256);)this[L+Z]=j/oe&255;return L+G},r.prototype.writeUInt8=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,1,255,0),this[L]=255&j,L+1},r.prototype.writeUInt16LE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,2,65535,0),this[L]=255&j,this[L+1]=j>>>8,L+2},r.prototype.writeUInt16BE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,2,65535,0),this[L]=j>>>8,this[L+1]=255&j,L+2},r.prototype.writeUInt32LE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,4,4294967295,0),this[L+3]=j>>>24,this[L+2]=j>>>16,this[L+1]=j>>>8,this[L]=255&j,L+4},r.prototype.writeUInt32BE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,4,4294967295,0),this[L]=j>>>24,this[L+1]=j>>>16,this[L+2]=j>>>8,this[L+3]=255&j,L+4},r.prototype.writeIntLE=function(j,L,G,N){j=+j,L>>>=0,N||A(this,j,L,G,(N=Math.pow(2,8*G-1))-1,-N);var Z=0,oe=1,ie=0;for(this[L]=255&j;++Z<G&&(oe*=256);)j<0&&ie===0&&this[L+Z-1]!==0&&(ie=1),this[L+Z]=(j/oe>>0)-ie&255;return L+G},r.prototype.writeIntBE=function(j,L,G,N){j=+j,L>>>=0,N||A(this,j,L,G,(N=Math.pow(2,8*G-1))-1,-N);var Z=G-1,oe=1,ie=0;for(this[L+Z]=255&j;0<=--Z&&(oe*=256);)j<0&&ie===0&&this[L+Z+1]!==0&&(ie=1),this[L+Z]=(j/oe>>0)-ie&255;return L+G},r.prototype.writeInt8=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,1,127,-128),this[L]=255&(j=j<0?255+j+1:j),L+1},r.prototype.writeInt16LE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,2,32767,-32768),this[L]=255&j,this[L+1]=j>>>8,L+2},r.prototype.writeInt16BE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,2,32767,-32768),this[L]=j>>>8,this[L+1]=255&j,L+2},r.prototype.writeInt32LE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,4,2147483647,-2147483648),this[L]=255&j,this[L+1]=j>>>8,this[L+2]=j>>>16,this[L+3]=j>>>24,L+4},r.prototype.writeInt32BE=function(j,L,G){return j=+j,L>>>=0,G||A(this,j,L,4,2147483647,-2147483648),this[L]=(j=j<0?4294967295+j+1:j)>>>24,this[L+1]=j>>>16,this[L+2]=j>>>8,this[L+3]=255&j,L+4},r.prototype.writeFloatLE=function(j,L,G){return I(this,j,L,!0,G)},r.prototype.writeFloatBE=function(j,L,G){return I(this,j,L,!1,G)},r.prototype.writeDoubleLE=function(j,L,G){return F(this,j,L,!0,G)},r.prototype.writeDoubleBE=function(j,L,G){return F(this,j,L,!1,G)},r.prototype.copy=function(j,L,G,N){if(!r.isBuffer(j))throw new TypeError("argument should be a Buffer");if(G=G||0,N||N===0||(N=this.length),L>=j.length&&(L=j.length),(N=0<N&&N<G?G:N)===G||j.length===0||this.length===0)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length);var Z=(N=j.length-L<N-G?j.length-L+G:N)-G;if(this===j&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,G,N);else if(this===j&&G<L&&L<N)for(var oe=Z-1;0<=oe;--oe)j[oe+L]=this[oe+G];else Uint8Array.prototype.set.call(j,this.subarray(G,N),L);return Z},r.prototype.fill=function(j,L,G,N){if(typeof j=="string"){if(typeof L=="string"?(N=L,L=0,G=this.length):typeof G=="string"&&(N=G,G=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!r.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var Z;j.length===1&&(Z=j.charCodeAt(0),(N==="utf8"&&Z<128||N==="latin1")&&(j=Z))}else typeof j=="number"?j&=255:typeof j=="boolean"&&(j=Number(j));if(L<0||this.length<L||this.length<G)throw new RangeError("Out of range index");var oe;if(!(G<=L))if(L>>>=0,G=G===void 0?this.length:G>>>0,typeof(j=j||0)=="number")for(oe=L;oe<G;++oe)this[oe]=j;else{var ie=r.isBuffer(j)?j:r.from(j,N),ce=ie.length;if(ce===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(oe=0;oe<G-L;++oe)this[oe+L]=ie[oe%ce]}return this};var R=/[^+/0-9A-Za-z-_]/g;function U(j,L){L=L||1/0;for(var G,N=j.length,Z=null,oe=[],ie=0;ie<N;++ie){if(55295<(G=j.charCodeAt(ie))&&G<57344){if(!Z){if(56319<G){-1<(L-=3)&&oe.push(239,191,189);continue}if(ie+1===N){-1<(L-=3)&&oe.push(239,191,189);continue}Z=G;continue}if(G<56320){-1<(L-=3)&&oe.push(239,191,189),Z=G;continue}G=65536+(Z-55296<<10|G-56320)}else Z&&-1<(L-=3)&&oe.push(239,191,189);if(Z=null,G<128){if(--L<0)break;oe.push(G)}else if(G<2048){if((L-=2)<0)break;oe.push(G>>6|192,63&G|128)}else if(G<65536){if((L-=3)<0)break;oe.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;oe.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return oe}T(U,"z");function z(j){return p.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(j))}T(z,"U");function P(j,L,G,N){for(var Z=0;Z<N&&!(Z+G>=L.length||Z>=j.length);++Z)L[Z+G]=j[Z];return Z}T(P,"N");function W(j,L){return j instanceof L||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===L.name}T(W,"q");function Q(j){return j!=j}T(Q,"X");var ae=function(){for(var j="0123456789abcdef",L=new Array(256),G=0;G<16;++G)for(var N=16*G,Z=0;Z<16;++Z)L[N+Z]=j[G]+j[Z];return L}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(t,Y,k){Y.exports=function(v){if(typeof v!="function")throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(t,Y,k){var v=t("../internals/is-object");Y.exports=function(p){if(v(p)||p===null)return p;throw TypeError("Can't set "+String(p)+" as a prototype")}},{"../internals/is-object":74}],7:[function(d,Y,k){var v=d("../internals/well-known-symbol"),p=d("../internals/object-create"),d=d("../internals/object-define-property"),h=v("unscopables"),m=Array.prototype;m[h]==null&&d.f(m,h,{configurable:!0,value:p(null)}),Y.exports=function(f){m[h][f]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,Y,k){"use strict";var v=t("../internals/string-multibyte").charAt;Y.exports=function(p,d,h){return d+(h?v(p,d).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,Y,k){Y.exports=function(v,p,d){if(v instanceof p)return v;throw TypeError("Incorrect "+(d?d+" ":"")+"invocation")}},{}],10:[function(t,Y,k){var v=t("../internals/is-object");Y.exports=function(p){if(v(p))return p;throw TypeError(String(p)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,Y,k){Y.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(C,Y,k){"use strict";function v(F){return f(F)&&r(I,s(F))}T(v,"m");var p,d=C("../internals/array-buffer-native"),h=C("../internals/descriptors"),m=C("../internals/global"),f=C("../internals/is-object"),r=C("../internals/has"),s=C("../internals/classof"),l=C("../internals/create-non-enumerable-property"),i=C("../internals/redefine"),n=C("../internals/object-define-property").f,u=C("../internals/object-get-prototype-of"),a=C("../internals/object-set-prototype-of"),M=C("../internals/well-known-symbol"),C=C("../internals/uid"),o=m.Int8Array,c=o&&o.prototype,y=m.Uint8ClampedArray,y=y&&y.prototype,_=o&&u(o),x=c&&u(c),b=Object.prototype,w=b.isPrototypeOf,M=M("toStringTag"),E=C("TYPED_ARRAY_TAG"),A=d&&!!a&&s(m.opera)!=="Opera",C=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(p in I)m[p]||(A=!1);if((!A||typeof _!="function"||_===Function.prototype)&&(_=T(function(){throw TypeError("Incorrect invocation")},"M"),A))for(p in I)m[p]&&a(m[p],_);if((!A||!x||x===b)&&(x=_.prototype,A))for(p in I)m[p]&&a(m[p].prototype,x);if(A&&u(y)!==x&&a(y,x),h&&!r(x,M))for(p in C=!0,n(x,M,{get:function(){return f(this)?this[E]:void 0}}),I)m[p]&&l(m[p],E,p);Y.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:C&&E,aTypedArray:function(F){if(v(F))return F;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(F){if(a){if(w.call(_,F))return F}else for(var R in I)if(r(I,p)&&(R=m[R],R&&(F===R||w.call(R,F))))return F;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(F,R,U){if(h){if(U)for(var z in I)z=m[z],z&&r(z.prototype,F)&&delete z.prototype[F];x[F]&&!U||i(x,F,!U&&A&&c[F]||R)}},exportTypedArrayStaticMethod:function(F,R,U){var z,P;if(h){if(a){if(U)for(z in I)(P=m[z])&&r(P,F)&&delete P[F];if(_[F]&&!U)return;try{return i(_,F,!U&&A&&o[F]||R)}catch{}}for(z in I)!(P=m[z])||P[F]&&!U||i(P,F,R)}},isView:function(F){return F=s(F),F==="DataView"||r(I,F)},isTypedArray:v,TypedArray:_,TypedArrayPrototype:x}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(G,Y,k){"use strict";function v(se){return[255&se]}T(v,"m");function p(se){return[255&se,se>>8&255]}T(p,"p");function d(se){return[255&se,se>>8&255,se>>16&255,se>>24&255]}T(d,"i");function h(se){return se[3]<<24|se[2]<<16|se[1]<<8|se[0]}T(h,"f");function m(se){return oe(se,23,4)}T(m,"y");function f(se){return oe(se,52,8)}T(f,"g");function r(se,xe){C(se[W],xe,{get:function(){return R(this)[xe]}})}T(r,"r");function s(we,xe,q,Ie){if(q=b(q),we=R(we),q+xe>we.byteLength)throw Z(Q);var Me=R(we.buffer).bytes,q=q+we.byteOffset,we=Me.slice(q,q+xe);return Ie?we:we.reverse()}T(s,"a");function l(se,xe,Se,Ie,Me,q){if(Se=b(Se),se=R(se),Se+xe>se.byteLength)throw Z(Q);for(var we=R(se.buffer).bytes,ve=Se+se.byteOffset,re=Ie(+Me),fe=0;fe<xe;fe++)we[ve+fe]=re[q?fe:xe-fe-1]}T(l,"s");var i=G("../internals/global"),n=G("../internals/descriptors"),u=G("../internals/array-buffer-native"),a=G("../internals/create-non-enumerable-property"),o=G("../internals/redefine-all"),c=G("../internals/fails"),y=G("../internals/an-instance"),_=G("../internals/to-integer"),x=G("../internals/to-length"),b=G("../internals/to-index"),w=G("../internals/ieee754"),M=G("../internals/object-get-prototype-of"),E=G("../internals/object-set-prototype-of"),A=G("../internals/object-get-own-property-names").f,C=G("../internals/object-define-property").f,I=G("../internals/array-fill"),F=G("../internals/set-to-string-tag"),G=G("../internals/internal-state"),R=G.get,U=G.set,z="ArrayBuffer",P="DataView",W="prototype",Q="Wrong index",ae=i[z],j=ae,L=i[P],G=L&&L[W],N=Object.prototype,Z=i.RangeError,oe=w.pack,ie=w.unpack;if(u){if(!c(function(){ae(1)})||!c(function(){new ae(-1)})||c(function(){return new ae,new ae(1.5),new ae(NaN),ae.name!=z})){for(var ce,i=(j=T(function(Se){return y(this,j),new ae(b(Se))},"j"))[W]=ae[W],ue=A(ae),be=0;ue.length>be;)(ce=ue[be++])in j||a(j,ce,ae[ce]);i.constructor=j}E&&M(G)!==N&&E(G,N);var w=new L(new j(2)),ye=G.setInt8;w.setInt8(0,2147483648),w.setInt8(1,2147483649),!w.getInt8(0)&&w.getInt8(1)||o(G,{setInt8:function(xe,Se){ye.call(this,xe,Se<<24>>24)},setUint8:function(xe,Se){ye.call(this,xe,Se<<24>>24)}},{unsafe:!0})}else j=T(function(se){y(this,j,z),se=b(se),U(this,{bytes:I.call(new Array(se),0),byteLength:se}),n||(this.byteLength=se)},"j"),L=T(function(se,Me,Se){y(this,L,P),y(se,j,P);var Ie=R(se).byteLength,Me=_(Me);if(Me<0||Ie<Me)throw Z("Wrong offset");if(Ie<Me+(Se=Se===void 0?Ie-Me:x(Se)))throw Z("Wrong length");U(this,{buffer:se,byteLength:Se,byteOffset:Me}),n||(this.buffer=se,this.byteLength=Se,this.byteOffset=Me)},"O"),n&&(r(j,"byteLength"),r(L,"buffer"),r(L,"byteLength"),r(L,"byteOffset")),o(L[W],{getInt8:function(se){return s(this,1,se)[0]<<24>>24},getUint8:function(se){return s(this,1,se)[0]},getInt16:function(se){return se=s(this,2,se,1<arguments.length?arguments[1]:void 0),(se[1]<<8|se[0])<<16>>16},getUint16:function(se){return se=s(this,2,se,1<arguments.length?arguments[1]:void 0),se[1]<<8|se[0]},getInt32:function(se){return h(s(this,4,se,1<arguments.length?arguments[1]:void 0))},getUint32:function(se){return h(s(this,4,se,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(se){return ie(s(this,4,se,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(se){return ie(s(this,8,se,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(se,xe){l(this,1,se,v,xe)},setUint8:function(se,xe){l(this,1,se,v,xe)},setInt16:function(se,xe){l(this,2,se,p,xe,2<arguments.length?arguments[2]:void 0)},setUint16:function(se,xe){l(this,2,se,p,xe,2<arguments.length?arguments[2]:void 0)},setInt32:function(se,xe){l(this,4,se,d,xe,2<arguments.length?arguments[2]:void 0)},setUint32:function(se,xe){l(this,4,se,d,xe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(se,xe){l(this,4,se,m,xe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(se,xe){l(this,8,se,f,xe,2<arguments.length?arguments[2]:void 0)}});F(j,z),F(L,P),Y.exports={ArrayBuffer:j,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,Y,k){"use strict";var v=t("../internals/to-object"),p=t("../internals/to-absolute-index"),d=t("../internals/to-length"),h=Math.min;Y.exports=[].copyWithin||function(n,f){var r=v(this),s=d(r.length),l=p(n,s),i=p(f,s),n=2<arguments.length?arguments[2]:void 0,u=h((n===void 0?s:p(n,s))-i,s-l),a=1;for(i<l&&l<i+u&&(a=-1,i+=u-1,l+=u-1);0<u--;)i in r?r[l]=r[i]:delete r[l],l+=a,i+=a;return r}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,Y,k){"use strict";var v=t("../internals/to-object"),p=t("../internals/to-absolute-index"),d=t("../internals/to-length");Y.exports=function(h){for(var m=v(this),f=d(m.length),s=arguments.length,r=p(1<s?arguments[1]:void 0,f),s=2<s?arguments[2]:void 0,l=s===void 0?f:p(s,f);r<l;)m[r++]=h;return m}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(d,Y,k){"use strict";var v=d("../internals/array-iteration").forEach,p=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),p=p("forEach"),d=d("forEach");Y.exports=p&&d?[].forEach:function(h){return v(this,h,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,Y,k){"use strict";var v=t("../internals/function-bind-context"),p=t("../internals/to-object"),d=t("../internals/call-with-safe-iteration-closing"),h=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),f=t("../internals/create-property"),r=t("../internals/get-iterator-method");Y.exports=function(y){var l,i,n,u,a,o,c=p(y),y=typeof this=="function"?this:Array,_=arguments.length,x=1<_?arguments[1]:void 0,b=x!==void 0,w=r(c),M=0;if(b&&(x=v(x,2<_?arguments[2]:void 0,2)),w==null||y==Array&&h(w))for(i=new y(l=m(c.length));M<l;M++)o=b?x(c[M],M):c[M],f(i,M,o);else for(a=(u=w.call(c)).next,i=new y;!(n=a.call(u)).done;M++)o=b?d(u,x,[n.value,M],!0):n.value,f(i,M,o);return i.length=M,i}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,Y,k){function v(m){return function(f,r,s){var l,i=p(f),n=d(i.length),u=h(s,n);if(m&&r!=r){for(;u<n;)if((l=i[u++])!=l)return!0}else for(;u<n;u++)if((m||u in i)&&i[u]===r)return m||u||0;return!m&&-1}}T(v,"m");var p=t("../internals/to-indexed-object"),d=t("../internals/to-length"),h=t("../internals/to-absolute-index");Y.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,Y,k){function v(s){var l=s==1,i=s==2,n=s==3,u=s==4,a=s==6,o=s==5||a;return function(c,y,_,x){for(var b,w,M=h(c),E=d(M),A=p(y,_,3),C=m(E.length),I=0,y=x||f,F=l?y(c,C):i?y(c,0):void 0;I<C;I++)if((o||I in E)&&(w=A(b=E[I],I,M),s)){if(l)F[I]=w;else if(w)switch(s){case 3:return!0;case 5:return b;case 6:return I;case 2:r.call(F,b)}else if(u)return!1}return a?-1:n||u?u:F}}T(v,"m");var p=t("../internals/function-bind-context"),d=t("../internals/indexed-object"),h=t("../internals/to-object"),m=t("../internals/to-length"),f=t("../internals/array-species-create"),r=[].push;Y.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(s,Y,k){"use strict";var v=s("../internals/to-indexed-object"),p=s("../internals/to-integer"),d=s("../internals/to-length"),r=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),h=Math.min,m=[].lastIndexOf,f=!!m&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),s=s("indexOf",{ACCESSORS:!0,1:0});Y.exports=f||!r||!s?function(l){if(f)return m.apply(this,arguments)||0;var i=v(this),n=d(i.length),u=n-1;for((u=1<arguments.length?h(u,p(arguments[1])):u)<0&&(u=n+u);0<=u;u--)if(u in i&&i[u]===l)return u||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,Y,k){var v=t("../internals/fails"),p=t("../internals/well-known-symbol"),d=t("../internals/engine-v8-version"),h=p("species");Y.exports=function(m){return 51<=d||!v(function(){var f=[];return(f.constructor={})[h]=function(){return{foo:1}},f[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,Y,k){"use strict";var v=t("../internals/fails");Y.exports=function(p,d){var h=[][p];return!!h&&v(function(){h.call(null,d||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,Y,k){function v(r){throw r}T(v,"m");var p=t("../internals/descriptors"),d=t("../internals/fails"),h=t("../internals/has"),m=Object.defineProperty,f={};Y.exports=function(r,s){var l,i,n,u;return h(f,r)?f[r]:(l=[][r],i=!!h(s=s||{},"ACCESSORS")&&s.ACCESSORS,n=h(s,0)?s[0]:v,u=h(s,1)?s[1]:void 0,f[r]=!!l&&!d(function(){if(i&&!p)return!0;var a={length:-1};i?m(a,1,{enumerable:!0,get:v}):a[1]=1,l.call(a,n,u)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,Y,k){function v(f){return function(r,s,l,i){p(s);var n=d(r),u=h(n),a=m(n.length),o=f?a-1:0,c=f?-1:1;if(l<2)for(;;){if(o in u){i=u[o],o+=c;break}if(o+=c,f?o<0:a<=o)throw TypeError("Reduce of empty array with no initial value")}for(;f?0<=o:o<a;o+=c)o in u&&(i=s(i,u[o],o,n));return i}}T(v,"m");var p=t("../internals/a-function"),d=t("../internals/to-object"),h=t("../internals/indexed-object"),m=t("../internals/to-length");Y.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,Y,k){var v=t("../internals/is-object"),p=t("../internals/is-array"),d=t("../internals/well-known-symbol")("species");Y.exports=function(h,m){var f;return new((f=p(h)&&(typeof(f=h.constructor)=="function"&&(f===Array||p(f.prototype))||v(f)&&(f=f[d])===null)?void 0:f)===void 0?Array:f)(m===0?0:m)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,Y,k){var v=t("../internals/an-object");Y.exports=function(p,d,h,m){try{return m?d(v(h)[0],h[1]):d(h)}catch(f){throw m=p.return,m!==void 0&&v(m.call(p)),f}}},{"../internals/an-object":10}],27:[function(t,Y,k){var v=t("../internals/well-known-symbol")("iterator"),p=!1;try{var d=0,h={next:function(){return{done:!!d++}},return:function(){p=!0}};h[v]=function(){return this},Array.from(h,function(){throw 2})}catch{}Y.exports=function(m,f){if(!f&&!p)return!1;var r=!1;try{var s={};s[v]=function(){return{next:function(){return{done:r=!0}}}},m(s)}catch{}return r}},{"../internals/well-known-symbol":148}],28:[function(t,Y,k){var v={}.toString;Y.exports=function(p){return v.call(p).slice(8,-1)}},{}],29:[function(t,Y,k){var v=t("../internals/to-string-tag-support"),p=t("../internals/classof-raw"),d=t("../internals/well-known-symbol")("toStringTag"),h=p(function(){return arguments}())=="Arguments";Y.exports=v?p:function(m){var f;return m===void 0?"Undefined":m===null?"Null":typeof(f=function(r,s){try{return r[s]}catch{}}(m=Object(m),d))=="string"?f:h?p(m):(f=p(m))=="Object"&&typeof m.callee=="function"?"Arguments":f}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(n,Y,k){"use strict";var v=n("../internals/object-define-property").f,p=n("../internals/object-create"),d=n("../internals/redefine-all"),h=n("../internals/function-bind-context"),m=n("../internals/an-instance"),f=n("../internals/iterate"),r=n("../internals/define-iterator"),s=n("../internals/set-species"),l=n("../internals/descriptors"),i=n("../internals/internal-metadata").fastKey,n=n("../internals/internal-state"),u=n.set,a=n.getterFor;Y.exports={getConstructor:function(o,c,y,_){function x(E,A,C){var I,F=M(E),R=b(E,A);return R?R.value=C:(F.last=R={index:I=i(A,!0),key:A,value:C,previous:A=F.last,next:void 0,removed:!1},F.first||(F.first=R),A&&(A.next=R),l?F.size++:E.size++,I!=="F"&&(F.index[I]=R)),E}T(x,"T");function b(I,A){var C,I=M(I),F=i(A);if(F!=="F")return I.index[F];for(C=I.first;C;C=C.next)if(C.key==A)return C}T(b,"x");var w=o(function(E,A){m(E,w,c),u(E,{type:c,index:p(null),first:void 0,last:void 0,size:0}),l||(E.size=0),A!=null&&f(A,E[_],E,y)}),M=a(c);return d(w.prototype,{clear:function(){for(var E=M(this),A=E.index,C=E.first;C;)C.removed=!0,C.previous&&(C.previous=C.previous.next=void 0),delete A[C.index],C=C.next;E.first=E.last=void 0,l?E.size=0:this.size=0},delete:function(F){var A,C,I=M(this),F=b(this,F);return F&&(A=F.next,C=F.previous,delete I.index[F.index],F.removed=!0,C&&(C.next=A),A&&(A.previous=C),I.first==F&&(I.first=A),I.last==F&&(I.last=C),l?I.size--:this.size--),!!F},forEach:function(E){for(var A,C=M(this),I=h(E,1<arguments.length?arguments[1]:void 0,3);A=A?A.next:C.first;)for(I(A.value,A.key,this);A&&A.removed;)A=A.previous},has:function(E){return!!b(this,E)}}),d(w.prototype,y?{get:function(E){return E=b(this,E),E&&E.value},set:function(E,A){return x(this,E===0?0:E,A)}}:{add:function(E){return x(this,E=E===0?0:E,E)}}),l&&v(w.prototype,"size",{get:function(){return M(this).size}}),w},setStrong:function(o,c,y){var _=c+" Iterator",x=a(c),b=a(_);r(o,c,function(w,M){u(this,{type:_,target:w,state:x(w),kind:M,last:void 0})},function(){for(var w=b(this),M=w.kind,E=w.last;E&&E.removed;)E=E.previous;return w.target&&(w.last=E=E?E.next:w.state.first)?M=="keys"?{value:E.key,done:!1}:M=="values"?{value:E.value,done:!1}:{value:[E.key,E.value],done:!1}:{value:w.target=void 0,done:!0}},y?"entries":"values",!y,!0),s(c)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(u,Y,k){"use strict";function v(x){return x.frozen||(x.frozen=new p)}T(v,"m");function p(){this.entries=[]}T(p,"p");function d(x,b){return c(x.entries,function(w){return w[0]===b})}T(d,"i");var h=u("../internals/redefine-all"),m=u("../internals/internal-metadata").getWeakData,f=u("../internals/an-object"),r=u("../internals/is-object"),s=u("../internals/an-instance"),l=u("../internals/iterate"),i=u("../internals/array-iteration"),n=u("../internals/has"),u=u("../internals/internal-state"),a=u.set,o=u.getterFor,c=i.find,y=i.findIndex,_=0;p.prototype={get:function(x){if(x=d(this,x),x)return x[1]},has:function(x){return!!d(this,x)},set:function(x,b){var w=d(this,x);w?w[1]=b:this.entries.push([x,b])},delete:function(x){var b=y(this.entries,function(w){return w[0]===x});return~b&&this.entries.splice(b,1),!!~b}},Y.exports={getConstructor:function(x,b,w,M){function E(I,F,R){var U=C(I),z=m(f(F),!0);return z===!0?v(U).set(F,R):z[U.id]=R,I}T(E,"S");var A=x(function(I,F){s(I,A,b),a(I,{type:b,id:_++,frozen:void 0}),F!=null&&l(F,I[M],I,w)}),C=o(b);return h(A.prototype,{delete:function(I){var F,R=C(this);return!!r(I)&&((F=m(I))===!0?v(R).delete(I):F&&n(F,R.id)&&delete F[R.id])},has:function(I){var F,R=C(this);return!!r(I)&&((F=m(I))===!0?v(R).has(I):F&&n(F,R.id))}}),h(A.prototype,w?{get:function(I){var F,R=C(this);if(r(I))return(F=m(I))===!0?v(R).get(I):F?F[R.id]:void 0},set:function(I,F){return E(this,I,F)}}:{add:function(I){return E(this,I,!0)}}),A}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,Y,k){"use strict";var v=t("../internals/export"),p=t("../internals/global"),d=t("../internals/is-forced"),h=t("../internals/redefine"),m=t("../internals/internal-metadata"),f=t("../internals/iterate"),r=t("../internals/an-instance"),s=t("../internals/is-object"),l=t("../internals/fails"),i=t("../internals/check-correctness-of-iteration"),n=t("../internals/set-to-string-tag"),u=t("../internals/inherit-if-required");Y.exports=function(a,o,c){function y(z){var P=F[z];h(F,z,z=="add"?function(W){return P.call(this,W===0?0:W),this}:z=="delete"?function(W){return!(A&&!s(W))&&P.call(this,W===0?0:W)}:z=="get"?function(W){return A&&!s(W)?void 0:P.call(this,W===0?0:W)}:z=="has"?function(W){return!(A&&!s(W))&&P.call(this,W===0?0:W)}:function(W,Q){return P.call(this,W===0?0:W,Q),this})}T(y,"b");var _,x,b,w,M,E=a.indexOf("Map")!==-1,A=a.indexOf("Weak")!==-1,C=E?"set":"add",I=p[a],F=I&&I.prototype,R=I,U={};return d(a,typeof I!="function"||!(A||F.forEach&&!l(function(){new I().entries().next()})))?(R=c.getConstructor(o,a,E,C),m.REQUIRED=!0):d(a,!0)&&(x=(_=new R)[C](A?{}:-0,1)!=_,b=l(function(){_.has(1)}),w=i(function(z){new I(z)}),M=!A&&l(function(){for(var z=new I,P=5;P--;)z[C](P,P);return!z.has(-0)}),w||(((R=o(function(z,P){return r(z,R,a),z=u(new I,z,R),P!=null&&f(P,z[C],z,E),z})).prototype=F).constructor=R),(b||M)&&(y("delete"),y("has"),E&&y("get")),(M||x)&&y(C),A&&F.clear&&delete F.clear),U[a]=R,v({global:!0,forced:R!=I},U),n(R,a),A||c.setStrong(R,a,E),R}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,Y,k){var v=t("../internals/has"),p=t("../internals/own-keys"),d=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-define-property");Y.exports=function(m,f){for(var r=p(f),s=h.f,l=d.f,i=0;i<r.length;i++){var n=r[i];v(m,n)||s(m,n,l(f,n))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,Y,k){var v=t("../internals/well-known-symbol")("match");Y.exports=function(p){var d=/./;try{"/./"[p](d)}catch{try{return d[v]=!1,"/./"[p](d)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,Y,k){t=t("../internals/fails"),Y.exports=!t(function(){function v(){}return T(v,"m"),v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(t,Y,k){var v=t("../internals/require-object-coercible"),p=/"/g;Y.exports=function(r,h,m,f){var r=String(v(r)),s="<"+h;return m!==""&&(s+=" "+m+'="'+String(f).replace(p,"&quot;")+'"'),s+">"+r+"</"+h+">"}},{"../internals/require-object-coercible":113}],37:[function(t,Y,k){"use strict";function v(){return this}T(v,"m");var p=t("../internals/iterators-core").IteratorPrototype,d=t("../internals/object-create"),h=t("../internals/create-property-descriptor"),m=t("../internals/set-to-string-tag"),f=t("../internals/iterators");Y.exports=function(r,s,l){return s+=" Iterator",r.prototype=d(p,{next:h(1,l)}),m(r,s,!1,!0),f[s]=v,r}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,Y,k){var v=t("../internals/descriptors"),p=t("../internals/object-define-property"),d=t("../internals/create-property-descriptor");Y.exports=v?function(h,m,f){return p.f(h,m,d(1,f))}:function(h,m,f){return h[m]=f,h}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,Y,k){Y.exports=function(v,p){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:p}}},{}],40:[function(t,Y,k){"use strict";var v=t("../internals/to-primitive"),p=t("../internals/object-define-property"),d=t("../internals/create-property-descriptor");Y.exports=function(h,m,f){m=v(m),m in h?p.f(h,m,d(0,f)):h[m]=f}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(u,Y,k){"use strict";function v(){return this}T(v,"m");var p=u("../internals/export"),d=u("../internals/create-iterator-constructor"),h=u("../internals/object-get-prototype-of"),m=u("../internals/object-set-prototype-of"),f=u("../internals/set-to-string-tag"),r=u("../internals/create-non-enumerable-property"),s=u("../internals/redefine"),l=u("../internals/well-known-symbol"),i=u("../internals/is-pure"),n=u("../internals/iterators"),u=u("../internals/iterators-core"),a=u.IteratorPrototype,o=u.BUGGY_SAFARI_ITERATORS,c=l("iterator"),y="values",_="entries";Y.exports=function(x,b,w,U,E,A,C){d(w,b,U);function I(j){if(j===E&&Q)return Q;if(!o&&j in P)return P[j];switch(j){case"keys":case y:case _:return function(){return new w(this,j)}}return function(){return new w(this)}}T(I,"D");var F,R,U=b+" Iterator",z=!1,P=x.prototype,W=P[c]||P["@@iterator"]||E&&P[E],Q=!o&&W||I(E),ae=b=="Array"&&P.entries||W;if(ae&&(ae=h(ae.call(new x)),a!==Object.prototype&&ae.next&&(i||h(ae)===a||(m?m(ae,a):typeof ae[c]!="function"&&r(ae,c,v)),f(ae,U,!0,!0),i&&(n[U]=v))),E==y&&W&&W.name!==y&&(z=!0,Q=T(function(){return W.call(this)},"X")),i&&!C||P[c]===Q||r(P,c,Q),n[b]=Q,E)if(F={values:I(y),keys:A?Q:I("keys"),entries:I(_)},C)for(R in F)!o&&!z&&R in P||s(P,R,F[R]);else p({target:b,proto:!0,forced:o||z},F);return F}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,Y,k){var v=t("../internals/path"),p=t("../internals/has"),d=t("../internals/well-known-symbol-wrapped"),h=t("../internals/object-define-property").f;Y.exports=function(m){var f=v.Symbol||(v.Symbol={});p(f,m)||h(f,m,{value:d.f(m)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,Y,k){t=t("../internals/fails"),Y.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(p,Y,k){var v=p("../internals/global"),p=p("../internals/is-object"),d=v.document,h=p(d)&&p(d.createElement);Y.exports=function(m){return h?d.createElement(m):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,Y,k){Y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,Y,k){t=t("../internals/engine-user-agent"),Y.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,Y,k){t=t("../internals/get-built-in"),Y.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(d,Y,k){var v,p,h=d("../internals/global"),d=d("../internals/engine-user-agent"),h=h.process,h=h&&h.versions,h=h&&h.v8;h?p=(v=h.split("."))[0]+v[1]:d&&(!(v=d.match(/Edge\/(\d+)/))||74<=v[1])&&(v=d.match(/Chrome\/(\d+)/))&&(p=v[1]),Y.exports=p&&+p},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,Y,k){Y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,Y,k){var v=t("../internals/global"),p=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),m=t("../internals/set-global"),f=t("../internals/copy-constructor-properties"),r=t("../internals/is-forced");Y.exports=function(s,l){var i,n,u,a=s.target,o=s.global,c=s.stat,y=o?v:c?v[a]||m(a,{}):(v[a]||{}).prototype;if(y)for(i in l){if(n=l[i],u=s.noTargetGet?(u=p(y,i))&&u.value:y[i],!r(o?i:a+(c?".":"#")+i,s.forced)&&u!==void 0){if(typeof n==typeof u)continue;f(n,u)}(s.sham||u&&u.sham)&&d(n,"sham",!0),h(y,i,n,s)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,Y,k){Y.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(l,Y,k){"use strict";l("../modules/es.regexp.exec");var v=l("../internals/redefine"),p=l("../internals/fails"),d=l("../internals/well-known-symbol"),h=l("../internals/regexp-exec"),m=l("../internals/create-non-enumerable-property"),f=d("species"),r=!p(function(){var u=/./;return u.exec=function(){var a=[];return a.groups={a:"7"},a},"".replace(u,"$<a>")!=="7"}),s="a".replace(/./,"$0")==="$0",l=d("replace"),i=!!/./[l]&&/./[l]("a","$0")==="",n=!p(function(){var a=/(?:)/,u=a.exec,a=(a.exec=function(){return u.apply(this,arguments)},"ab".split(a));return a.length!==2||a[0]!=="a"||a[1]!=="b"});Y.exports=function(u,a,o,c){var y,_,x=d(u),b=!p(function(){var M={};return M[x]=function(){return 7},""[u](M)!=7}),w=b&&!p(function(){var M=!1,E=/a/;return u==="split"&&((E={constructor:{}}).constructor[f]=function(){return E},E.flags="",E[x]=/./[x]),E.exec=function(){return M=!0,null},E[x](""),!M});b&&w&&(u!=="replace"||r&&s&&!i)&&(u!=="split"||n)||(y=/./[x],o=(w=o(x,""[u],function(M,E,A,C,I){return E.exec===h?b&&!I?{done:!0,value:y.call(E,A,C)}:{done:!0,value:M.call(A,E,C)}:{done:!1}},{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}))[0],_=w[1],v(String.prototype,u,o),v(RegExp.prototype,x,a==2?function(M,E){return _.call(M,this,E)}:function(M){return _.call(M,this)})),c&&m(RegExp.prototype[x],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(t,Y,k){t=t("../internals/fails"),Y.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,Y,k){var v=t("../internals/a-function");Y.exports=function(p,d,h){if(v(p),d===void 0)return p;switch(h){case 0:return function(){return p.call(d)};case 1:return function(m){return p.call(d,m)};case 2:return function(m,f){return p.call(d,m,f)};case 3:return function(m,f,r){return p.call(d,m,f,r)}}return function(){return p.apply(d,arguments)}}},{"../internals/a-function":5}],55:[function(t,Y,k){"use strict";var v=t("../internals/a-function"),p=t("../internals/is-object"),d=[].slice,h={};Y.exports=Function.bind||function(m){var f=v(this),r=d.call(arguments,1),s=T(function(){var l=r.concat(d.call(arguments));if(this instanceof s){var i=f,n=l.length,u=l;if(!(n in h)){for(var a=[],o=0;o<n;o++)a[o]="a["+o+"]";h[n]=Function("C,a","return new C("+a.join(",")+")")}return h[n](i,u)}return f.apply(m,l)},"a");return p(f.prototype)&&(s.prototype=f.prototype),s}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,Y,k){function v(h){return typeof h=="function"?h:void 0}T(v,"m");var p=t("../internals/path"),d=t("../internals/global");Y.exports=function(h,m){return arguments.length<2?v(p[h])||v(d[h]):p[h]&&p[h][m]||d[h]&&d[h][m]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,Y,k){var v=t("../internals/classof"),p=t("../internals/iterators"),d=t("../internals/well-known-symbol")("iterator");Y.exports=function(h){if(h!=null)return h[d]||h["@@iterator"]||p[v(h)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,Y,k){var v=t("../internals/an-object"),p=t("../internals/get-iterator-method");Y.exports=function(d){var h=p(d);if(typeof h!="function")throw TypeError(String(d)+" is not iterable");return v(h.call(d))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,Y,k){(function(v){function p(d){return d&&d.Math==Math&&d}T(p,"p"),Y.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof v=="object"&&v)||Function("return this")()}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,Y,k){var v={}.hasOwnProperty;Y.exports=function(p,d){return v.call(p,d)}},{}],61:[function(t,Y,k){Y.exports={}},{}],62:[function(t,Y,k){var v=t("../internals/global");Y.exports=function(p,d){var h=v.console;h&&h.error&&(arguments.length===1?h.error(p):h.error(p,d))}},{"../internals/global":59}],63:[function(t,Y,k){t=t("../internals/get-built-in"),Y.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,Y,k){var v=t("../internals/descriptors"),p=t("../internals/fails"),d=t("../internals/document-create-element");Y.exports=!v&&!p(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,Y,k){var v=Math.abs,p=Math.pow,d=Math.floor,h=Math.log,m=Math.LN2;Y.exports={pack:function(f,r,o){var l,i,n,u=new Array(o),a=8*o-r-1,o=(1<<a)-1,c=o>>1,y=r===23?p(2,-24)-p(2,-77):0,_=f<0||f===0&&1/f<0?1:0,x=0;for((f=v(f))!=f||f===1/0?(i=f!=f?1:0,l=o):(l=d(h(f)/m),f*(n=p(2,-l))<1&&(l--,n*=2),2<=(f+=1<=l+c?y/n:y*p(2,1-c))*n&&(l++,n/=2),o<=l+c?(i=0,l=o):1<=l+c?(i=(f*n-1)*p(2,r),l+=c):(i=f*p(2,c-1)*p(2,r),l=0));8<=r;u[x++]=255&i,i/=256,r-=8);for(l=l<<r|i,a+=r;0<a;u[x++]=255&l,l/=256,a-=8);return u[--x]|=128*_,u},unpack:function(f,r){var s,l=f.length,o=8*l-r-1,i=(1<<o)-1,n=i>>1,u=o-7,a=l-1,o=f[a--],c=127&o;for(o>>=7;0<u;c=256*c+f[a],a--,u-=8);for(s=c&(1<<-u)-1,c>>=-u,u+=r;0<u;s=256*s+f[a],a--,u-=8);if(c===0)c=1-n;else{if(c===i)return s?NaN:o?-1/0:1/0;s+=p(2,r),c-=n}return(o?-1:1)*s*p(2,c-r)}}},{}],66:[function(t,Y,k){var v=t("../internals/fails"),p=t("../internals/classof-raw"),d="".split;Y.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return p(h)=="String"?d.call(h,""):Object(h)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,Y,k){var v=t("../internals/is-object"),p=t("../internals/object-set-prototype-of");Y.exports=function(d,h,m){return p&&typeof(h=h.constructor)=="function"&&h!==m&&v(h=h.prototype)&&h!==m.prototype&&p(d,h),d}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(v,Y,k){var v=v("../internals/shared-store"),p=Function.toString;typeof v.inspectSource!="function"&&(v.inspectSource=function(d){return p.call(d)}),Y.exports=v.inspectSource},{"../internals/shared-store":119}],69:[function(t,Y,k){function v(u){m(u,s,{value:{objectID:"O"+ ++l,weakData:{}}})}T(v,"m");var p=t("../internals/hidden-keys"),d=t("../internals/is-object"),h=t("../internals/has"),m=t("../internals/object-define-property").f,f=t("../internals/uid"),r=t("../internals/freezing"),s=f("meta"),l=0,i=Object.isExtensible||function(){return!0},n=Y.exports={REQUIRED:!1,fastKey:function(u,a){if(!d(u))return typeof u=="symbol"?u:(typeof u=="string"?"S":"P")+u;if(!h(u,s)){if(!i(u))return"F";if(!a)return"E";v(u)}return u[s].objectID},getWeakData:function(u,a){if(!h(u,s)){if(!i(u))return!0;if(!a)return!1;v(u)}return u[s].weakData},onFreeze:function(u){return r&&n.REQUIRED&&i(u)&&!h(u,s)&&v(u),u}};p[s]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(o,Y,k){var v,p,d,h,m,f,r,s,l=o("../internals/native-weak-map"),c=o("../internals/global"),i=o("../internals/is-object"),n=o("../internals/create-non-enumerable-property"),u=o("../internals/has"),a=o("../internals/shared-key"),o=o("../internals/hidden-keys"),c=c.WeakMap;r=l?(v=new c,p=v.get,d=v.has,h=v.set,m=T(function(y,_){return h.call(v,y,_),_},"y"),f=T(function(y){return p.call(v,y)||{}},"g"),function(y){return d.call(v,y)}):(o[s=a("state")]=!0,m=T(function(y,_){return n(y,s,_),_},"y"),f=T(function(y){return u(y,s)?y[s]:{}},"g"),function(y){return u(y,s)}),Y.exports={set:m,get:f,has:r,enforce:function(y){return r(y)?f(y):m(y,{})},getterFor:function(y){return function(_){if(i(_)&&(_=f(_)).type===y)return _;throw TypeError("Incompatible receiver, "+y+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,Y,k){var v=t("../internals/well-known-symbol"),p=t("../internals/iterators"),d=v("iterator"),h=Array.prototype;Y.exports=function(m){return m!==void 0&&(p.Array===m||h[d]===m)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,Y,k){var v=t("../internals/classof-raw");Y.exports=Array.isArray||function(p){return v(p)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,Y,k){function v(s,l){return(s=m[h(s)])==r||s!=f&&(typeof l=="function"?p(l):!!l)}T(v,"m");var p=t("../internals/fails"),d=/#|\.prototype\./,h=v.normalize=function(s){return String(s).replace(d,".").toLowerCase()},m=v.data={},f=v.NATIVE="N",r=v.POLYFILL="P";Y.exports=v},{"../internals/fails":51}],74:[function(t,Y,k){Y.exports=function(v){return typeof v=="object"?v!==null:typeof v=="function"}},{}],75:[function(t,Y,k){Y.exports=!1},{}],76:[function(t,Y,k){var v=t("../internals/is-object"),p=t("../internals/classof-raw"),d=t("../internals/well-known-symbol")("match");Y.exports=function(h){var m;return v(h)&&((m=h[d])!==void 0?!!m:p(h)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,Y,k){function v(s,l){this.stopped=s,this.result=l}T(v,"m");var p=t("../internals/an-object"),d=t("../internals/is-array-iterator-method"),h=t("../internals/to-length"),m=t("../internals/function-bind-context"),f=t("../internals/get-iterator-method"),r=t("../internals/call-with-safe-iteration-closing");(Y.exports=function(s,l,i,n,u){var a,o,c,y,_,x,b=m(l,i,n?2:1);if(u)a=s;else{if(typeof(l=f(s))!="function")throw TypeError("Target is not iterable");if(d(l)){for(o=0,c=h(s.length);o<c;o++)if((y=n?b(p(x=s[o])[0],x[1]):b(s[o]))&&y instanceof v)return y;return new v(!1)}a=l.call(s)}for(_=a.next;!(x=_.call(a)).done;)if(typeof(y=r(a,b,x.value,n))=="object"&&y&&y instanceof v)return y;return new v(!1)}).stop=function(s){return new v(!0,s)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(f,Y,k){"use strict";var v,p,d=f("../internals/object-get-prototype-of"),h=f("../internals/create-non-enumerable-property"),m=f("../internals/has"),r=f("../internals/well-known-symbol"),f=f("../internals/is-pure"),r=r("iterator"),s=!1;[].keys&&("next"in(p=[].keys())?(d=d(d(p)))!==Object.prototype&&(v=d):s=!0),v==null&&(v={}),f||m(v,r)||h(v,r,function(){return this}),Y.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:s}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,Y,k){Y.exports={}},{}],80:[function(t,Y,k){Y.exports=Math.sign||function(v){return(v=+v)==0||v!=v?v:v<0?-1:1}},{}],81:[function(n,Y,k){var v,p,d,h,m,f,r,s,l=n("../internals/global"),_=n("../internals/object-get-own-property-descriptor").f,y=n("../internals/classof-raw"),i=n("../internals/task").set,n=n("../internals/engine-is-ios"),u=l.MutationObserver||l.WebKitMutationObserver,a=l.process,o=l.Promise,c=y(a)=="process",y=_(l,"queueMicrotask"),_=y&&y.value;_||(v=T(function(){var x,b;for(c&&(x=a.domain)&&x.exit();p;){b=p.fn,p=p.next;try{b()}catch(w){throw p?h():d=void 0,w}}d=void 0,x&&x.enter()},"m"),h=c?function(){a.nextTick(v)}:u&&!n?(m=!0,f=document.createTextNode(""),new u(v).observe(f,{characterData:!0}),function(){f.data=m=!m}):o&&o.resolve?(r=o.resolve(void 0),s=r.then,function(){s.call(r,v)}):function(){i.call(l,v)}),Y.exports=_||function(x){x={fn:x,next:void 0},d&&(d.next=x),p||(p=x,h()),d=x}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,Y,k){t=t("../internals/global"),Y.exports=t.Promise},{"../internals/global":59}],83:[function(t,Y,k){t=t("../internals/fails"),Y.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,Y,k){var v=t("../internals/fails"),p=t("../internals/well-known-symbol"),d=t("../internals/is-pure"),h=p("iterator");Y.exports=!v(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),f=m.searchParams,r="";return m.pathname="c%20d",f.forEach(function(s,l){f.delete("b"),r+=l+s}),d&&!m.toJSON||!f.sort||m.href!=="http://a/c%20d?a=1&c=3"||f.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!f[h]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(v,Y,k){var p=v("../internals/global"),v=v("../internals/inspect-source"),p=p.WeakMap;Y.exports=typeof p=="function"&&/native code/.test(v(p))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,Y,k){"use strict";function v(d){var h,m;this.promise=new d(function(f,r){if(h!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");h=f,m=r}),this.resolve=p(h),this.reject=p(m)}T(v,"m");var p=t("../internals/a-function");Y.exports.f=function(d){return new v(d)}},{"../internals/a-function":5}],87:[function(t,Y,k){var v=t("../internals/is-regexp");Y.exports=function(p){if(v(p))throw TypeError("The method doesn't accept regular expressions");return p}},{"../internals/is-regexp":76}],88:[function(t,Y,k){var v=t("../internals/global").isFinite;Y.exports=Number.isFinite||function(p){return typeof p=="number"&&v(p)}},{"../internals/global":59}],89:[function(t,Y,k){"use strict";var v=t("../internals/descriptors"),p=t("../internals/fails"),d=t("../internals/object-keys"),h=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),f=t("../internals/to-object"),r=t("../internals/indexed-object"),s=Object.assign,l=Object.defineProperty;Y.exports=!s||p(function(){var i,n,u,a;return!(!v||s({b:1},s(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(n={},a="abcdefghijklmnopqrst",(i={})[u=Symbol()]=7,a.split("").forEach(function(o){n[o]=o}),s({},i)[u]!=7||d(s({},n)).join("")!=a)})?function(i,n){for(var u=f(i),a=arguments.length,o=1,c=h.f,y=m.f;o<a;)for(var _,x=r(arguments[o++]),b=c?d(x).concat(c(x)):d(x),w=b.length,M=0;M<w;)_=b[M++],v&&!y.call(x,_)||(u[_]=x[_]);return u}:s},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(l,Y,k){function v(){}T(v,"m");var p,d=l("../internals/an-object"),h=l("../internals/object-define-properties"),m=l("../internals/enum-bug-keys"),f=l("../internals/hidden-keys"),r=l("../internals/html"),s=l("../internals/document-create-element"),l=l("../internals/shared-key"),i="prototype",n="script",u=l("IE_PROTO"),a=T(function(c){return"<"+n+">"+c+"</"+n+">"},"h"),o=T(function(){try{p=document.domain&&new ActiveXObject("htmlfile")}catch{}o=p?((c=p).write(a("")),c.close(),y=c.parentWindow.Object,c=null,y):(c=s("iframe"),y="java"+n+":",c.style.display="none",r.appendChild(c),c.src=String(y),(y=c.contentWindow.document).open(),y.write(a("document.F=Object")),y.close(),y.F);for(var c,y,_=m.length;_--;)delete o[i][m[_]];return o()},"o");f[u]=!0,Y.exports=Object.create||function(c,y){var _;return c!==null?(v[i]=d(c),_=new v,v[i]=null,_[u]=c):_=o(),y===void 0?_:h(_,y)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,Y,k){var v=t("../internals/descriptors"),p=t("../internals/object-define-property"),d=t("../internals/an-object"),h=t("../internals/object-keys");Y.exports=v?Object.defineProperties:function(m,f){d(m);for(var r,s=h(f),l=s.length,i=0;i<l;)p.f(m,r=s[i++],f[r]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,Y,k){var v=t("../internals/descriptors"),p=t("../internals/ie8-dom-define"),d=t("../internals/an-object"),h=t("../internals/to-primitive"),m=Object.defineProperty;k.f=v?m:function(f,r,s){if(d(f),r=h(r,!0),d(s),p)try{return m(f,r,s)}catch{}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(f[r]=s.value),f}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,Y,k){var v=t("../internals/descriptors"),p=t("../internals/object-property-is-enumerable"),d=t("../internals/create-property-descriptor"),h=t("../internals/to-indexed-object"),m=t("../internals/to-primitive"),f=t("../internals/has"),r=t("../internals/ie8-dom-define"),s=Object.getOwnPropertyDescriptor;k.f=v?s:function(l,i){if(l=h(l),i=m(i,!0),r)try{return s(l,i)}catch{}if(f(l,i))return d(!p.f.call(l,i),l[i])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,Y,k){var v=t("../internals/to-indexed-object"),p=t("../internals/object-get-own-property-names").f,d={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Y.exports.f=function(m){if(!h||d.call(m)!="[object Window]")return p(v(m));try{return p(m)}catch{return h.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,Y,k){var v=t("../internals/object-keys-internal"),p=t("../internals/enum-bug-keys").concat("length","prototype");k.f=Object.getOwnPropertyNames||function(d){return v(d,p)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,Y,k){k.f=Object.getOwnPropertySymbols},{}],97:[function(h,Y,k){var v=h("../internals/has"),p=h("../internals/to-object"),d=h("../internals/shared-key"),h=h("../internals/correct-prototype-getter"),m=d("IE_PROTO"),f=Object.prototype;Y.exports=h?Object.getPrototypeOf:function(r){return r=p(r),v(r,m)?r[m]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?f:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,Y,k){var v=t("../internals/has"),p=t("../internals/to-indexed-object"),d=t("../internals/array-includes").indexOf,h=t("../internals/hidden-keys");Y.exports=function(m,f){var r,s=p(m),l=0,i=[];for(r in s)!v(h,r)&&v(s,r)&&i.push(r);for(;f.length>l;)!v(s,r=f[l++])||~d(i,r)||i.push(r);return i}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,Y,k){var v=t("../internals/object-keys-internal"),p=t("../internals/enum-bug-keys");Y.exports=Object.keys||function(d){return v(d,p)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,Y,k){"use strict";var v={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,d=p&&!v.call({1:2},1);k.f=d?function(h){return h=p(this,h),!!h&&h.enumerable}:v},{}],101:[function(t,Y,k){var v=t("../internals/an-object"),p=t("../internals/a-possible-prototype");Y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d,h=!1,m={};try{(d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),h=m instanceof Array}catch{}return function(f,r){return v(f),p(r),h?d.call(f,r):f.__proto__=r,f}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,Y,k){"use strict";var v=t("../internals/to-string-tag-support"),p=t("../internals/classof");Y.exports=v?{}.toString:function(){return"[object "+p(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,Y,k){var v=t("../internals/get-built-in"),p=t("../internals/object-get-own-property-names"),d=t("../internals/object-get-own-property-symbols"),h=t("../internals/an-object");Y.exports=v("Reflect","ownKeys")||function(m){var f=p.f(h(m)),r=d.f;return r?f.concat(r(m)):f}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,Y,k){t=t("../internals/global"),Y.exports=t},{"../internals/global":59}],105:[function(t,Y,k){Y.exports=function(v){try{return{error:!1,value:v()}}catch(p){return{error:!0,value:p}}}},{}],106:[function(t,Y,k){var v=t("../internals/an-object"),p=t("../internals/is-object"),d=t("../internals/new-promise-capability");Y.exports=function(h,m){return v(h),p(m)&&m.constructor===h?m:((0,(h=d.f(h)).resolve)(m),h.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,Y,k){var v=t("../internals/redefine");Y.exports=function(p,d,h){for(var m in d)v(p,m,d[m],h);return p}},{"../internals/redefine":108}],108:[function(f,Y,k){var v=f("../internals/global"),p=f("../internals/create-non-enumerable-property"),d=f("../internals/has"),h=f("../internals/set-global"),m=f("../internals/inspect-source"),f=f("../internals/internal-state"),r=f.get,s=f.enforce,l=String(String).split("String");(Y.exports=function(i,n,u,y){var o=!!y&&!!y.unsafe,c=!!y&&!!y.enumerable,y=!!y&&!!y.noTargetGet;typeof u=="function"&&(typeof n!="string"||d(u,"name")||p(u,"name",n),s(u).source=l.join(typeof n=="string"?n:"")),i===v?c?i[n]=u:h(n,u):(o?!y&&i[n]&&(c=!0):delete i[n],c?i[n]=u:p(i,n,u))})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,Y,k){var v=t("./classof-raw"),p=t("./regexp-exec");Y.exports=function(d,h){var m=d.exec;if(typeof m=="function"){if(m=m.call(d,h),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(v(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return p.call(d,h)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(h,Y,k){"use strict";var v,p,d=h("./regexp-flags"),h=h("./regexp-sticky-helpers"),m=RegExp.prototype.exec,f=String.prototype.replace,r=m,s=(v=/a/,p=/b*/g,m.call(v,"a"),m.call(p,"a"),v.lastIndex!==0||p.lastIndex!==0),l=h.UNSUPPORTED_Y||h.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;Y.exports=r=s||i||l?function(n){var u,a,o,c,y=this,_=l&&y.sticky,x=d.call(y),b=y.source,w=0,M=n;return _&&((x=x.replace("y","")).indexOf("g")===-1&&(x+="g"),M=String(n).slice(y.lastIndex),0<y.lastIndex&&(!y.multiline||y.multiline&&n[y.lastIndex-1]!==`
`)&&(b="(?: "+b+")",M=" "+M,w++),a=new RegExp("^(?:"+b+")",x)),i&&(a=new RegExp("^"+b+"$(?!\\s)",x)),s&&(u=y.lastIndex),o=m.call(_?a:y,M),_?o?(o.input=o.input.slice(w),o[0]=o[0].slice(w),o.index=y.lastIndex,y.lastIndex+=o[0].length):y.lastIndex=0:s&&o&&(y.lastIndex=y.global?o.index+o[0].length:u),i&&o&&1<o.length&&f.call(o[0],a,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(o[c]=void 0)}),o}:r},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,Y,k){"use strict";var v=t("../internals/an-object");Y.exports=function(){var p=v(this),d="";return p.global&&(d+="g"),p.ignoreCase&&(d+="i"),p.multiline&&(d+="m"),p.dotAll&&(d+="s"),p.unicode&&(d+="u"),p.sticky&&(d+="y"),d}},{"../internals/an-object":10}],112:[function(t,Y,k){"use strict";t=t("./fails");function v(p,d){return RegExp(p,d)}T(v,"m"),k.UNSUPPORTED_Y=t(function(){var p=v("a","y");return p.lastIndex=2,p.exec("abcd")!=null}),k.BROKEN_CARET=t(function(){var p=v("^r","gy");return p.lastIndex=2,p.exec("str")!=null})},{"./fails":51}],113:[function(t,Y,k){Y.exports=function(v){if(v==null)throw TypeError("Can't call method on "+v);return v}},{}],114:[function(t,Y,k){Y.exports=Object.is||function(v,p){return v===p?v!==0||1/v==1/p:v!=v&&p!=p}},{}],115:[function(t,Y,k){var v=t("../internals/global"),p=t("../internals/create-non-enumerable-property");Y.exports=function(d,h){try{p(v,d,h)}catch{v[d]=h}return h}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,Y,k){"use strict";var v=t("../internals/get-built-in"),p=t("../internals/object-define-property"),d=t("../internals/well-known-symbol"),h=t("../internals/descriptors"),m=d("species");Y.exports=function(r){var r=v(r),s=p.f;h&&r&&!r[m]&&s(r,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,Y,k){var v=t("../internals/object-define-property").f,p=t("../internals/has"),d=t("../internals/well-known-symbol")("toStringTag");Y.exports=function(h,m,f){h&&!p(h=f?h:h.prototype,d)&&v(h,d,{configurable:!0,value:m})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,Y,k){var v=t("../internals/shared"),p=t("../internals/uid"),d=v("keys");Y.exports=function(h){return d[h]||(d[h]=p(h))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(v,Y,k){var d=v("../internals/global"),v=v("../internals/set-global"),p="__core-js_shared__",d=d[p]||v(p,{});Y.exports=d},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,Y,k){var v=t("../internals/is-pure"),p=t("../internals/shared-store");(Y.exports=function(d,h){return p[d]||(p[d]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,Y,k){var v=t("../internals/an-object"),p=t("../internals/a-function"),d=t("../internals/well-known-symbol")("species");Y.exports=function(f,m){var f=v(f).constructor;return f===void 0||(f=v(f)[d])==null?m:p(f)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,Y,k){var v=t("../internals/fails");Y.exports=function(p){return v(function(){var d=""[p]('"');return d!==d.toLowerCase()||3<d.split('"').length})}},{"../internals/fails":51}],123:[function(t,Y,k){function v(h){return function(s,l){var r,s=String(d(s)),l=p(l),i=s.length;return l<0||i<=l?h?"":void 0:(r=s.charCodeAt(l))<55296||56319<r||l+1===i||(i=s.charCodeAt(l+1))<56320||57343<i?h?s.charAt(l):r:h?s.slice(l,l+2):i-56320+(r-55296<<10)+65536}}T(v,"m");var p=t("../internals/to-integer"),d=t("../internals/require-object-coercible");Y.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,Y,k){t=t("../internals/engine-user-agent"),Y.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,Y,k){function v(f){return function(i,a,u){var i=String(h(i)),n=i.length,u=u===void 0?" ":String(u),a=p(a);return a<=n||u==""?i:((n=d.call(u,m((a=a-n)/u.length))).length>a&&(n=n.slice(0,a)),f?i+n:n+i)}}T(v,"m");var p=t("../internals/to-length"),d=t("../internals/string-repeat"),h=t("../internals/require-object-coercible"),m=Math.ceil;Y.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,Y,k){"use strict";function v(o){return o+22+75*(o<26)}T(v,"m");function p(o){var c,y=[],_=(o=function(W){for(var Q=[],ae=0,j=W.length;ae<j;){var L,G=W.charCodeAt(ae++);55296<=G&&G<=56319&&ae<j?(64512&(L=W.charCodeAt(ae++)))==56320?Q.push(((1023&G)<<10)+(1023&L)+65536):(Q.push(G),ae--):Q.push(G)}return Q}(o)).length,x=128,b=0,w=72;for(C=0;C<o.length;C++)(c=o[C])<128&&y.push(a(c));var M=y.length,E=M;for(M&&y.push("-");E<_;){for(var A=d,C=0;C<o.length;C++)x<=(c=o[C])&&c<A&&(A=c);var I=E+1;if(A-x>u((d-b)/I))throw RangeError(i);for(b+=(A-x)*I,x=A,C=0;C<o.length;C++){if((c=o[C])<x&&++b>d)throw RangeError(i);if(c==x){for(var F=b,R=h;;R+=h){var U=R<=w?1:w+m<=R?m:R-w;if(F<U)break;var z=F-U,P=h-U;y.push(a(v(U+z%P))),F=u(z/P)}y.push(a(v(F))),w=function(W,Q,ae){var j=0;for(W=ae?u(W/r):W>>1,W+=u(W/Q);n*m>>1<W;j+=h)W=u(W/n);return u(j+(n+1)*W/(W+f))}(b,I,E==M),b=0,++E}}++b,++x}return y.join("")}T(p,"p");var d=2147483647,h=36,m=26,f=38,r=700,s=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",n=h-1,u=Math.floor,a=String.fromCharCode;Y.exports=function(o){for(var c,y=[],_=o.toLowerCase().replace(l,".").split("."),x=0;x<_.length;x++)c=_[x],y.push(s.test(c)?"xn--"+p(c):c);return y.join(".")}},{}],127:[function(t,Y,k){"use strict";var v=t("../internals/to-integer"),p=t("../internals/require-object-coercible");Y.exports="".repeat||function(d){var h=String(p(this)),m="",f=v(d);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;0<f;(f>>>=1)&&(h+=h))1&f&&(m+=h);return m}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,Y,k){var v=t("../internals/fails"),p=t("../internals/whitespaces");Y.exports=function(d){return v(function(){return!!p[d]()||"\u200B\x85\u180E"[d]()!="\u200B\x85\u180E"||p[d].name!==d})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(d,Y,k){function v(f){return function(r){return r=String(p(r)),1&f&&(r=r.replace(h,"")),r=2&f?r.replace(m,""):r}}T(v,"m");var p=d("../internals/require-object-coercible"),d="["+d("../internals/whitespaces")+"]",h=RegExp("^"+d+d+"*"),m=RegExp(d+d+"*$");Y.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(n,Y,k){function v(E){return function(){M(E)}}T(v,"m");function p(E){M(E.data)}T(p,"p");function d(E){m.postMessage(E+"",u.protocol+"//"+u.host)}T(d,"i");var h,m=n("../internals/global"),f=n("../internals/fails"),r=n("../internals/classof-raw"),s=n("../internals/function-bind-context"),l=n("../internals/html"),i=n("../internals/document-create-element"),n=n("../internals/engine-is-ios"),u=m.location,a=m.setImmediate,o=m.clearImmediate,c=m.process,y=m.MessageChannel,_=m.Dispatch,x=0,b={},w="onreadystatechange",M=T(function(E){var A;b.hasOwnProperty(E)&&(A=b[E],delete b[E],A())},"C");a&&o||(a=T(function(E){for(var A=[],C=1;C<arguments.length;)A.push(arguments[C++]);return b[++x]=function(){(typeof E=="function"?E:Function(E)).apply(void 0,A)},h(x),x},"h"),o=T(function(E){delete b[E]},"o"),r(c)=="process"?h=T(function(E){c.nextTick(v(E))},"f"):_&&_.now?h=T(function(E){_.now(v(E))},"f"):y&&!n?(n=(r=new y).port2,r.port1.onmessage=p,h=s(n.postMessage,n,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||f(d)||u.protocol==="file:"?h=w in i("script")?function(E){l.appendChild(i("script"))[w]=function(){l.removeChild(this),M(E)}}:function(E){setTimeout(v(E),0)}:(h=d,m.addEventListener("message",p,!1))),Y.exports={set:a,clear:o}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,Y,k){var v=t("../internals/classof-raw");Y.exports=function(p){if(typeof p!="number"&&v(p)!="Number")throw TypeError("Incorrect invocation");return+p}},{"../internals/classof-raw":28}],132:[function(t,Y,k){var v=t("../internals/to-integer"),p=Math.max,d=Math.min;Y.exports=function(h,m){return h=v(h),h<0?p(h+m,0):d(h,m)}},{"../internals/to-integer":135}],133:[function(t,Y,k){var v=t("../internals/to-integer"),p=t("../internals/to-length");Y.exports=function(h){if(h===void 0)return 0;var h=v(h),m=p(h);if(h!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,Y,k){var v=t("../internals/indexed-object"),p=t("../internals/require-object-coercible");Y.exports=function(d){return v(p(d))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,Y,k){var v=Math.ceil,p=Math.floor;Y.exports=function(d){return isNaN(d=+d)?0:(0<d?p:v)(d)}},{}],136:[function(t,Y,k){var v=t("../internals/to-integer"),p=Math.min;Y.exports=function(d){return 0<d?p(v(d),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,Y,k){var v=t("../internals/require-object-coercible");Y.exports=function(p){return Object(v(p))}},{"../internals/require-object-coercible":113}],138:[function(t,Y,k){var v=t("../internals/to-positive-integer");Y.exports=function(p,d){if(p=v(p),p%d)throw RangeError("Wrong offset");return p}},{"../internals/to-positive-integer":139}],139:[function(t,Y,k){var v=t("../internals/to-integer");Y.exports=function(p){if(p=v(p),p<0)throw RangeError("The argument can't be less than 0");return p}},{"../internals/to-integer":135}],140:[function(t,Y,k){var v=t("../internals/is-object");Y.exports=function(p,d){if(!v(p))return p;var h,m;if(d&&typeof(h=p.toString)=="function"&&!v(m=h.call(p))||typeof(h=p.valueOf)=="function"&&!v(m=h.call(p))||!d&&typeof(h=p.toString)=="function"&&!v(m=h.call(p)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,Y,k){var v={};v[t("../internals/well-known-symbol")("toStringTag")]="z",Y.exports=String(v)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,Y,k){"use strict";function v(Me,q){for(var we=0,ve=q.length,re=new(se(Me))(ve);we<ve;)re[we]=q[we++];return re}T(v,"m");function p(Me,q){L(Me,q,{get:function(){return ae(this)[q]}})}T(p,"p");function d(Me){return Me instanceof oe||(Me=M(Me))=="ArrayBuffer"||Me=="SharedArrayBuffer"}T(d,"i");function h(Me,q){return xe(Me)&&typeof q!="symbol"&&q in Me&&String(+q)==String(q)}T(h,"f");function m(Me,q){return h(Me,q=b(q,!0))?o(2,Me[q]):G(Me,q)}T(m,"y");function f(Me,q,we){return!(h(Me,q=b(q,!0))&&E(we)&&w(we,"value"))||w(we,"get")||w(we,"set")||we.configurable||w(we,"writable")&&!we.writable||w(we,"enumerable")&&!we.enumerable?L(Me,q,we):(Me[q]=we.value,Me)}T(f,"g");var r=t("../internals/export"),s=t("../internals/global"),l=t("../internals/descriptors"),i=t("../internals/typed-array-constructors-require-wrappers"),n=t("../internals/array-buffer-view-core"),u=t("../internals/array-buffer"),a=t("../internals/an-instance"),o=t("../internals/create-property-descriptor"),c=t("../internals/create-non-enumerable-property"),y=t("../internals/to-length"),_=t("../internals/to-index"),x=t("../internals/to-offset"),b=t("../internals/to-primitive"),w=t("../internals/has"),M=t("../internals/classof"),E=t("../internals/is-object"),A=t("../internals/object-create"),C=t("../internals/object-set-prototype-of"),I=t("../internals/object-get-own-property-names").f,F=t("../internals/typed-array-from"),R=t("../internals/array-iteration").forEach,U=t("../internals/set-species"),z=t("../internals/object-define-property"),P=t("../internals/object-get-own-property-descriptor"),W=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),ae=W.get,j=W.set,L=z.f,G=P.f,N=Math.round,Z=s.RangeError,oe=u.ArrayBuffer,ie=u.DataView,ce=n.NATIVE_ARRAY_BUFFER_VIEWS,ue=n.TYPED_ARRAY_TAG,be=n.TypedArray,ye=n.TypedArrayPrototype,se=n.aTypedArrayConstructor,xe=n.isTypedArray,Se="BYTES_PER_ELEMENT",Ie="Wrong length";l?(ce||(P.f=m,z.f=f,p(ye,"buffer"),p(ye,"byteOffset"),p(ye,"byteLength"),p(ye,"length")),r({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:m,defineProperty:f}),Y.exports=function(te,q,we){function ve(le,$){L(le,$,{get:function(){var ne=this,J=$;return(ne=ae(ne)).view[ge](J*re+ne.byteOffset,!0)},set:function(ne){var J=this,de=$;J=ae(J),we&&(ne=(ne=N(ne))<0?0:255<ne?255:255&ne),J.view[B](de*re+J.byteOffset,ne,!0)},enumerable:!0})}T(ve,"Le");var re=te.match(/\d+$/)[0]/8,fe=te+(we?"Clamped":"")+"Array",ge="get"+te,B="set"+te,H=s[fe],X=H,te=X&&X.prototype,pe={};ce?i&&(X=q(function(le,$,ne,J){return a(le,X,fe),Q(E($)?d($)?J!==void 0?new H($,x(ne,re),J):ne!==void 0?new H($,x(ne,re)):new H($):xe($)?v(X,$):F.call(X,$):new H(_($)),le,X)}),C&&C(X,be),R(I(H),function(le){le in X||c(X,le,H[le])}),X.prototype=te):(X=q(function(le,$,ne,J){a(le,X,fe);var de,Te,me=0,Ee=0;if(E($)){if(!d($))return xe($)?v(X,$):F.call(X,$);var Le=$,Ee=x(ne,re),ne=$.byteLength;if(J===void 0){if(ne%re||(de=ne-Ee)<0)throw Z(Ie)}else if(ne<(de=y(J)*re)+Ee)throw Z(Ie);Te=de/re}else Te=_($),Le=new oe(de=Te*re);for(j(le,{buffer:Le,byteOffset:Ee,byteLength:de,length:Te,view:new ie(Le)});me<Te;)ve(le,me++)}),C&&C(X,be),te=X.prototype=A(ye)),te.constructor!==X&&c(te,"constructor",X),ue&&c(te,ue,fe),pe[fe]=X,r({global:!0,forced:X!=H,sham:!ce},pe),Se in X||c(X,Se,re),Se in te||c(te,Se,re),U(fe)}):Y.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(h,Y,k){var v=h("../internals/global"),p=h("../internals/fails"),d=h("../internals/check-correctness-of-iteration"),h=h("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=v.ArrayBuffer,f=v.Int8Array;Y.exports=!h||!p(function(){f(1)})||!p(function(){new f(-1)})||!d(function(r){new f,new f(null),new f(1.5),new f(r)},!0)||p(function(){return new f(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,Y,k){var v=t("../internals/to-object"),p=t("../internals/to-length"),d=t("../internals/get-iterator-method"),h=t("../internals/is-array-iterator-method"),m=t("../internals/function-bind-context"),f=t("../internals/array-buffer-view-core").aTypedArrayConstructor;Y.exports=function(r){var s,l,i,n,u,a,o=v(r),c=arguments.length,y=1<c?arguments[1]:void 0,_=y!==void 0,x=d(o);if(x!=null&&!h(x))for(a=(u=x.call(o)).next,o=[];!(n=a.call(u)).done;)o.push(n.value);for(_&&2<c&&(y=m(y,arguments[2],2)),l=p(o.length),i=new(f(this))(l),s=0;s<l;s++)i[s]=_?y(o[s],s):o[s];return i}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,Y,k){var v=0,p=Math.random();Y.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++v+p).toString(36)}},{}],146:[function(t,Y,k){t=t("../internals/native-symbol"),Y.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,Y,k){t=t("../internals/well-known-symbol"),k.f=t},{"../internals/well-known-symbol":148}],148:[function(f,Y,k){var v=f("../internals/global"),p=f("../internals/shared"),d=f("../internals/has"),h=f("../internals/uid"),m=f("../internals/native-symbol"),f=f("../internals/use-symbol-as-uid"),r=p("wks"),s=v.Symbol,l=f?s:s&&s.withoutSetter||h;Y.exports=function(i){return d(r,i)||(m&&d(s,i)?r[i]=s[i]:r[i]=l("Symbol."+i)),r[i]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,Y,k){Y.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],150:[function(d,Y,k){"use strict";var v=d("../internals/export"),p=d("../internals/global"),m=d("../internals/array-buffer"),d=d("../internals/set-species"),h="ArrayBuffer",m=m[h];v({global:!0,forced:p[h]!==m},{ArrayBuffer:m}),d(h)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(o,Y,k){"use strict";var v=o("../internals/export"),p=o("../internals/fails"),d=o("../internals/is-array"),h=o("../internals/is-object"),m=o("../internals/to-object"),f=o("../internals/to-length"),r=o("../internals/create-property"),s=o("../internals/array-species-create"),l=o("../internals/array-method-has-species-support"),a=o("../internals/well-known-symbol"),o=o("../internals/engine-v8-version"),i=a("isConcatSpreadable"),n=9007199254740991,u="Maximum allowed index exceeded",a=51<=o||!p(function(){var c=[];return c[i]=!1,c.concat()[0]!==c}),o=l("concat");v({target:"Array",proto:!0,forced:!a||!o},{concat:function(c){for(var y,_,x,b,w,M=m(this),E=s(M,0),A=0,C=-1,I=arguments.length;C<I;C++)if(w=void 0,!h(b=x=C===-1?M:arguments[C])||((w=b[i])!==void 0?!w:!d(b))){if(n<=A)throw TypeError(u);r(E,A++,x)}else{if(_=f(x.length),n<A+_)throw TypeError(u);for(y=0;y<_;y++,A++)y in x&&r(E,A,x[y])}return E.length=A,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(d,Y,k){var v=d("../internals/export"),p=d("../internals/array-copy-within"),d=d("../internals/add-to-unscopables");v({target:"Array",proto:!0},{copyWithin:p}),d("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(h,Y,k){"use strict";var v=h("../internals/export"),p=h("../internals/array-iteration").every,d=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),d=d("every"),h=h("every");v({target:"Array",proto:!0,forced:!d||!h},{every:function(m){return p(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(d,Y,k){var v=d("../internals/export"),p=d("../internals/array-fill"),d=d("../internals/add-to-unscopables");v({target:"Array",proto:!0},{fill:p}),d("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(h,Y,k){"use strict";var v=h("../internals/export"),p=h("../internals/array-iteration").filter,d=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),d=d("filter"),h=h("filter");v({target:"Array",proto:!0,forced:!d||!h},{filter:function(m){return p(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(f,Y,k){"use strict";var v=f("../internals/export"),p=f("../internals/array-iteration").findIndex,d=f("../internals/add-to-unscopables"),f=f("../internals/array-method-uses-to-length"),h="findIndex",m=!0,f=f(h);h in[]&&Array(1)[h](function(){m=!1}),v({target:"Array",proto:!0,forced:m||!f},{findIndex:function(r){return p(this,r,1<arguments.length?arguments[1]:void 0)}}),d(h)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(p,Y,k){"use strict";var v=p("../internals/export"),p=p("../internals/array-for-each");v({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(t,Y,k){var v=t("../internals/export"),p=t("../internals/array-from");v({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(d){Array.from(d)})},{from:p})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(t,Y,k){"use strict";var v=t("../internals/export"),p=t("../internals/array-includes").includes,d=t("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(h){return p(this,h,1<arguments.length?arguments[1]:void 0)}}),d("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(f,Y,k){"use strict";var v=f("../internals/export"),p=f("../internals/array-includes").indexOf,m=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),f=f("indexOf",{ACCESSORS:!0,1:0});v({target:"Array",proto:!0,forced:h||!m||!f},{indexOf:function(r){return h?d.apply(this,arguments)||0:p(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(m,Y,k){"use strict";var v=m("../internals/to-indexed-object"),p=m("../internals/add-to-unscopables"),d=m("../internals/iterators"),h=m("../internals/internal-state"),m=m("../internals/define-iterator"),f="Array Iterator",r=h.set,s=h.getterFor(f);Y.exports=m(Array,"Array",function(l,i){r(this,{type:f,target:v(l),index:0,kind:i})},function(){var l=s(this),i=l.target,n=l.kind,u=l.index++;return!i||u>=i.length?{value:l.target=void 0,done:!0}:n=="keys"?{value:u,done:!1}:n=="values"?{value:i[u],done:!1}:{value:[u,i[u]],done:!1}},"values"),d.Arguments=d.Array,p("keys"),p("values"),p("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(m,Y,k){"use strict";var v=m("../internals/export"),h=m("../internals/indexed-object"),p=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),d=[].join,h=h!=Object,m=m("join",",");v({target:"Array",proto:!0,forced:h||!m},{join:function(f){return d.call(p(this),f===void 0?",":f)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(p,Y,k){var v=p("../internals/export"),p=p("../internals/array-last-index-of");v({target:"Array",proto:!0,forced:p!==[].lastIndexOf},{lastIndexOf:p})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(h,Y,k){"use strict";var v=h("../internals/export"),p=h("../internals/array-iteration").map,d=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),d=d("map"),h=h("map");v({target:"Array",proto:!0,forced:!d||!h},{map:function(m){return p(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(i,Y,k){"use strict";var v=i("../internals/export"),p=i("../internals/is-object"),d=i("../internals/is-array"),h=i("../internals/to-absolute-index"),m=i("../internals/to-length"),f=i("../internals/to-indexed-object"),r=i("../internals/create-property"),s=i("../internals/well-known-symbol"),l=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),l=l("slice"),i=i("slice",{ACCESSORS:!0,0:0,1:2}),n=s("species"),u=[].slice,a=Math.max;v({target:"Array",proto:!0,forced:!l||!i},{slice:function(o,c){var y,_,x,b=f(this),w=m(b.length),M=h(o,w),E=h(c===void 0?w:c,w);if(d(b)&&((y=typeof(y=b.constructor)=="function"&&(y===Array||d(y.prototype))||p(y)&&(y=y[n])===null?void 0:y)===Array||y===void 0))return u.call(b,M,E);for(_=new(y===void 0?Array:y)(a(E-M,0)),x=0;M<E;M++,x++)M in b&&r(_,x,b[M]);return _.length=x,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(h,Y,k){"use strict";var v=h("../internals/export"),p=h("../internals/array-iteration").some,d=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),d=d("some"),h=h("some");v({target:"Array",proto:!0,forced:!d||!h},{some:function(m){return p(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(l,Y,k){"use strict";var v=l("../internals/export"),p=l("../internals/to-absolute-index"),d=l("../internals/to-integer"),h=l("../internals/to-length"),m=l("../internals/to-object"),f=l("../internals/array-species-create"),r=l("../internals/create-property"),s=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),s=s("splice"),l=l("splice",{ACCESSORS:!0,0:0,1:2}),i=Math.max,n=Math.min;v({target:"Array",proto:!0,forced:!s||!l},{splice:function(A,a){var o,c,y,_,x,b,w=m(this),M=h(w.length),E=p(A,M),A=arguments.length;if(A===0?o=c=0:c=A===1?(o=0,M-E):(o=A-2,n(i(d(a),0),M-E)),9007199254740991<M+o-c)throw TypeError("Maximum allowed length exceeded");for(y=f(w,c),_=0;_<c;_++)(x=E+_)in w&&r(y,_,w[x]);if(o<(y.length=c)){for(_=E;_<M-c;_++)b=_+o,(x=_+c)in w?w[b]=w[x]:delete w[b];for(_=M;M-c+o<_;_--)delete w[_-1]}else if(c<o)for(_=M-c;E<_;_--)b=_+o-1,(x=_+c-1)in w?w[b]=w[x]:delete w[b];for(_=0;_<o;_++)w[_+E]=arguments[_+2];return w.length=M-c+o,y}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(p,Y,k){var v=p("../internals/descriptors"),p=p("../internals/object-define-property").f,d=Function.prototype,h=d.toString,m=/^\s*function ([^ (]*)/;!v||"name"in d||p(d,"name",{configurable:!0,get:function(){try{return h.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(p,Y,k){"use strict";var v=p("../internals/collection"),p=p("../internals/collection-strong");Y.exports=v("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},p)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(v,Y,k){var v=v("../internals/export"),p=Math.hypot,d=Math.abs,h=Math.sqrt;v({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(m,f){for(var r,s,l=0,i=0,n=arguments.length,u=0;i<n;)u<(r=d(arguments[i++]))?(l=l*(s=u/r)*s+1,u=r):l+=0<r?(s=r/u)*s:r;return u===1/0?1/0:u*h(l)}})},{"../internals/export":50}],171:[function(v,Y,k){var v=v("../internals/export"),p=Math.log,d=Math.LN2;v({target:"Math",stat:!0},{log2:function(h){return p(h)/d}})},{"../internals/export":50}],172:[function(t,Y,k){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(t,Y,k){"use strict";function v(C){var I,F,R,U,z,P,W,Q=l(C,!1);if(typeof Q=="string"&&2<Q.length){if((C=(Q=c(Q)).charCodeAt(0))===43||C===45){if((I=Q.charCodeAt(2))===88||I===120)return NaN}else if(C===48){switch(Q.charCodeAt(1)){case 66:case 98:F=2,R=49;break;case 79:case 111:F=8,R=55;break;default:return+Q}for(z=(U=Q.slice(2)).length,P=0;P<z;P++)if((W=U.charCodeAt(P))<48||R<W)return NaN;return parseInt(U,F)}}return+Q}T(v,"m");var p=t("../internals/descriptors"),d=t("../internals/global"),h=t("../internals/is-forced"),m=t("../internals/redefine"),f=t("../internals/has"),r=t("../internals/classof-raw"),s=t("../internals/inherit-if-required"),l=t("../internals/to-primitive"),i=t("../internals/fails"),n=t("../internals/object-create"),u=t("../internals/object-get-own-property-names").f,a=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/object-define-property").f,c=t("../internals/string-trim").trim,y="Number",_=d[y],x=_.prototype,b=r(n(x))==y;if(h(y,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var w,M=function(I){var I=arguments.length<1?0:I,F=this;return F instanceof M&&(b?i(function(){x.valueOf.call(F)}):r(F)!=y)?s(new _(v(I)),F,M):v(I)},E=p?u(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;E.length>A;A++)f(_,w=E[A])&&!f(M,w)&&o(M,w,a(_,w));(M.prototype=x).constructor=M,m(d,y,M)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(t,Y,k){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(f,Y,k){"use strict";function v(l,i,n){return i===0?n:i%2==1?v(l,i-1,n*l):v(l*l,i/2,n)}T(v,"m");var p=f("../internals/export"),d=f("../internals/to-integer"),h=f("../internals/this-number-value"),m=f("../internals/string-repeat"),f=f("../internals/fails"),r=1 .toFixed,s=Math.floor;p({target:"Number",proto:!0,forced:r&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!f(function(){r.call({})})},{toFixed:function(y){function i(w,M){for(var E=-1,A=M;++E<6;)A+=w*_[E],_[E]=A%1e7,A=s(A/1e7)}T(i,"n");function n(w){for(var M=6,E=0;0<=--M;)E+=_[M],_[M]=s(E/w),E=E%w*1e7}T(n,"l");function u(){for(var w,M=6,E="";0<=--M;)E===""&&M!==0&&_[M]===0||(w=String(_[M]),E=E===""?w:E+m.call("0",7-w.length)+w);return E}T(u,"u");var a,o,c=h(this),y=d(y),_=[0,0,0,0,0,0],x="",b="0";if(y<0||20<y)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||1e21<=c)return String(c);if(c<0&&(x="-",c=-c),1e-21<c)if(c=(a=function(w){for(var M=0,E=w;4096<=E;)M+=12,E/=4096;for(;2<=E;)M+=1,E/=2;return M}(c*v(2,69,1))-69)<0?c*v(2,-a,1):c/v(2,a,1),c*=4503599627370496,0<(a=52-a)){for(i(0,c),o=y;7<=o;)i(1e7,0),o-=7;for(i(v(10,o,1),0),o=a-1;23<=o;)n(1<<23),o-=23;n(1<<o),i(1,1),n(2),b=u()}else i(0,c),i(1<<-a,0),b=u()+m.call("0",y);return b=0<y?x+((c=b.length)<=y?"0."+m.call("0",y-c)+b:b.slice(0,c-y)+"."+b.slice(c-y)):x+b}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(p,Y,k){var v=p("../internals/export"),p=p("../internals/object-assign");v({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(t,Y,k){var v=t("../internals/export"),p=t("../internals/iterate"),d=t("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(h){var m={};return p(h,function(f,r){d(m,f,r)},void 0,!0),m}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(h,Y,k){var v=h("../internals/export"),m=h("../internals/fails"),p=h("../internals/to-indexed-object"),d=h("../internals/object-get-own-property-descriptor").f,h=h("../internals/descriptors"),m=m(function(){d(1)});v({target:"Object",stat:!0,forced:!h||m,sham:!h},{getOwnPropertyDescriptor:function(f,r){return d(p(f),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(d,Y,k){var v=d("../internals/export"),p=d("../internals/fails"),d=d("../internals/object-get-own-property-names-external").f;v({target:"Object",stat:!0,forced:p(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:d})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(m,Y,k){var v=m("../internals/export"),p=m("../internals/fails"),d=m("../internals/to-object"),h=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");v({target:"Object",stat:!0,forced:p(function(){h(1)}),sham:!m},{getPrototypeOf:function(f){return h(d(f))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(t,Y,k){var v=t("../internals/export"),p=t("../internals/to-object"),d=t("../internals/object-keys");v({target:"Object",stat:!0,forced:t("../internals/fails")(function(){d(1)})},{keys:function(h){return d(p(h))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(d,Y,k){var v=d("../internals/to-string-tag-support"),p=d("../internals/redefine"),d=d("../internals/object-to-string");v||p(Object.prototype,"toString",d,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(we,Y,k){"use strict";var v,p,d,h,m=we("../internals/export"),f=we("../internals/is-pure"),r=we("../internals/global"),s=we("../internals/get-built-in"),l=we("../internals/native-promise-constructor"),i=we("../internals/redefine"),n=we("../internals/redefine-all"),u=we("../internals/set-to-string-tag"),a=we("../internals/set-species"),o=we("../internals/is-object"),c=we("../internals/a-function"),y=we("../internals/an-instance"),_=we("../internals/classof-raw"),x=we("../internals/inspect-source"),b=we("../internals/iterate"),w=we("../internals/check-correctness-of-iteration"),M=we("../internals/species-constructor"),E=we("../internals/task").set,A=we("../internals/microtask"),C=we("../internals/promise-resolve"),I=we("../internals/host-report-errors"),F=we("../internals/new-promise-capability"),R=we("../internals/perform"),U=we("../internals/internal-state"),z=we("../internals/is-forced"),ve=we("../internals/well-known-symbol"),P=we("../internals/engine-v8-version"),W=ve("species"),Q="Promise",ae=U.get,j=U.set,L=U.getterFor(Q),G=l,N=r.TypeError,Z=r.document,oe=r.process,ie=s("fetch"),ce=F.f,ue=ce,be=_(oe)=="process",ye=!!(Z&&Z.createEvent&&r.dispatchEvent),se="unhandledrejection",xe="rejectionhandled",Se=1,Ie=2,Me=1,q=2,we=z(Q,function(){var pe,le;return x(G)===String(G)&&(P===66||!be&&typeof PromiseRejectionEvent!="function")?!0:!(!f||G.prototype.finally)||!(51<=P&&/native code/.test(G))&&(le=T(function($){$(function(){},function(){})},"_e"),((pe=G.resolve(1)).constructor={})[W]=le,!(pe.then(function(){})instanceof le))}),ve=we||!w(function(pe){G.all(pe).catch(function(){})}),re=T(function(pe){var le;return!(!o(pe)||typeof(le=pe.then)!="function")&&le},"Me"),fe=T(function(pe,le,$){var ne;le.notified||(le.notified=!0,ne=le.reactions,A(function(){for(var J,de,Te=le.value,me=le.state==Se,Ee=0;ne.length>Ee;){var Le,Fe,Ge,ze=ne[Ee++],et=me?ze.ok:ze.fail,Ke=ze.resolve,Qe=ze.reject,Xe=ze.domain;try{et?(me||(le.rejection===q&&function(tt,ht){E.call(r,function(){be?oe.emit("rejectionHandled",tt):ge(xe,tt,ht.value)})}(pe,le),le.rejection=Me),et===!0?Le=Te:(Xe&&Xe.enter(),Le=et(Te),Xe&&(Xe.exit(),Ge=!0)),Le===ze.promise?Qe(N("Promise-chain cycle")):(Fe=re(Le))?Fe.call(Le,Ke,Qe):Ke(Le)):Qe(Te)}catch(tt){Xe&&!Ge&&Xe.exit(),Qe(tt)}}le.reactions=[],le.notified=!1,$&&!le.rejection&&(J=pe,de=le,E.call(r,function(){var tt=de.value,ht=B(de);if(ht&&(ht=R(function(){be?oe.emit("unhandledRejection",tt,J):ge(se,J,tt)}),de.rejection=be||B(de)?q:Me,ht.error))throw ht.value}))}))},"Xe"),ge=T(function(pe,le,$){var ne;ye?((ne=Z.createEvent("Event")).promise=le,ne.reason=$,ne.initEvent(pe,!1,!0),r.dispatchEvent(ne)):ne={promise:le,reason:$},(le=r["on"+pe])?le(ne):pe===se&&I("Unhandled promise rejection",$)},"Ne"),B=T(function(pe){return pe.rejection!==Me&&!pe.parent},"Be"),H=T(function(pe,le,$,ne){return function(J){pe(le,$,J,ne)}},"ze"),X=T(function(pe,le,$,ne){le.done||(le.done=!0,(le=ne||le).value=$,le.state=Ie,fe(pe,le,!0))},"Ge"),te=T(function(pe,le,$,ne){if(!le.done){le.done=!0,ne&&(le=ne);try{if(pe===$)throw N("Promise can't be resolved itself");var J=re($);J?A(function(){var de={done:!1};try{J.call($,H(te,pe,de,le),H(X,pe,de,le))}catch(Te){X(pe,de,Te,le)}}):(le.value=$,le.state=Se,fe(pe,le,!1))}catch(de){X(pe,{done:!1},de,le)}}},"ge");we&&(G=T(function(pe){y(this,G,Q),c(pe),v.call(this);var le=ae(this);try{pe(H(te,this,le),H(X,this,le))}catch($){X(this,le,$)}},"I"),(v=T(function(pe){j(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})},"m")).prototype=n(G.prototype,{then:function(pe,le){var $=L(this),ne=ce(M(this,G));return ne.ok=typeof pe!="function"||pe,ne.fail=typeof le=="function"&&le,ne.domain=be?oe.domain:void 0,$.parent=!0,$.reactions.push(ne),$.state!=0&&fe(this,$,!1),ne.promise},catch:function(pe){return this.then(void 0,pe)}}),p=T(function(){var pe=new v,le=ae(pe);this.promise=pe,this.resolve=H(te,pe,le),this.reject=H(X,pe,le)},"p"),F.f=ce=T(function(pe){return pe===G||pe===d?new p:ue(pe)},"de"),f||typeof l!="function"||(h=l.prototype.then,i(l.prototype,"then",function(pe,le){var $=this;return new G(function(ne,J){h.call($,ne,J)}).then(pe,le)},{unsafe:!0}),typeof ie=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(pe){return C(G,ie.apply(r,arguments))}}))),m({global:!0,wrap:!0,forced:we},{Promise:G}),u(G,Q,!1,!0),a(Q),d=s(Q),m({target:Q,stat:!0,forced:we},{reject:function(pe){var le=ce(this);return le.reject.call(void 0,pe),le.promise}}),m({target:Q,stat:!0,forced:f||we},{resolve:function(pe){return C(f&&this===d?G:this,pe)}}),m({target:Q,stat:!0,forced:ve},{all:function(pe){var le=this,$=ce(le),ne=$.resolve,J=$.reject,de=R(function(){var Te=c(le.resolve),me=[],Ee=0,Le=1;b(pe,function(Fe){var Ge=Ee++,ze=!1;me.push(void 0),Le++,Te.call(le,Fe).then(function(et){ze||(ze=!0,me[Ge]=et,--Le||ne(me))},J)}),--Le||ne(me)});return de.error&&J(de.value),$.promise},race:function(pe){var le=this,$=ce(le),ne=$.reject,J=R(function(){var de=c(le.resolve);b(pe,function(Te){de.call(le,Te).then($.resolve,ne)})});return J.error&&ne(J.value),$.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(r,Y,k){var v=r("../internals/export"),n=r("../internals/get-built-in"),p=r("../internals/a-function"),d=r("../internals/an-object"),h=r("../internals/is-object"),m=r("../internals/object-create"),f=r("../internals/function-bind"),r=r("../internals/fails"),s=n("Reflect","construct"),l=r(function(){function u(){}return T(u,"u"),!(s(function(){},[],u)instanceof u)}),i=!r(function(){s(function(){})}),n=l||i;v({target:"Reflect",stat:!0,forced:n,sham:n},{construct:function(u,a){p(u),d(a);var o=arguments.length<3?u:p(arguments[2]);if(i&&!l)return s(u,a,o);if(u==o){switch(a.length){case 0:return new u;case 1:return new u(a[0]);case 2:return new u(a[0],a[1]);case 3:return new u(a[0],a[1],a[2]);case 4:return new u(a[0],a[1],a[2],a[3])}var c=[null];return c.push.apply(c,a),new(f.apply(u,c))}return c=o.prototype,o=m(h(c)?c:Object.prototype),c=Function.apply.call(u,o,a),h(c)?c:o}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(t,Y,k){var v=t("../internals/export"),p=t("../internals/is-object"),d=t("../internals/an-object"),h=t("../internals/has"),m=t("../internals/object-get-own-property-descriptor"),f=t("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:T(function r(s,l){var i,n=arguments.length<3?s:arguments[2];return d(s)===n?s[l]:(i=m.f(s,l))?h(i,"value")?i.value:i.get===void 0?void 0:i.get.call(n):p(i=f(s))?r(i,l,n):void 0},"r")})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(t,Y,k){var v=t("../internals/descriptors"),p=t("../internals/global"),d=t("../internals/is-forced"),h=t("../internals/inherit-if-required"),m=t("../internals/object-define-property").f,f=t("../internals/object-get-own-property-names").f,r=t("../internals/is-regexp"),s=t("../internals/regexp-flags"),l=t("../internals/regexp-sticky-helpers"),i=t("../internals/redefine"),n=t("../internals/fails"),u=t("../internals/internal-state").set,a=t("../internals/set-species"),o=t("../internals/well-known-symbol")("match"),c=p.RegExp,y=c.prototype,_=/a/g,x=/a/g,b=new c(_)!==_,w=l.UNSUPPORTED_Y;if(v&&d("RegExp",!b||w||n(function(){return x[o]=!1,c(_)!=_||c(x)==x||c(_,"i")!="/a/i"}))){for(var M=function(C,I){var F,R=this instanceof M,U=r(C),z=I===void 0;return!R&&U&&C.constructor===M&&z?C:(b?U&&!z&&(C=C.source):C instanceof M&&(z&&(I=s.call(C)),C=C.source),w&&(F=!!I&&-1<I.indexOf("y"))&&(I=I.replace(/y/g,"")),U=h(b?new c(C,I):c(C,I),R?this:y,M),w&&F&&u(U,{sticky:F}),U)},E=f(c),A=0;E.length>A;)(function(C){C in M||m(M,C,{configurable:!0,get:function(){return c[C]},set:function(I){c[C]=I}})})(E[A++]);(y.constructor=M).prototype=y,i(p,"RegExp",M)}a("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(p,Y,k){"use strict";var v=p("../internals/export"),p=p("../internals/regexp-exec");v({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(h,Y,k){"use strict";var v=h("../internals/redefine"),p=h("../internals/an-object"),r=h("../internals/fails"),d=h("../internals/regexp-flags"),h="toString",m=RegExp.prototype,f=m[h],r=r(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),s=f.name!=h;(r||s)&&v(RegExp.prototype,h,function(){var l=p(this),i=String(l.source),n=l.flags;return"/"+i+"/"+String(n===void 0&&l instanceof RegExp&&!("flags"in m)?d.call(l):n)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(p,Y,k){"use strict";var v=p("../internals/collection"),p=p("../internals/collection-strong");Y.exports=v("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},p)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(f,Y,k){"use strict";var v=f("../internals/export"),p=f("../internals/object-get-own-property-descriptor").f,d=f("../internals/to-length"),h=f("../internals/not-a-regexp"),m=f("../internals/require-object-coercible"),l=f("../internals/correct-is-regexp-logic"),f=f("../internals/is-pure"),r="".endsWith,s=Math.min,l=l("endsWith");v({target:"String",proto:!0,forced:!!(f||l||!(v=p(String.prototype,"endsWith"))||v.writable)&&!l},{endsWith:function(i){var n=String(m(this)),u=(h(i),1<arguments.length?arguments[1]:void 0),a=d(n.length),u=u===void 0?a:s(d(u),a),a=String(i);return r?r.call(n,a,u):n.slice(u-a.length,u)===a}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(t,Y,k){"use strict";var v=t("../internals/export"),p=t("../internals/not-a-regexp"),d=t("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(h){return!!~String(d(this)).indexOf(p(h),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(d,Y,k){"use strict";var v=d("../internals/string-multibyte").charAt,p=d("../internals/internal-state"),d=d("../internals/define-iterator"),h="String Iterator",m=p.set,f=p.getterFor(h);d(String,"String",function(r){m(this,{type:h,string:String(r),index:0})},function(){var r=f(this),s=r.string,l=r.index;return l>=s.length?{value:void 0,done:!0}:(s=v(s,l),r.index+=s.length,{value:s,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(t,Y,k){"use strict";var v=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),d=t("../internals/to-length"),h=t("../internals/require-object-coercible"),m=t("../internals/advance-string-index"),f=t("../internals/regexp-exec-abstract");v("match",1,function(r,s,l){return[function(i){var n=h(this),u=i?.[r];return u!==void 0?u.call(i,n):new RegExp(i)[r](String(n))},function(i){var n=l(s,i,this);if(n.done)return n.value;var u=p(i),a=String(this);if(!u.global)return f(u,a);for(var o=u.unicode,c=[],y=u.lastIndex=0;(_=f(u,a))!==null;){var _=String(_[0]);(c[y]=_)===""&&(u.lastIndex=m(a,d(u.lastIndex),o)),y++}return y===0?null:c}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(t,Y,k){"use strict";var v=t("../internals/export"),p=t("../internals/string-pad").start;v({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(d){return p(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(t,Y,k){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(t,Y,k){"use strict";var v=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),d=t("../internals/to-object"),h=t("../internals/to-length"),m=t("../internals/to-integer"),f=t("../internals/require-object-coercible"),r=t("../internals/advance-string-index"),s=t("../internals/regexp-exec-abstract"),l=Math.max,i=Math.min,n=Math.floor,u=/\$([$&'`]|\d\d?|<[^>]*>)/g,a=/\$([$&'`]|\d\d?)/g;v("replace",2,function(o,c,y,_){var x=_.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=_.REPLACE_KEEPS_$0,w=x?"$":"$0";return[function(M,E){var A=f(this),C=M?.[o];return C!==void 0?C.call(M,A,E):c.call(String(A),M,E)},function(M,E){if(!x&&b||typeof E=="string"&&E.indexOf(w)===-1){var A=y(c,M,this,E);if(A.done)return A.value}for(var C,I=p(M),F=String(this),R=typeof E=="function",U=(R||(E=String(E)),I.global),z=(U&&(C=I.unicode,I.lastIndex=0),[]);(j=s(I,F))!==null&&(z.push(j),U);)String(j[0])===""&&(I.lastIndex=r(F,h(I.lastIndex),C));for(var P,W="",Q=0,ae=0;ae<z.length;ae++){for(var j=z[ae],L=String(j[0]),G=l(i(m(j.index),F.length),0),N=[],Z=1;Z<j.length;Z++)N.push((P=j[Z])===void 0?P:String(P));var oe=j.groups,ie=R?(ie=[L].concat(N,G,F),oe!==void 0&&ie.push(oe),String(E.apply(void 0,ie))):function(ce,ue,be,ye,se,xe){var Se=be+ce.length,Ie=ye.length,Me=a;return se!==void 0&&(se=d(se),Me=u),c.call(xe,Me,function(q,we){var ve;switch(we.charAt(0)){case"$":return"$";case"&":return ce;case"`":return ue.slice(0,be);case"'":return ue.slice(Se);case"<":ve=se[we.slice(1,-1)];break;default:var re,fe=+we;if(fe==0)return q;if(Ie<fe)return(re=n(fe/10))!==0&&re<=Ie?ye[re-1]===void 0?we.charAt(1):ye[re-1]+we.charAt(1):q;ve=ye[fe-1]}return ve===void 0?"":ve})}(L,F,G,N,oe,E);Q<=G&&(W+=F.slice(Q,G)+ie,Q=G+L.length)}return W+F.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(t,Y,k){"use strict";var v=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),d=t("../internals/require-object-coercible"),h=t("../internals/same-value"),m=t("../internals/regexp-exec-abstract");v("search",1,function(f,r,s){return[function(l){var i=d(this),n=l?.[f];return n!==void 0?n.call(l,i):new RegExp(l)[f](String(i))},function(l){var i,n=s(r,l,this);return n.done?n.value:(n=p(l),l=String(this),i=n.lastIndex,h(i,0)||(n.lastIndex=0),l=m(n,l),h(n.lastIndex,i)||(n.lastIndex=i),l===null?-1:l.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(i,Y,k){"use strict";var v=i("../internals/fix-regexp-well-known-symbol-logic"),p=i("../internals/is-regexp"),d=i("../internals/an-object"),h=i("../internals/require-object-coercible"),m=i("../internals/species-constructor"),f=i("../internals/advance-string-index"),r=i("../internals/to-length"),s=i("../internals/regexp-exec-abstract"),l=i("../internals/regexp-exec"),i=i("../internals/fails"),n=[].push,u=Math.min,a=4294967295,o=!i(function(){return!RegExp(a,"y")});v("split",2,function(c,y,_){var x="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(b,w){var M=String(h(this)),E=w===void 0?a:w>>>0;if(E==0)return[];if(b===void 0)return[M];if(!p(b))return y.call(M,b,E);for(var A,C,I,F=[],w=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.unicode?"u":"")+(b.sticky?"y":""),R=0,U=new RegExp(b.source,w+"g");(A=l.call(U,M))&&!(R<(C=U.lastIndex)&&(F.push(M.slice(R,A.index)),1<A.length&&A.index<M.length&&n.apply(F,A.slice(1)),I=A[0].length,R=C,F.length>=E));)U.lastIndex===A.index&&U.lastIndex++;return R===M.length?!I&&U.test("")||F.push(""):F.push(M.slice(R)),F.length>E?F.slice(0,E):F}:"0".split(void 0,0).length?function(b,w){return b===void 0&&w===0?[]:y.call(this,b,w)}:y;return[function(b,w){var M=h(this),E=b?.[c];return E!==void 0?E.call(b,M,w):x.call(String(M),b,w)},function(A,w){var M=_(x,A,this,w,x!==y);if(M.done)return M.value;var M=d(A),E=String(this),A=m(M,RegExp),C=M.unicode,I=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(o?"y":"g"),F=new A(o?M:"^(?:"+M.source+")",I),R=w===void 0?a:w>>>0;if(R==0)return[];if(E.length===0)return s(F,E)===null?[E]:[];for(var U=0,z=0,P=[];z<E.length;){F.lastIndex=o?z:0;var W,Q=s(F,o?E:E.slice(z));if(Q===null||(W=u(r(F.lastIndex+(o?0:z)),E.length))===U)z=f(E,z,C);else{if(P.push(E.slice(U,z)),P.length===R)return P;for(var ae=1;ae<=Q.length-1;ae++)if(P.push(Q[ae]),P.length===R)return P;z=U=W}}return P.push(E.slice(U)),P}]},!o)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(f,Y,k){"use strict";var v=f("../internals/export"),p=f("../internals/object-get-own-property-descriptor").f,d=f("../internals/to-length"),h=f("../internals/not-a-regexp"),m=f("../internals/require-object-coercible"),l=f("../internals/correct-is-regexp-logic"),f=f("../internals/is-pure"),r="".startsWith,s=Math.min,l=l("startsWith");v({target:"String",proto:!0,forced:!!(f||l||!(v=p(String.prototype,"startsWith"))||v.writable)&&!l},{startsWith:function(a){var n=String(m(this)),u=(h(a),d(s(1<arguments.length?arguments[1]:void 0,n.length))),a=String(a);return r?r.call(n,a,u):n.slice(u,u+a.length)===a}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(t,Y,k){"use strict";var v=t("../internals/export"),p=t("../internals/create-html");v({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return p(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(t,Y,k){"use strict";var v=t("../internals/export"),p=t("../internals/string-trim").trim;v({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return p(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(u,Y,k){"use strict";var v,p,d,h,m,f=u("../internals/export"),r=u("../internals/descriptors"),s=u("../internals/global"),l=u("../internals/has"),i=u("../internals/is-object"),n=u("../internals/object-define-property").f,u=u("../internals/copy-constructor-properties"),a=s.Symbol;!r||typeof a!="function"||"description"in a.prototype&&a().description===void 0||(v={},u(p=T(function(){var o=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),c=this instanceof p?new a(o):o===void 0?a():a(o);return o===""&&(v[c]=!0),c},"p"),a),(s=p.prototype=a.prototype).constructor=p,d=s.toString,h=String(a("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,n(s,"description",{configurable:!0,get:function(){var o=i(this)?this.valueOf():this,c=d.call(o);return l(v,o)?"":(o=h?c.slice(7,-1):c.replace(m,"$1"))===""?void 0:o}}),f({global:!0,forced:!0},{Symbol:p}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(t,Y,k){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(ue,Y,k){"use strict";function v(J,de){var Te=ve[J]=M(xe[ce]);return be(Te,{type:ie,tag:J,description:de}),l||(Te.description=de),Te}T(v,"m");function p(J,me){y(J);var Te=x(me),me=E(Te).concat(ne(Te));return Z(me,function(Ee){l&&!$.call(Te,Ee)||le(J,Ee,Te[Ee])}),J}T(p,"p");function d(me,Ee){var Te,me=x(me),Ee=b(Ee,!0);if(me!==se||!a(ve,Ee)||a(re,Ee))return!(Te=Ie(me,Ee))||!a(ve,Ee)||a(me,oe)&&me[oe][Ee]||(Te.enumerable=!0),Te}T(d,"i");function h(de){var de=q(x(de)),Te=[];return Z(de,function(me){a(ve,me)||a(Q,me)||Te.push(me)}),Te}T(h,"f");var m=ue("../internals/export"),f=ue("../internals/global"),r=ue("../internals/get-built-in"),s=ue("../internals/is-pure"),l=ue("../internals/descriptors"),i=ue("../internals/native-symbol"),n=ue("../internals/use-symbol-as-uid"),u=ue("../internals/fails"),a=ue("../internals/has"),o=ue("../internals/is-array"),c=ue("../internals/is-object"),y=ue("../internals/an-object"),_=ue("../internals/to-object"),x=ue("../internals/to-indexed-object"),b=ue("../internals/to-primitive"),w=ue("../internals/create-property-descriptor"),M=ue("../internals/object-create"),E=ue("../internals/object-keys"),A=ue("../internals/object-get-own-property-names"),C=ue("../internals/object-get-own-property-names-external"),I=ue("../internals/object-get-own-property-symbols"),F=ue("../internals/object-get-own-property-descriptor"),R=ue("../internals/object-define-property"),U=ue("../internals/object-property-is-enumerable"),z=ue("../internals/create-non-enumerable-property"),P=ue("../internals/redefine"),W=ue("../internals/shared"),B=ue("../internals/shared-key"),Q=ue("../internals/hidden-keys"),ae=ue("../internals/uid"),j=ue("../internals/well-known-symbol"),L=ue("../internals/well-known-symbol-wrapped"),G=ue("../internals/define-well-known-symbol"),N=ue("../internals/set-to-string-tag"),H=ue("../internals/internal-state"),Z=ue("../internals/array-iteration").forEach,oe=B("hidden"),ie="Symbol",ce="prototype",ue=j("toPrimitive"),be=H.set,ye=H.getterFor(ie),se=Object[ce],xe=f.Symbol,Se=r("JSON","stringify"),Ie=F.f,Me=R.f,q=C.f,we=U.f,ve=W("symbols"),re=W("op-symbols"),fe=W("string-to-symbol-registry"),ge=W("symbol-to-string-registry"),B=W("wks"),H=f.QObject,X=!H||!H[ce]||!H[ce].findChild,te=l&&u(function(){return M(Me({},"a",{get:function(){return Me(this,"a",{value:7}).a}})).a!=7})?function(J,de,Te){var me=Ie(se,de);me&&delete se[de],Me(J,de,Te),me&&J!==se&&Me(se,de,me)}:Me,pe=n?function(J){return typeof J=="symbol"}:function(J){return Object(J)instanceof xe},le=T(function(J,de,Te){return J===se&&le(re,de,Te),y(J),de=b(de,!0),y(Te),(a(ve,de)?(Te.enumerable?(a(J,oe)&&J[oe][de]&&(J[oe][de]=!1),Te=M(Te,{enumerable:w(0,!1)})):(a(J,oe)||Me(J,oe,w(1,{})),J[oe][de]=!0),te):Me)(J,de,Te)},"_e"),$=T(function(de){var de=b(de,!0),Te=we.call(this,de);return!(this===se&&a(ve,de)&&!a(re,de))&&(!(Te||!a(this,de)||!a(ve,de)||a(this,oe)&&this[oe][de])||Te)},"Z"),ne=T(function(Te){var de=Te===se,Te=q(de?re:x(Te)),me=[];return Z(Te,function(Ee){!a(ve,Ee)||de&&!a(se,Ee)||me.push(ve[Ee])}),me},"$");i||(P((xe=T(function(){if(this instanceof xe)throw TypeError("Symbol is not a constructor");var J=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,de=ae(J),Te=T(function(me){this===se&&Te.call(re,me),a(this,oe)&&a(this[oe],de)&&(this[oe][de]=!1),te(this,de,w(1,me))},"pe");return l&&X&&te(se,de,{configurable:!0,set:Te}),v(de,J)},"ae"))[ce],"toString",function(){return ye(this).tag}),P(xe,"withoutSetter",function(J){return v(ae(J),J)}),U.f=$,R.f=le,F.f=d,A.f=C.f=h,I.f=ne,L.f=function(J){return v(j(J),J)},l&&(Me(xe[ce],"description",{configurable:!0,get:function(){return ye(this).description}}),s||P(se,"propertyIsEnumerable",$,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:xe}),Z(E(B),function(J){G(J)}),m({target:ie,stat:!0,forced:!i},{for:function(Te){var de,Te=String(Te);return a(fe,Te)?fe[Te]:(de=xe(Te),fe[Te]=de,ge[de]=Te,de)},keyFor:function(J){if(!pe(J))throw TypeError(J+" is not a symbol");if(a(ge,J))return ge[J]},useSetter:function(){X=!0},useSimple:function(){X=!1}}),m({target:"Object",stat:!0,forced:!i,sham:!l},{create:function(J,de){return de===void 0?M(J):p(M(J),de)},defineProperty:le,defineProperties:p,getOwnPropertyDescriptor:d}),m({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:h,getOwnPropertySymbols:ne}),m({target:"Object",stat:!0,forced:u(function(){I.f(1)})},{getOwnPropertySymbols:function(J){return I.f(_(J))}}),Se&&m({target:"JSON",stat:!0,forced:!i||u(function(){var J=xe();return Se([J])!="[null]"||Se({a:J})!="{}"||Se(Object(J))!="{}"})},{stringify:function(J,de,Te){for(var me,Ee=[J],Le=1;Le<arguments.length;)Ee.push(arguments[Le++]);if((c(me=de)||J!==void 0)&&!pe(J))return o(de)||(de=T(function(Fe,Ge){if(typeof me=="function"&&(Ge=me.call(this,Fe,Ge)),!pe(Ge))return Ge},"ee")),Ee[1]=de,Se.apply(null,Ee)}}),xe[ce][ue]||z(xe[ce],ue,xe[ce].valueOf),N(xe,ie),Q[oe]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-copy-within"),d=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(h,m){return p.call(d(this),h,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").every,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(h){return p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-fill"),d=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(h){return p.apply(d(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").filter,d=t("../internals/species-constructor"),h=v.aTypedArray,m=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(f){for(var r=p(h(this),f,1<arguments.length?arguments[1]:void 0),f=d(this,this.constructor),s=0,l=r.length,i=new(m(f))(l);s<l;)i[s]=r[s++];return i})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").findIndex,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(h){return p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").find,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(h){return p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(t,Y,k){t("../internals/typed-array-constructor")("Float32",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],212:[function(t,Y,k){t("../internals/typed-array-constructor")("Float64",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],213:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").forEach,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(h){p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-includes").includes,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(h){return p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-includes").indexOf,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(h){return p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(t,Y,k){t("../internals/typed-array-constructor")("Int16",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],217:[function(t,Y,k){t("../internals/typed-array-constructor")("Int32",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],218:[function(p,Y,k){"use strict";function v(){return d.call(f(this))}T(v,"m");var l=p("../internals/global"),s=p("../internals/array-buffer-view-core"),r=p("../modules/es.array.iterator"),p=p("../internals/well-known-symbol")("iterator"),l=l.Uint8Array,d=r.values,h=r.keys,m=r.entries,f=s.aTypedArray,r=s.exportTypedArrayMethod,s=l&&l.prototype[p],l=!!s&&(s.name=="values"||s.name==null);r("entries",function(){return m.call(f(this))}),r("keys",function(){return h.call(f(this))}),r("values",v,!l),r(p,v,!l)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(p,Y,k){"use strict";var p=p("../internals/array-buffer-view-core"),v=p.aTypedArray,p=p.exportTypedArrayMethod,d=[].join;p("join",function(h){return d.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],220:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-last-index-of"),d=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(h){return p.apply(d(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").map,d=t("../internals/species-constructor"),h=v.aTypedArray,m=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(f){return p(h(this),f,1<arguments.length?arguments[1]:void 0,function(r,s){return new(m(d(r,r.constructor)))(s)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-reduce").right,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(h){return p(d(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-reduce").left,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(h){return p(d(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(p,Y,k){"use strict";var p=p("../internals/array-buffer-view-core"),v=p.aTypedArray,p=p.exportTypedArrayMethod,d=Math.floor;p("reverse",function(){for(var h,m=v(this).length,f=d(m/2),r=0;r<f;)h=this[r],this[r++]=this[--m],this[m]=h;return this})},{"../internals/array-buffer-view-core":12}],225:[function(m,Y,k){"use strict";var v=m("../internals/array-buffer-view-core"),p=m("../internals/to-length"),d=m("../internals/to-offset"),h=m("../internals/to-object"),m=m("../internals/fails"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("set",function(r){f(this);var s=d(1<arguments.length?arguments[1]:void 0,1),l=this.length,i=h(r),n=p(i.length),u=0;if(l<n+s)throw RangeError("Wrong length");for(;u<n;)this[s+u]=i[u++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(p,Y,k){"use strict";var m=p("../internals/array-buffer-view-core"),v=p("../internals/species-constructor"),p=p("../internals/fails"),d=m.aTypedArray,h=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,f=[].slice;m("slice",function(r,s){for(var l=f.call(d(this),r,s),r=v(this,this.constructor),i=0,n=l.length,u=new(h(r))(n);i<n;)u[i]=l[i++];return u},p(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").some,d=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(h){return p(d(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(p,Y,k){"use strict";var p=p("../internals/array-buffer-view-core"),v=p.aTypedArray,p=p.exportTypedArrayMethod,d=[].sort;p("sort",function(h){return d.call(v(this),h)})},{"../internals/array-buffer-view-core":12}],229:[function(t,Y,k){"use strict";var v=t("../internals/array-buffer-view-core"),p=t("../internals/to-length"),d=t("../internals/to-absolute-index"),h=t("../internals/species-constructor"),m=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(i,r){var s=m(this),l=s.length,i=d(i,l);return new(h(s,s.constructor))(s.buffer,s.byteOffset+i*s.BYTES_PER_ELEMENT,p((r===void 0?l:d(r,l))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(p,Y,k){"use strict";var m=p("../internals/global"),v=p("../internals/array-buffer-view-core"),p=p("../internals/fails"),d=m.Int8Array,h=v.aTypedArray,m=v.exportTypedArrayMethod,f=[].toLocaleString,r=[].slice,s=!!d&&p(function(){f.call(new d(1))});m("toLocaleString",function(){return f.apply(s?r.call(h(this)):h(this),arguments)},p(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!p(function(){d.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(p,Y,k){"use strict";var v=p("../internals/array-buffer-view-core").exportTypedArrayMethod,m=p("../internals/fails"),p=p("../internals/global").Uint8Array,p=p&&p.prototype||{},d=[].toString,h=[].join,m=(m(function(){d.call({})})&&(d=T(function(){return h.call(this)},"i")),p.toString!=d);v("toString",d,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(t,Y,k){t("../internals/typed-array-constructor")("Uint16",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],233:[function(t,Y,k){t("../internals/typed-array-constructor")("Uint32",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],234:[function(t,Y,k){t("../internals/typed-array-constructor")("Uint8",function(v){return function(p,d,h){return v(this,p,d,h)}})},{"../internals/typed-array-constructor":142}],235:[function(t,Y,k){t("../internals/typed-array-constructor")("Uint8",function(v){return function(p,d,h){return v(this,p,d,h)}},!0)},{"../internals/typed-array-constructor":142}],236:[function(a,y,k){"use strict";function v(_){return function(){return _(this,arguments.length?arguments[0]:void 0)}}T(v,"m");var p,d,h,m,f,o=a("../internals/global"),r=a("../internals/redefine-all"),s=a("../internals/internal-metadata"),l=a("../internals/collection"),i=a("../internals/collection-weak"),n=a("../internals/is-object"),u=a("../internals/internal-state").enforce,a=a("../internals/native-weak-map"),o=!o.ActiveXObject&&"ActiveXObject"in o,c=Object.isExtensible,y=y.exports=l("WeakMap",v,i);a&&o&&(p=i.getConstructor(v,"WeakMap",!0),s.REQUIRED=!0,l=y.prototype,d=l.delete,h=l.has,m=l.get,f=l.set,r(l,{delete:function(_){var x;return n(_)&&!c(_)?((x=u(this)).frozen||(x.frozen=new p),d.call(this,_)||x.frozen.delete(_)):d.call(this,_)},has:function(_){var x;return n(_)&&!c(_)?((x=u(this)).frozen||(x.frozen=new p),h.call(this,_)||x.frozen.has(_)):h.call(this,_)},get:function(_){var x;return!n(_)||c(_)||((x=u(this)).frozen||(x.frozen=new p),h.call(this,_))?m.call(this,_):x.frozen.get(_)},set:function(_,x){var b;return!n(_)||c(_)||((b=u(this)).frozen||(b.frozen=new p),h.call(this,_))?f.call(this,_,x):b.frozen.set(_,x),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(t,Y,k){var v,p=t("../internals/global"),d=t("../internals/dom-iterables"),h=t("../internals/array-for-each"),m=t("../internals/create-non-enumerable-property");for(v in d){var f=p[v],f=f&&f.prototype;if(f&&f.forEach!==h)try{m(f,"forEach",h)}catch{f.forEach=h}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(f,Y,k){var v,p=f("../internals/global"),d=f("../internals/dom-iterables"),h=f("../modules/es.array.iterator"),m=f("../internals/create-non-enumerable-property"),f=f("../internals/well-known-symbol"),r=f("iterator"),s=f("toStringTag"),l=h.values;for(v in d){var i=p[v],n=i&&i.prototype;if(n){if(n[r]!==l)try{m(n,r,l)}catch{n[r]=l}if(n[s]||m(n,s,v),d[v]){for(var u in h)if(n[u]!==h[u])try{m(n,u,h[u])}catch{n[u]=h[u]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(oe,Y,k){"use strict";oe("../modules/es.array.iterator");function v(ie){try{return decodeURIComponent(ie)}catch{return ie}}T(v,"m");function p(ie){return G[ie]}T(p,"p");function d(ie){return encodeURIComponent(ie).replace(L,p)}T(d,"i");function h(ie){this.entries.length=0,N(this.entries,ie)}T(h,"f");function m(ie,ce){if(ie<ce)throw TypeError("Not enough arguments")}T(m,"y");function f(){o(this,f,R);var ie,ce,ue,be,ye,se,xe,Se,Ie=0<arguments.length?arguments[0]:void 0,Me=[];if(z(this,{type:R,entries:Me,updateURL:function(){},updateSearchParams:h}),Ie!==void 0)if(b(Ie))if(typeof(ie=A(Ie))=="function")for(ue=(ce=ie.call(Ie)).next;!(be=ue.call(ce)).done;){if((se=(ye=(be=E(x(be.value))).next).call(be)).done||(xe=ye.call(be)).done||!ye.call(be).done)throw TypeError("Expected sequence with length 2");Me.push({key:se.value+"",value:xe.value+""})}else for(Se in Ie)c(Ie,Se)&&Me.push({key:Se,value:Ie[Se]+""});else N(Me,typeof Ie=="string"?Ie.charAt(0)==="?"?Ie.slice(1):Ie:Ie+"")}T(f,"g");var r=oe("../internals/export"),F=oe("../internals/get-built-in"),s=oe("../internals/native-url"),l=oe("../internals/redefine"),i=oe("../internals/redefine-all"),n=oe("../internals/set-to-string-tag"),u=oe("../internals/create-iterator-constructor"),a=oe("../internals/internal-state"),o=oe("../internals/an-instance"),c=oe("../internals/has"),y=oe("../internals/function-bind-context"),_=oe("../internals/classof"),x=oe("../internals/an-object"),b=oe("../internals/is-object"),w=oe("../internals/object-create"),M=oe("../internals/create-property-descriptor"),E=oe("../internals/get-iterator"),A=oe("../internals/get-iterator-method"),oe=oe("../internals/well-known-symbol"),C=F("fetch"),I=F("Headers"),F=oe("iterator"),R="URLSearchParams",U=R+"Iterator",z=a.set,P=a.getterFor(R),W=a.getterFor(U),Q=/\+/g,ae=Array(4),j=T(function(ie){var ce,ue=ie.replace(Q," "),be=4;try{return decodeURIComponent(ue)}catch{for(;be;)ue=ue.replace((ce=be--,ae[ce-1]||(ae[ce-1]=RegExp("((?:%[\\da-f]{2}){"+ce+"})","gi"))),v);return ue}},"j"),L=/[!'()~]|%20/g,G={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=T(function(ie,ce){if(ce)for(var ue,be=ce.split("&"),ye=0;ye<be.length;)(ue=be[ye++]).length&&(ue=ue.split("="),ie.push({key:j(ue.shift()),value:j(ue.join("="))}))},"G"),Z=u(function(ie,ce){z(this,{type:U,iterator:E(P(ie).entries),kind:ce})},"Iterator",function(){var ce=W(this),ie=ce.kind,ce=ce.iterator.next(),ue=ce.value;return ce.done||(ce.value=ie==="keys"?ue.key:ie==="values"?ue.value:[ue.key,ue.value]),ce}),oe=f.prototype;i(oe,{append:function(ie,ce){m(arguments.length,2);var ue=P(this);ue.entries.push({key:ie+"",value:ce+""}),ue.updateURL()},delete:function(ie){m(arguments.length,1);for(var ce=P(this),ue=ce.entries,be=ie+"",ye=0;ye<ue.length;)ue[ye].key===be?ue.splice(ye,1):ye++;ce.updateURL()},get:function(ie){m(arguments.length,1);for(var ce=P(this).entries,ue=ie+"",be=0;be<ce.length;be++)if(ce[be].key===ue)return ce[be].value;return null},getAll:function(ie){m(arguments.length,1);for(var ce=P(this).entries,ue=ie+"",be=[],ye=0;ye<ce.length;ye++)ce[ye].key===ue&&be.push(ce[ye].value);return be},has:function(ie){m(arguments.length,1);for(var ce=P(this).entries,ue=ie+"",be=0;be<ce.length;)if(ce[be++].key===ue)return!0;return!1},set:function(ie,ce){m(arguments.length,1);for(var ue,be=P(this),ye=be.entries,se=!1,xe=ie+"",Se=ce+"",Ie=0;Ie<ye.length;Ie++)(ue=ye[Ie]).key===xe&&(se?ye.splice(Ie--,1):(se=!0,ue.value=Se));se||ye.push({key:xe,value:Se}),be.updateURL()},sort:function(){for(var ie,ce,ue=P(this),be=ue.entries,ye=be.slice(),se=be.length=0;se<ye.length;se++){for(ie=ye[se],ce=0;ce<se;ce++)if(be[ce].key>ie.key){be.splice(ce,0,ie);break}ce===se&&be.push(ie)}ue.updateURL()},forEach:function(ie){for(var ce,ue=P(this).entries,be=y(ie,1<arguments.length?arguments[1]:void 0,3),ye=0;ye<ue.length;)be((ce=ue[ye++]).value,ce.key,this)},keys:function(){return new Z(this,"keys")},values:function(){return new Z(this,"values")},entries:function(){return new Z(this,"entries")}},{enumerable:!0}),l(oe,F,oe.entries),l(oe,"toString",function(){for(var ie,ce=P(this).entries,ue=[],be=0;be<ce.length;)ie=ce[be++],ue.push(d(ie.key)+"="+d(ie.value));return ue.join("&")},{enumerable:!0}),n(f,R),r({global:!0,forced:!s},{URLSearchParams:f}),s||typeof C!="function"||typeof I!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(ye){var ce,ue,be,ye=[ye];return 1<arguments.length&&(b(ce=arguments[1])&&(ue=ce.body,_(ue)===R&&((be=ce.headers?new I(ce.headers):new I).has("content-type")||be.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ce=w(ce,{body:M(0,String(ue)),headers:M(0,be)}))),ye.push(ce)),C.apply(this,ye)}}),Y.exports={URLSearchParams:f,getState:P}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(E,Y,k){"use strict";E("../modules/es.string.iterator");function v(Ae){var $e,it,Ye,wt;if(typeof Ae=="number"){for($e=[],it=0;it<4;it++)$e.unshift(Ae%256),Ae=U(Ae/256);return $e.join(".")}if(typeof Ae!="object")return Ae;for($e="",Ye=xe(Ae),it=0;it<8;it++)wt&&Ae[it]===0||(wt=wt&&!1,Ye===it?($e+=it?":":"::",wt=!0):($e+=Ae[it].toString(16),it<7&&($e+=":")));return"["+$e+"]"}T(v,"m");function p(Ae){return!Ae.host||Ae.cannotBeABaseURL||Ae.scheme=="file"}T(p,"p");function d(Ae,$e,it,Ye){var wt,qe,jt,nt=it||pe,_t=0,st="",Lt=!1,Bt=!1,Ot=!1;for(it||(Ae.scheme="",Ae.username="",Ae.password="",Ae.host=null,Ae.port=null,Ae.path=[],Ae.query=null,Ae.fragment=null,Ae.cannotBeABaseURL=!1,$e=$e.replace(be,"")),$e=$e.replace(ye,""),wt=_($e);_t<=wt.length;){switch(qe=wt[_t],nt){case pe:if(!qe||!j.test(qe)){if(it)return W;nt=$;continue}st+=qe.toLowerCase(),nt=le;break;case le:if(qe&&(L.test(qe)||qe=="+"||qe=="-"||qe=="."))st+=qe.toLowerCase();else{if(qe!=":"){if(it)return W;st="",nt=$,_t=0;continue}if(it&&(re(Ae)!=c(ve,st)||st=="file"&&(fe(Ae)||Ae.port!==null)||Ae.scheme=="file"&&!Ae.host))return;if(Ae.scheme=st,it)return void(re(Ae)&&ve[Ae.scheme]==Ae.port&&(Ae.port=null));st="",Ae.scheme=="file"?nt=et:re(Ae)&&Ye&&Ye.scheme==Ae.scheme?nt=ne:re(Ae)?nt=me:wt[_t+1]=="/"?(nt=J,_t++):(Ae.cannotBeABaseURL=!0,Ae.path.push(""),nt=ht)}break;case $:if(!Ye||Ye.cannotBeABaseURL&&qe!="#")return W;if(Ye.cannotBeABaseURL&&qe=="#"){Ae.scheme=Ye.scheme,Ae.path=Ye.path.slice(),Ae.query=Ye.query,Ae.fragment="",Ae.cannotBeABaseURL=!0,nt=xt;break}nt=Ye.scheme=="file"?et:de;continue;case ne:if(qe!="/"||wt[_t+1]!="/"){nt=de;continue}nt=Ee,_t++;break;case J:if(qe=="/"){nt=Le;break}nt=tt;continue;case de:if(Ae.scheme=Ye.scheme,qe==f)Ae.username=Ye.username,Ae.password=Ye.password,Ae.host=Ye.host,Ae.port=Ye.port,Ae.path=Ye.path.slice(),Ae.query=Ye.query;else if(qe=="/"||qe=="\\"&&re(Ae))nt=Te;else if(qe=="?")Ae.username=Ye.username,Ae.password=Ye.password,Ae.host=Ye.host,Ae.port=Ye.port,Ae.path=Ye.path.slice(),Ae.query="",nt=mt;else{if(qe!="#"){Ae.username=Ye.username,Ae.password=Ye.password,Ae.host=Ye.host,Ae.port=Ye.port,Ae.path=Ye.path.slice(),Ae.path.pop(),nt=tt;continue}Ae.username=Ye.username,Ae.password=Ye.password,Ae.host=Ye.host,Ae.port=Ye.port,Ae.path=Ye.path.slice(),Ae.query=Ye.query,Ae.fragment="",nt=xt}break;case Te:if(!re(Ae)||qe!="/"&&qe!="\\"){if(qe!="/"){Ae.username=Ye.username,Ae.password=Ye.password,Ae.host=Ye.host,Ae.port=Ye.port,nt=tt;continue}nt=Le}else nt=Ee;break;case me:if(nt=Ee,qe!="/"||st.charAt(_t+1)!="/")continue;_t++;break;case Ee:if(qe=="/"||qe=="\\")break;nt=Le;continue;case Le:if(qe=="@"){Lt&&(st="%40"+st);for(var Lt=!0,Ft=_(st),Qt=0;Qt<Ft.length;Qt++){var Xt=Ft[Qt];Xt!=":"||Ot?(Xt=we(Xt,q),Ot?Ae.password+=Xt:Ae.username+=Xt):Ot=!0}st=""}else if(qe==f||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&re(Ae)){if(Lt&&st=="")return P;_t-=_(st).length+1,st="",nt=Fe}else st+=qe;break;case Fe:case Ge:if(it&&Ae.scheme=="file"){nt=Qe;continue}if(qe!=":"||Bt){if(qe==f||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&re(Ae)){if(re(Ae)&&st=="")return Q;if(it&&st==""&&(fe(Ae)||Ae.port!==null))return;if(jt=se(Ae,st))return jt;if(st="",nt=Xe,it)return;continue}qe=="["?Bt=!0:qe=="]"&&(Bt=!1),st+=qe}else{if(st=="")return Q;if(jt=se(Ae,st))return jt;if(st="",nt=ze,it==Ge)return}break;case ze:if(!G.test(qe)){if(qe==f||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&re(Ae)||it){if(st!=""){var $t=parseInt(st,10);if(65535<$t)return ae;Ae.port=re(Ae)&&$t===ve[Ae.scheme]?null:$t,st=""}if(it)return;nt=Xe;continue}return ae}st+=qe;break;case et:if(Ae.scheme="file",qe=="/"||qe=="\\")nt=Ke;else{if(!Ye||Ye.scheme!="file"){nt=tt;continue}if(qe==f)Ae.host=Ye.host,Ae.path=Ye.path.slice(),Ae.query=Ye.query;else if(qe=="?")Ae.host=Ye.host,Ae.path=Ye.path.slice(),Ae.query="",nt=mt;else{if(qe!="#"){B(wt.slice(_t).join(""))||(Ae.host=Ye.host,Ae.path=Ye.path.slice(),H(Ae)),nt=tt;continue}Ae.host=Ye.host,Ae.path=Ye.path.slice(),Ae.query=Ye.query,Ae.fragment="",nt=xt}}break;case Ke:if(qe=="/"||qe=="\\"){nt=Qe;break}Ye&&Ye.scheme=="file"&&!B(wt.slice(_t).join(""))&&(ge(Ye.path[0],!0)?Ae.path.push(Ye.path[0]):Ae.host=Ye.host),nt=tt;continue;case Qe:if(qe==f||qe=="/"||qe=="\\"||qe=="?"||qe=="#"){if(!it&&ge(st))nt=tt;else{if(st==""){if(Ae.host="",it)return}else{if(jt=se(Ae,st))return jt;if(Ae.host=="localhost"&&(Ae.host=""),it)return;st=""}nt=Xe}continue}st+=qe;break;case Xe:if(re(Ae)){if(nt=tt,qe!="/"&&qe!="\\")continue}else if(it||qe!="?")if(it||qe!="#"){if(qe!=f&&(nt=tt,qe!="/"))continue}else Ae.fragment="",nt=xt;else Ae.query="",nt=mt;break;case tt:if(qe==f||qe=="/"||qe=="\\"&&re(Ae)||!it&&(qe=="?"||qe=="#")){if(te(st)?(H(Ae),qe=="/"||qe=="\\"&&re(Ae)||Ae.path.push("")):X(st)?qe=="/"||qe=="\\"&&re(Ae)||Ae.path.push(""):(Ae.scheme=="file"&&!Ae.path.length&&ge(st)&&(Ae.host&&(Ae.host=""),st=st.charAt(0)+":"),Ae.path.push(st)),st="",Ae.scheme=="file"&&(qe==f||qe=="?"||qe=="#"))for(;1<Ae.path.length&&Ae.path[0]==="";)Ae.path.shift();qe=="?"?(Ae.query="",nt=mt):qe=="#"&&(Ae.fragment="",nt=xt)}else st+=we(qe,Me);break;case ht:qe=="?"?(Ae.query="",nt=mt):qe=="#"?(Ae.fragment="",nt=xt):qe!=f&&(Ae.path[0]+=we(qe,Se));break;case mt:it||qe!="#"?qe!=f&&(qe=="'"&&re(Ae)?Ae.query+="%27":Ae.query+=qe=="#"?"%23":we(qe,Se)):(Ae.fragment="",nt=xt);break;case xt:qe!=f&&(Ae.fragment+=we(qe,Ie))}_t++}}T(d,"i");function h(qe){var $e,it,Ye=o(this,h,"URL"),wt=1<arguments.length?arguments[1]:void 0,qe=String(qe),jt=F(Ye,{type:"URL"});if(wt!==void 0){if(wt instanceof h)$e=R(wt);else if(it=d($e={},String(wt)))throw TypeError(it)}if(it=d(jt,qe,null,$e))throw TypeError(it);var nt=jt.searchParams=new C;(wt=I(nt)).updateSearchParams(jt.query),wt.updateURL=function(){jt.query=String(nt)||null},i||(Ye.href=gt.call(Ye),Ye.origin=rt.call(Ye),Ye.protocol=ot.call(Ye),Ye.username=dt.call(Ye),Ye.password=yt.call(Ye),Ye.host=Rt.call(Ye),Ye.hostname=fr.call(Ye),Ye.port=pr.call(Ye),Ye.pathname=mr.call(Ye),Ye.search=_r.call(Ye),Ye.searchParams=yr.call(Ye),Ye.hash=gr.call(Ye))}T(h,"f");function m(Ae,$e){return{get:Ae,set:$e,configurable:!0,enumerable:!0}}T(m,"y");var f,r,s,l=E("../internals/export"),i=E("../internals/descriptors"),n=E("../internals/native-url"),ft=E("../internals/global"),u=E("../internals/object-define-properties"),a=E("../internals/redefine"),o=E("../internals/an-instance"),c=E("../internals/has"),y=E("../internals/object-assign"),_=E("../internals/array-from"),x=E("../internals/string-multibyte").codeAt,b=E("../internals/string-punycode-to-ascii"),w=E("../internals/set-to-string-tag"),M=E("../modules/web.url-search-params"),E=E("../internals/internal-state"),A=ft.URL,C=M.URLSearchParams,I=M.getState,F=E.set,R=E.getterFor("URL"),U=Math.floor,z=Math.pow,P="Invalid authority",W="Invalid scheme",Q="Invalid host",ae="Invalid port",j=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,G=/\d/,N=/^(0x|0X)/,Z=/^[0-7]+$/,oe=/^\d+$/,ie=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ue=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,be=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ye=/[\u0009\u000A\u000D]/g,se=T(function(Ae,$e){var it,Ye,wt;if($e.charAt(0)=="[")return $e.charAt($e.length-1)=="]"&&(it=function(qe){var jt=[0,0,0,0,0,0,0,0],nt=0,_t=null,st=0,Lt,Bt,Ot,Ft,Qt,Xt,$t,Ut=T(function(){return qe.charAt(st)},"Pt");if(Ut()==":"){if(qe.charAt(1)!=":")return;st+=2,nt++,_t=nt}for(;Ut();){if(nt==8)return;if(Ut()==":"){if(_t!==null)return;st++,nt++,_t=nt;continue}for(Lt=Bt=0;Bt<4&&ie.test(Ut());)Lt=Lt*16+parseInt(Ut(),16),st++,Bt++;if(Ut()=="."){if(Bt==0||(st-=Bt,nt>6))return;for(Ot=0;Ut();){if(Ft=null,Ot>0)if(Ut()=="."&&Ot<4)st++;else return;if(!G.test(Ut()))return;for(;G.test(Ut());){if(Qt=parseInt(Ut(),10),Ft===null)Ft=Qt;else{if(Ft==0)return;Ft=Ft*10+Qt}if(Ft>255)return;st++}jt[nt]=jt[nt]*256+Ft,Ot++,(Ot==2||Ot==4)&&nt++}if(Ot!=4)return;break}else if(Ut()==":"){if(st++,!Ut())return}else if(Ut())return;jt[nt++]=Lt}if(_t!==null)for(Xt=nt-_t,nt=7;nt!=0&&Xt>0;)$t=jt[nt],jt[nt--]=jt[_t+Xt-1],jt[_t+--Xt]=$t;else if(nt!=8)return;return jt}($e.slice(1,-1)))?void(Ae.host=it):Q;if(re(Ae))return $e=b($e),ce.test($e)||(it=function(qe){var jt=qe.split("."),nt,_t,st,Lt,Bt,Ot,Ft;if(jt.length&&jt[jt.length-1]==""&&jt.pop(),(nt=jt.length)>4)return qe;for(_t=[],st=0;st<nt;st++){if(Lt=jt[st],Lt=="")return qe;if(Bt=10,Lt.length>1&&Lt.charAt(0)=="0"&&(Bt=N.test(Lt)?16:8,Lt=Lt.slice(Bt==8?1:2)),Lt==="")Ot=0;else{if(!(Bt==10?oe:Bt==8?Z:ie).test(Lt))return qe;Ot=parseInt(Lt,Bt)}_t.push(Ot)}for(st=0;st<nt;st++)if(Ot=_t[st],st==nt-1){if(Ot>=z(256,5-nt))return null}else if(Ot>255)return null;for(Ft=_t.pop(),st=0;st<_t.length;st++)Ft+=_t[st]*z(256,3-st);return Ft}($e))===null?Q:void(Ae.host=it);if(ue.test($e))return Q;for(it="",Ye=_($e),wt=0;wt<Ye.length;wt++)it+=we(Ye[wt],Se);Ae.host=it},"J"),xe=T(function(Ae){for(var $e=null,it=1,Ye=null,wt=0,qe=0;qe<8;qe++)Ae[qe]!==0?(it<wt&&($e=Ye,it=wt),Ye=null,wt=0):(Ye===null&&(Ye=qe),++wt);return it<wt&&($e=Ye,it=wt),$e},"ae"),Se={},Ie=y({},Se,{" ":1,'"':1,"<":1,">":1,"`":1}),Me=y({},Ie,{"#":1,"?":1,"{":1,"}":1}),q=y({},Me,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),we=T(function(Ae,$e){var it=x(Ae,0);return 32<it&&it<127&&!c($e,Ae)?Ae:encodeURIComponent(Ae)},"xe"),ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},re=T(function(Ae){return c(ve,Ae.scheme)},"Me"),fe=T(function(Ae){return Ae.username!=""||Ae.password!=""},"Xe"),ge=T(function(Ae,$e){return Ae.length==2&&j.test(Ae.charAt(0))&&((Ae=Ae.charAt(1))==":"||!$e&&Ae=="|")},"Ne"),B=T(function(Ae){return 1<Ae.length&&ge(Ae.slice(0,2))&&(Ae.length==2||(Ae=Ae.charAt(2))==="/"||Ae==="\\"||Ae==="?"||Ae==="#")},"Be"),H=T(function(Ae){var $e=Ae.path,it=$e.length;!it||Ae.scheme=="file"&&it==1&&ge($e[0],!0)||$e.pop()},"ze"),X=T(function(Ae){return Ae==="."||Ae.toLowerCase()==="%2e"},"Ge"),te=T(function(Ae){return(Ae=Ae.toLowerCase())===".."||Ae==="%2e."||Ae===".%2e"||Ae==="%2e%2e"},"ge"),pe={},le={},$={},ne={},J={},de={},Te={},me={},Ee={},Le={},Fe={},Ge={},ze={},et={},Ke={},Qe={},Xe={},tt={},ht={},mt={},xt={},ft=h.prototype,gt=T(function(){var Ae=R(this),$e=Ae.scheme,it=Ae.username,Ye=Ae.password,wt=Ae.host,qe=Ae.port,jt=Ae.path,nt=Ae.query,_t=Ae.fragment,st=$e+":";return wt!==null?(st+="//",fe(Ae)&&(st+=it+(Ye?":"+Ye:"")+"@"),st+=v(wt),qe!==null&&(st+=":"+qe)):$e=="file"&&(st+="//"),st+=Ae.cannotBeABaseURL?jt[0]:jt.length?"/"+jt.join("/"):"",nt!==null&&(st+="?"+nt),_t!==null&&(st+="#"+_t),st},"gt"),rt=T(function(){var Ae=R(this),$e=Ae.scheme,it=Ae.port;if($e=="blob")try{return new URL($e.path[0]).origin}catch{return"null"}return $e!="file"&&re(Ae)?$e+"://"+v(Ae.host)+(it!==null?":"+it:""):"null"},"lt"),ot=T(function(){return R(this).scheme+":"},"Lt"),dt=T(function(){return R(this).username},"Ct"),yt=T(function(){return R(this).password},"ht"),Rt=T(function(){var $e=R(this),Ae=$e.host,$e=$e.port;return Ae===null?"":$e===null?v(Ae):v(Ae)+":"+$e},"Rt"),fr=T(function(){var Ae=R(this).host;return Ae===null?"":v(Ae)},"ar"),pr=T(function(){var Ae=R(this).port;return Ae===null?"":String(Ae)},"ir"),mr=T(function(){var Ae=R(this),$e=Ae.path;return Ae.cannotBeABaseURL?$e[0]:$e.length?"/"+$e.join("/"):""},"lr"),_r=T(function(){var Ae=R(this).query;return Ae?"?"+Ae:""},"yr"),yr=T(function(){return R(this).searchParams},"ur"),gr=T(function(){var Ae=R(this).fragment;return Ae?"#"+Ae:""},"cr");i&&u(ft,{href:m(gt,function(it){var $e=R(this),it=String(it),it=d($e,it);if(it)throw TypeError(it);I($e.searchParams).updateSearchParams($e.query)}),origin:m(rt),protocol:m(ot,function(Ae){var $e=R(this);d($e,String(Ae)+":",pe)}),username:m(dt,function(Ae){var $e=R(this),it=_(String(Ae));if(!p($e)){$e.username="";for(var Ye=0;Ye<it.length;Ye++)$e.username+=we(it[Ye],q)}}),password:m(yt,function(Ae){var $e=R(this),it=_(String(Ae));if(!p($e)){$e.password="";for(var Ye=0;Ye<it.length;Ye++)$e.password+=we(it[Ye],q)}}),host:m(Rt,function(Ae){var $e=R(this);$e.cannotBeABaseURL||d($e,String(Ae),Fe)}),hostname:m(fr,function(Ae){var $e=R(this);$e.cannotBeABaseURL||d($e,String(Ae),Ge)}),port:m(pr,function(Ae){var $e=R(this);p($e)||((Ae=String(Ae))==""?$e.port=null:d($e,Ae,ze))}),pathname:m(mr,function(Ae){var $e=R(this);$e.cannotBeABaseURL||($e.path=[],d($e,Ae+"",Xe))}),search:m(_r,function(Ae){var $e=R(this);(Ae=String(Ae))==""?$e.query=null:(Ae.charAt(0)=="?"&&(Ae=Ae.slice(1)),$e.query="",d($e,Ae,mt)),I($e.searchParams).updateSearchParams($e.query)}),searchParams:m(yr),hash:m(gr,function(Ae){var $e=R(this);(Ae=String(Ae))==""?$e.fragment=null:(Ae.charAt(0)=="#"&&(Ae=Ae.slice(1)),$e.fragment="",d($e,Ae,xt))})}),a(ft,"toJSON",function(){return gt.call(this)},{enumerable:!0}),a(ft,"toString",function(){return gt.call(this)},{enumerable:!0}),A&&(r=A.createObjectURL,s=A.revokeObjectURL,r&&a(h,"createObjectURL",function(Ae){return r.apply(A,arguments)}),s&&a(h,"revokeObjectURL",function(Ae){return s.apply(A,arguments)})),w(h,"URL"),l({global:!0,forced:!n,sham:!i},{URL:h})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(t,Y,k){"use strict";Y.exports=t("./").polyfill()},{"./":242}],242:[function(t,Y,k){(function(v,p){var d,h;d=this,h=T(function(){"use strict";function m(se){return typeof se=="function"}T(m,"y");var f=Array.isArray||function(se){return Object.prototype.toString.call(se)==="[object Array]"},r=0,s=void 0,l=void 0,i=T(function(se,xe){y[r]=se,y[r+1]=xe,(r+=2)===2&&(l?l(_):C())},"n"),n=typeof window<"u"?window:void 0,u=n||{},u=u.MutationObserver||u.WebKitMutationObserver,a=typeof self>"u"&&v!==void 0&&{}.toString.call(v)==="[object process]",o=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function c(){var se=setTimeout;return function(){return se(_,1)}}T(c,"d");var y=new Array(1e3);function _(){for(var se=0;se<r;se+=2)(0,y[se])(y[se+1]),y[se]=void 0,y[se+1]=void 0;r=0}T(_,"M");function x(){try{var se=Function("return this")().require("vertx");return(s=se.runOnLoop||se.runOnContext)!==void 0?function(){s(_)}:c()}catch{return c()}}T(x,"T");var b,w,M,C=void 0;function E(se,xe){var Se,Ie=this,Me=new this.constructor(F),q=(Me[I]===void 0&&ie(Me),Ie._state);return q?(Se=arguments[q-1],i(function(){return Z(q,Me,Se,Ie._result)})):G(Ie,Me,se,xe),Me}T(E,"S");function A(se){var xe;return se&&typeof se=="object"&&se.constructor===this?se:(Q(xe=new this(F),se),xe)}T(A,"A");var C=a?function(){return v.nextTick(_)}:u?(w=0,a=new u(_),M=document.createTextNode(""),a.observe(M,{characterData:!0}),function(){M.data=w=++w%2}):o?((b=new MessageChannel).port1.onmessage=_,function(){return b.port2.postMessage(0)}):(n===void 0&&typeof t=="function"?x:c)(),I=Math.random().toString(36).substring(2);function F(){}T(F,"F");var R=void 0,U=1,z=2;function P(se,xe,Se){i(function(Ie){var Me=!1,q=function(we,ve,re,fe){try{we.call(ve,re,fe)}catch(ge){return ge}}(Se,xe,function(we){Me||(Me=!0,(xe!==we?Q:j)(Ie,we))},function(we){Me||(Me=!0,L(Ie,we))},Ie._label);!Me&&q&&(Me=!0,L(Ie,q))},se)}T(P,"N");function W(se,xe,Se){var Ie,Me;xe.constructor===se.constructor&&Se===E&&xe.constructor.resolve===A?(Ie=se,(Me=xe)._state===U?j(Ie,Me._result):Me._state===z?L(Ie,Me._result):G(Me,void 0,function(q){return Q(Ie,q)},function(q){return L(Ie,q)})):Se!==void 0&&m(Se)?P(se,xe,Se):j(se,xe)}T(W,"q");function Q(se,xe){if(se===xe)L(se,new TypeError("You cannot resolve a promise with itself"));else if(Se=typeof xe,xe===null||Se!="object"&&Se!="function")j(se,xe);else{Se=void 0;try{Se=xe.then}catch(Ie){return void L(se,Ie)}W(se,xe,Se)}var Se}T(Q,"X");function ae(se){se._onerror&&se._onerror(se._result),N(se)}T(ae,"ie");function j(se,xe){se._state===R&&(se._result=xe,se._state=U,se._subscribers.length!==0&&i(N,se))}T(j,"j");function L(se,xe){se._state===R&&(se._state=z,se._result=xe,i(ae,se))}T(L,"O");function G(se,xe,Se,Ie){var Me=se._subscribers,q=Me.length;se._onerror=null,Me[q]=xe,Me[q+U]=Se,Me[q+z]=Ie,q===0&&se._state&&i(N,se)}T(G,"I");function N(se){var xe=se._subscribers,Se=se._state;if(xe.length!==0){for(var Ie,Me=void 0,q=se._result,we=0;we<xe.length;we+=3)Ie=xe[we],Me=xe[we+Se],Ie?Z(Se,Ie,Me,q):Me(q);se._subscribers.length=0}}T(N,"G");function Z(se,xe,Se,Ie){var Me=m(Se),q=void 0,we=void 0,ve=!0;if(Me){try{q=Se(Ie)}catch(re){ve=!1,we=re}if(xe===q)return void L(xe,new TypeError("A promises callback cannot return that same promise."))}else q=Ie;xe._state===R&&(Me&&ve?Q(xe,q):ve===!1?L(xe,we):se===U?j(xe,q):se===z&&L(xe,q))}T(Z,"Y");var oe=0;function ie(se){se[I]=oe++,se._state=void 0,se._result=void 0,se._subscribers=[]}T(ie,"te"),ue.prototype._enumerate=function(se){for(var xe=0;this._state===R&&xe<se.length;xe++)this._eachEntry(se[xe],xe)},ue.prototype._eachEntry=function(se,xe){var Se=this._instanceConstructor,Ie=Se.resolve;if(Ie===A){var Me,q=void 0,we=void 0,ve=!1;try{q=se.then}catch(re){ve=!0,we=re}q===E&&se._state!==R?this._settledAt(se._state,xe,se._result):typeof q!="function"?(this._remaining--,this._result[xe]=se):Se===be?(Me=new Se(F),ve?L(Me,we):W(Me,se,q),this._willSettleAt(Me,xe)):this._willSettleAt(new Se(function(re){return re(se)}),xe)}else this._willSettleAt(Ie(se),xe)},ue.prototype._settledAt=function(se,xe,Se){var Ie=this.promise;Ie._state===R&&(this._remaining--,se===z?L(Ie,Se):this._result[xe]=Se),this._remaining===0&&j(Ie,this._result)},ue.prototype._willSettleAt=function(se,xe){var Se=this;G(se,void 0,function(Ie){return Se._settledAt(U,xe,Ie)},function(Ie){return Se._settledAt(z,xe,Ie)})};var ce=ue;function ue(se,xe){this._instanceConstructor=se,this.promise=new se(F),this.promise[I]||ie(this.promise),f(xe)?(this.length=xe.length,this._remaining=xe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(xe),this._remaining!==0)||j(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}T(ue,"re"),ye.prototype.catch=function(se){return this.then(null,se)},ye.prototype.finally=function(se){var xe=this.constructor;return m(se)?this.then(function(Se){return xe.resolve(se()).then(function(){return Se})},function(Se){return xe.resolve(se()).then(function(){throw Se})}):this.then(se,se)};var be=ye;function ye(se){if(this[I]=oe++,this._result=this._state=void 0,this._subscribers=[],F!==se){if(typeof se!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ye))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var xe=this;try{se(function(Se){Q(xe,Se)},function(Se){L(xe,Se)})}catch(Se){L(xe,Se)}}}return T(ye,"se"),be.prototype.then=E,be.all=function(se){return new ce(this,se).promise},be.race=function(se){var xe=this;return f(se)?new xe(function(Se,Ie){for(var Me=se.length,q=0;q<Me;q++)xe.resolve(se[q]).then(Se,Ie)}):new xe(function(Se,Ie){return Ie(new TypeError("You must pass an array to race."))})},be.resolve=A,be.reject=function(se){var xe=new this(F);return L(xe,se),xe},be._setScheduler=function(se){l=se},be._setAsap=function(se){i=se},be._asap=i,be.polyfill=function(){var se=void 0;if(p!==void 0)se=p;else if(typeof self<"u")se=self;else try{se=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var xe=se.Promise;if(xe){var Se=null;try{Se=Object.prototype.toString.call(xe.resolve())}catch{}if(Se==="[object Promise]"&&!xe.cast)return}se.Promise=be},be.Promise=be},"f"),typeof k=="object"&&Y!==void 0?Y.exports=h():typeof Oe=="function"&&Oe.amd?Oe(h):d.ES6Promise=h()}).call(this,t("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:251}],243:[function(t,Y,k){var v,p;v=this,p=T(function(d,h){"use strict";var m=5e3,f="callback";function r(l){try{delete window[l]}catch{window[l]=void 0}}T(r,"r");function s(l){l=document.getElementById(l),l&&document.getElementsByTagName("head")[0].removeChild(l)}T(s,"a"),h.exports=function(l){var i=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],n=l,u=i.timeout||m,a=i.jsonpCallback||f,o=void 0;return new Promise(function(c,y){var _=i.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),x=a+"_"+_,b=(window[_]=function(w){c({ok:!0,json:function(){return Promise.resolve(w)}}),o&&clearTimeout(o),s(x),r(_)},n+=n.indexOf("?")===-1?"?":"&",document.createElement("script"));b.setAttribute("src",""+n+a+"="+_),i.charset&&b.setAttribute("charset",i.charset),b.id=x,document.getElementsByTagName("head")[0].appendChild(b),o=setTimeout(function(){y(new Error("JSONP request to "+l+" timed out")),r(_),s(x),window[_]=function(){r(_)}},u),b.onerror=function(){y(new Error("JSONP request to "+l+" failed")),r(_),s(x),o&&clearTimeout(o)}})}},"p"),typeof Oe=="function"&&Oe.amd?Oe(["exports","module"],p):k!==void 0&&Y!==void 0?p(0,Y):(p(p={exports:{}},p),v.fetchJsonp=p.exports)},{}],244:[function(t,Y,k){var v=function(p){"use strict";var d,h,m,f,r,s,l,i,n,u,a;if(!(p===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return a=p.document,d=T(function(){return p.URL||p.webkitURL||p},"i"),h=a.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in h,f=/constructor/i.test(p.HTMLElement)||p.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),s=T(function(o){(p.setImmediate||p.setTimeout)(function(){throw o},0)},"a"),l=4e4,i=T(function(o){setTimeout(function(){typeof o=="string"?d().revokeObjectURL(o):o.remove()},l)},"n"),n=T(function(o){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o},"l"),a=(u=T(function(o,c,w){w||(o=n(o));var _,x,b=this,w=o.type==="application/octet-stream",M=T(function(){for(var E=b,A="writestart progress write writeend".split(" "),C=void 0,I=(A=[].concat(A)).length;I--;){var F=E["on"+A[I]];if(typeof F=="function")try{F.call(E,C||E)}catch(R){s(R)}}},"C");b.readyState=b.INIT,m?(_=d().createObjectURL(o),setTimeout(function(){var E,A;h.href=_,h.download=c,E=h,A=new MouseEvent("click"),E.dispatchEvent(A),M(),i(_),b.readyState=b.DONE})):(r||w&&f)&&p.FileReader?((x=new FileReader).onloadend=function(){var E=r?x.result:x.result.replace(/^data:[^;]*;/,"data:attachment/file;");p.open(E,"_blank")||(p.location.href=E),E=void 0,b.readyState=b.DONE,M()},x.readAsDataURL(o),b.readyState=b.INIT):(_=_||d().createObjectURL(o),!w&&p.open(_,"_blank")||(p.location.href=_),b.readyState=b.DONE,M(),i(_))},"u")).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(o,c,y){return c=c||o.name||"download",y||(o=n(o)),navigator.msSaveOrOpenBlob(o,c)}:(a.abort=function(){},a.readyState=a.INIT=0,a.WRITING=1,a.DONE=2,a.error=a.onwritestart=a.onprogress=a.onwrite=a.onabort=a.onerror=a.onwriteend=null,function(o,c,y){return new u(o,c||o.name||"download",y)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);Y!==void 0&&Y.exports?Y.exports.saveAs=v:Oe!=null&&Oe.amd!==null&&Oe("FileSaver.js",function(){return v})},{}],245:[function(t,Y,k){var v,p=Object.defineProperty,d=(p(k,"__esModule",{value:!0}),k),h={GIFEncoder:()=>M,applyPalette:()=>function(R,U,z="rgb565"){if(!R||!R.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(R instanceof Uint8Array||R instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<U.length)throw new Error("applyPalette() only works with 256 colors or less");let P=new Uint32Array(R.buffer),W=P.length,Q=z==="rgb444"?4096:65536,ae=new Uint8Array(W),j=new Array(Q);if(z==="rgba4444")for(let ye=0;ye<W;ye++){var Z=P[ye],L=Z>>24&255,G=Z>>16&255,N=Z>>8&255,Z=255&Z,oe=i(Z,N,G,L),oe=oe in j?j[oe]:j[oe]=function(se,xe,Se,Ie,Me){let q=0,we=1e100;for(let ge=0;ge<Me.length;ge++){var ve,re=Me[ge],fe=x(re[3]-Ie);fe>we||(ve=re[0],(fe+=x(ve-se))>we||(ve=re[1],(fe+=x(ve-xe))>we||(ve=re[2],(fe+=x(ve-Se))>we||(we=fe,q=ge))))}return q}(Z,N,G,L,U);ae[ye]=oe}else{let ye=z==="rgb444"?n:l;for(let se=0;se<W;se++){var ue=P[se],ie=ue>>16&255,ce=ue>>8&255,ue=255&ue,be=ye(ue,ce,ie),be=be in j?j[be]:j[be]=function(xe,Se,Ie,Me){let q=0,we=1e100;for(let ge=0;ge<Me.length;ge++){var ve,re=Me[ge],fe=x(re[0]-xe);fe>we||(ve=re[1],(fe+=x(ve-Se))>we||(ve=re[2],(fe+=x(ve-Ie))>we||(we=fe,q=ge)))}return q}(ue,ce,ie,U);ae[se]=be}}return ae},default:()=>F,nearestColor:()=>function(R,U,z=y){return R[b(R,U,z)]},nearestColorIndex:()=>b,nearestColorIndexWithDistance:()=>w,prequantize:()=>function(R,{roundRGB:U=5,roundAlpha:z=10,oneBitAlpha:P=null}={}){let W=new Uint32Array(R.buffer);for(let G=0;G<W.length;G++){var L=W[G];let N=L>>24&255;var Q,ae=L>>16&255,j=L>>8&255,L=255&L;N=_(N,z),P&&(Q=typeof P=="number"?P:127,N=N<=Q?0:255),L=_(L,U),j=_(j,U),ae=_(ae,U),W[G]=N<<24|ae<<16|j<<8|L<<0}},quantize:()=>function(R,U,z={}){var{format:P="rgb565",clearAlpha:W=!0,clearAlphaColor:Q=0,clearAlphaThreshold:ae=0,oneBitAlpha:j=!1}=z;if(!R||!R.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(R instanceof Uint8Array||R instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");R=new Uint32Array(R.buffer);let L=z.useSqrt!==!1,G=P==="rgba4444",N=function(B,H){let X=H==="rgb444"?4096:65536,te=new Array(X),pe=B.length;if(H==="rgba4444")for(let Ke=0;Ke<pe;++Ke){var J=B[Ke],le=J>>24&255,$=J>>16&255,ne=J>>8&255,J=255&J,de=i(J,ne,$,le);let Qe=de in te?te[de]:te[de]=c();Qe.rc+=J,Qe.gc+=ne,Qe.bc+=$,Qe.ac+=le,Qe.cnt++}else if(H==="rgb444")for(let Ke=0;Ke<pe;++Ke){var Ee=B[Ke],Te=Ee>>16&255,me=Ee>>8&255,Ee=255&Ee,Le=n(Ee,me,Te);let Qe=Le in te?te[Le]:te[Le]=c();Qe.rc+=Ee,Qe.gc+=me,Qe.bc+=Te,Qe.cnt++}else for(let Ke=0;Ke<pe;++Ke){var ze=B[Ke],Fe=ze>>16&255,Ge=ze>>8&255,ze=255&ze,et=l(ze,Ge,Fe);let Qe=et in te?te[et]:te[et]=c();Qe.rc+=ze,Qe.gc+=Ge,Qe.bc+=Fe,Qe.cnt++}return te}(R,P),Z=N.length,oe=Z-1,ie=new Uint32Array(Z+1);for(var ce=0,ue=0;ue<Z;++ue){let B=N[ue];B!=null&&(re=1/B.cnt,G&&(B.ac*=re),B.rc*=re,B.gc*=re,B.bc*=re,N[ce++]=B)}a(U)/ce<.022&&(L=!1);for(var be,ye,se,ue=0;ue<ce-1;++ue)N[ue].fw=ue+1,N[ue+1].bk=ue,L&&(N[ue].cnt=Math.sqrt(N[ue].cnt));for(L&&(N[ue].cnt=Math.sqrt(N[ue].cnt)),ue=0;ue<ce;++ue){o(N,ue,!1);var xe=N[ue].err;for(ye=++ie[0];1<ye&&(se=ye>>1,!(N[be=ie[se]].err<=xe));ye=se)ie[ye]=be;ie[ye]=ue}var Se,Ie=ce-U;for(ue=0;ue<Ie;){for(;;){var Me=ie[1];if((Se=N[Me]).tm>=Se.mtm&&N[Se.nn].mtm<=Se.tm)break;for(Se.mtm==oe?Me=ie[1]=ie[ie[0]--]:(o(N,Me,!1),Se.tm=ue),xe=N[Me].err,ye=1;(se=ye+ye)<=ie[0]&&(se<ie[0]&&N[ie[se]].err>N[ie[se+1]].err&&se++,!(xe<=N[be=ie[se]].err));ye=se)ie[ye]=be;ie[ye]=Me}var q=N[Se.nn],we=Se.cnt,ve=q.cnt,re=1/(we+ve);G&&(Se.ac=re*(we*Se.ac+ve*q.ac)),Se.rc=re*(we*Se.rc+ve*q.rc),Se.gc=re*(we*Se.gc+ve*q.gc),Se.bc=re*(we*Se.bc+ve*q.bc),Se.cnt+=q.cnt,Se.mtm=++ue,N[q.bk].fw=q.fw,N[q.fw].bk=q.bk,q.mtm=oe}let fe=[];for(ue=0;;0){let B=u(Math.round(N[ue].rc),0,255),H=u(Math.round(N[ue].gc),0,255),X=u(Math.round(N[ue].bc),0,255),te=255;G&&(te=u(Math.round(N[ue].ac),0,255),j&&(ge=typeof j=="number"?j:127,te=te<=ge?0:255),W&&te<=ae&&(B=H=X=Q,te=0));var ge=G?[B,H,X,te]:[B,H,X];if(function(pe,le){for(let J=0;J<pe.length;J++){var ne=pe[J],$=ne[0]===le[0]&&ne[1]===le[1]&&ne[2]===le[2],ne=!(4<=ne.length&&4<=le.length)||ne[3]===le[3];if($&&ne)return!0}return!1}(fe,ge)||fe.push(ge),(ue=N[ue].fw)==0)break}return fe},snapColorsToPalette:()=>function(R,U,z=5){if(R.length&&U.length){var P=R.map(L=>L.slice(0,3)),W=z*z,Q=R[0].length;for(let L=0;L<U.length;L++){let G=U[L];G=G.length<Q?[G[0],G[1],G[2],255]:G.length>Q?G.slice(0,3):G.slice();var j=w(P,G.slice(0,3),y),ae=j[0],j=j[1];0<j&&j<=W&&(R[ae]=G)}}}};for(v in h)p(d,v,{get:h[v],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function f(R=256){let U=0,z=new Uint8Array(R);return{get buffer(){return z.buffer},reset(){U=0},bytesView(){return z.subarray(0,U)},bytes(){return z.slice(0,U)},writeByte(W){P(U+1),z[U]=W,U++},writeBytes(W,Q=0,ae=W.length){P(U+ae);for(let j=0;j<ae;j++)z[U++]=W[j+Q]},writeBytesView(W,Q=0,ae=W.byteLength){P(U+ae),z.set(W.subarray(Q,Q+ae),U),U+=ae}};function P(W){var Q=z.length;if(!(W<=Q)){W=Math.max(W,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(W=Math.max(W,256));let ae=z;z=new Uint8Array(W),0<U&&z.set(ae.subarray(0,U),0)}}}T(f,"g");var r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],s=T(function(R,U,z,G,W=f(512),Q=new Uint8Array(256),ae=new Int32Array(5003),j=new Int32Array(5003)){var L=ae.length,G=Math.max(2,G);Q.fill(0),j.fill(0),ae.fill(-1);let N=0,Z=0;var oe=G+1;let ie=oe,ce=!1,ue=ie,be=(1<<ue)-1;var ye=1<<oe-1;let se=1+ye,xe=2+ye,Se=0,Ie=z[0],Me=0;for(let ge=L;ge<65536;ge*=2)++Me;Me=8-Me,W.writeByte(G),fe(ye);var q=z.length;for(let ge=1;ge<q;ge++)e:{var we=z[ge],ve=(we<<12)+Ie;let B=we<<Me^Ie;if(ae[B]===ve)Ie=j[B];else{for(var re=B===0?1:L-B;0<=ae[B];)if((B-=re)<0&&(B+=L),ae[B]===ve){Ie=j[B];break e}fe(Ie),Ie=we,xe<4096?(j[B]=xe++,ae[B]=ve):(ae.fill(-1),xe=2+ye,ce=!0,fe(ye))}}return fe(Ie),fe(se),W.writeByte(0),W.bytesView();function fe(ge){for(N&=r[Z],0<Z?N|=ge<<Z:N=ge,Z+=ue;8<=Z;)Q[Se++]=255&N,254<=Se&&(W.writeByte(Se),W.writeBytesView(Q,0,Se),Se=0),N>>=8,Z-=8;if((xe>be||ce)&&(ce?(ue=ie,be=(1<<ue)-1,ce=!1):(++ue,be=ue===12?1<<ue:(1<<ue)-1)),ge==se){for(;0<Z;)Q[Se++]=255&N,254<=Se&&(W.writeByte(Se),W.writeBytesView(Q,0,Se),Se=0),N>>=8,Z-=8;0<Se&&(W.writeByte(Se),W.writeBytesView(Q,0,Se),Se=0)}}},"a");function l(R,U,z){return R<<8&63488|U<<2&992|z>>3}T(l,"s");function i(R,U,z,P){return R>>4|240&U|(240&z)<<4|(240&P)<<8}T(i,"n");function n(R,U,z){return R>>4<<8|240&U|z>>4}T(n,"l");function u(R,U,z){return R<U?U:z<R?z:R}T(u,"u");function a(R){return R*R}T(a,"h");function o(R,U,z){var P=0,W=1e100;let Q=R[U];for(var ae=Q.cnt,j=Q.ac,L=Q.rc,G=Q.gc,N=Q.bc,Z=Q.fw;Z!=0;Z=R[Z].fw){var oe,ie=R[Z],ce=ie.cnt,ce=ae*ce/(ae+ce);W<=ce||(oe=0,z&&W<=(oe+=ce*a(ie.ac-j))||W<=(oe+=ce*a(ie.rc-L))||W<=(oe+=ce*a(ie.gc-G))||W<=(oe+=ce*a(ie.bc-N))||(W=oe,P=Z))}Q.err=W,Q.nn=P}T(o,"o");function c(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}T(c,"d");function y(R,U){for(var z=0,P=0;P<R.length;P++){var W=R[P]-U[P];z+=W*W}return z}T(y,"b");function _(R,U){return 1<U?Math.round(R/U)*U:R}T(_,"M");function x(R){return R*R}T(x,"T");function b(R,U,z=y){let P=1/0,W=-1;for(let ae=0;ae<R.length;ae++){var Q=z(U,R[ae]);Q<P&&(P=Q,W=ae)}return W}T(b,"x");function w(R,U,z=y){let P=1/0,W=-1;for(let ae=0;ae<R.length;ae++){var Q=z(U,R[ae]);Q<P&&(P=Q,W=ae)}return[W,P]}T(w,"_");function M(R={}){let{initialCapacity:U=4096,auto:z=!0}=R,P=f(U),W=new Uint8Array(256),Q=new Int32Array(5003),ae=new Int32Array(5003),j=!1;return{reset(){P.reset(),j=!1},finish(){P.writeByte(m.trailer)},bytes(){return P.bytes()},bytesView(){return P.bytesView()},get buffer(){return P.buffer},get stream(){return P},writeHeader:L,writeFrame(G,N,Z,Ie={}){var{transparent:ie=!1,transparentIndex:ce=0,delay:re=0,palette:ue=null,repeat:q=0,colorDepth:be=8,dispose:ye=-1}=Ie;let se=!1;if(z?j||(se=!0,L(),j=!0):se=!!Ie.first,N=Math.max(0,Math.floor(N)),Z=Math.max(0,Math.floor(Z)),se){if(!ue)throw new Error("First frame must include a { palette } option");var[Ie,we,Se,ve,Me=8]=[P,N,Z,ue,be];ve=I(ve.length)-1,Me=128|Me-1<<4|ve,A(Ie,we),A(Ie,Se),Ie.writeBytes([Me,0,0]),E(P,ue),0<=q&&(ve=P,we=q,ve.writeByte(33),ve.writeByte(255),ve.writeByte(11),C(ve,"NETSCAPE2.0"),ve.writeByte(3),ve.writeByte(1),A(ve,we),ve.writeByte(0))}var xe,Se=Math.round(re/10),Ie=P,Me=ye,q=Se,we=ie,ve=ce,re=(Ie.writeByte(33),Ie.writeByte(249),Ie.writeByte(4),ve<0&&(ve=0,we=!1),we=we?(xe=1,2):xe=0,0<=Me&&(we=7&Me),we<<=2,Ie.writeByte(0|we|xe),A(Ie,q),Ie.writeByte(ve||0),Ie.writeByte(0),!!ue&&!se);ye=P,ie=N,ce=Z,xe=re?ue:null,ye.writeByte(44),A(ye,0),A(ye,0),A(ye,ie),A(ye,ce),xe?(ie=I(xe.length)-1,ye.writeByte(128|ie)):ye.writeByte(0),re&&E(P,ue),[q,Ie,ce,ie,ye=8,re,ue,G]=[P,G,N,Z,be,W,Q,ae],s(ce,ie,Ie,ye,q,re,ue,G)}};function L(){C(P,"GIF89a")}}T(M,"C");function E(R,U){var z=1<<I(U.length);for(let P=0;P<z;P++){let W=[0,0,0];P<U.length&&(W=U[P]),R.writeByte(W[0]),R.writeByte(W[1]),R.writeByte(W[2])}}T(E,"S");function A(R,U){R.writeByte(255&U),R.writeByte(U>>8&255)}T(A,"A");function C(R,U){for(var z=0;z<U.length;z++)R.writeByte(U.charCodeAt(z))}T(C,"E");function I(R){return Math.max(Math.ceil(Math.log2(R)),1)}T(I,"D");var F=M},{}],246:[function(t,Y,k){k.read=function(v,p,d,h,o){var f,r,s=8*o-h-1,l=(1<<s)-1,i=l>>1,n=-7,u=d?o-1:0,a=d?-1:1,o=v[p+u];for(u+=a,f=o&(1<<-n)-1,o>>=-n,n+=s;0<n;f=256*f+v[p+u],u+=a,n-=8);for(r=f&(1<<-n)-1,f>>=-n,n+=h;0<n;r=256*r+v[p+u],u+=a,n-=8);if(f===0)f=1-i;else{if(f===l)return r?NaN:1/0*(o?-1:1);r+=Math.pow(2,h),f-=i}return(o?-1:1)*r*Math.pow(2,f-h)},k.write=function(v,p,d,h,m,c){var r,s,l=8*c-m-1,i=(1<<l)-1,n=i>>1,u=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=h?0:c-1,o=h?1:-1,c=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(s=isNaN(p)?1:0,r=i):(r=Math.floor(Math.log(p)/Math.LN2),p*(h=Math.pow(2,-r))<1&&(r--,h*=2),2<=(p+=1<=r+n?u/h:u*Math.pow(2,1-n))*h&&(r++,h/=2),i<=r+n?(s=0,r=i):1<=r+n?(s=(p*h-1)*Math.pow(2,m),r+=n):(s=p*Math.pow(2,n-1)*Math.pow(2,m),r=0));8<=m;v[d+a]=255&s,a+=o,s/=256,m-=8);for(r=r<<m|s,l+=m;0<l;v[d+a]=255&r,a+=o,r/=256,l-=8);v[d+a-o]|=128*c}},{}],247:[function(t,Y,k){"use strict";var v;function p($,ne){return $.b===ne.b&&$.a===ne.a}T(p,"p");function d($,ne){return $.b<ne.b||$.b===ne.b&&$.a<=ne.a}T(d,"i");function h($,ne,J){var de=ne.b-$.b,Te=J.b-ne.b;return 0<de+Te?de<Te?ne.a-$.a+de/(de+Te)*($.a-J.a):ne.a-J.a+Te/(de+Te)*(J.a-$.a):0}T(h,"f");function m($,ne,J){var de=ne.b-$.b,Te=J.b-ne.b;return 0<de+Te?(ne.a-J.a)*de+(ne.a-$.a)*Te:0}T(m,"y");function f($,ne){return $.a<ne.a||$.a===ne.a&&$.b<=ne.b}T(f,"g");function r($,ne,J){var de=ne.a-$.a,Te=J.a-ne.a;return 0<de+Te?de<Te?ne.b-$.b+de/(de+Te)*($.b-J.b):ne.b-J.b+Te/(de+Te)*(J.b-$.b):0}T(r,"r");function s($,ne,J){var de=ne.a-$.a,Te=J.a-ne.a;return 0<de+Te?(ne.b-J.b)*de+(ne.b-$.b)*Te:0}T(s,"a");function l($,ne,J,de){return($=$<0?0:$)<=(J=J<0?0:J)?J===0?(ne+de)/2:ne+$/($+J)*(de-ne):de+J/($+J)*(ne-de)}T(l,"s");function i($){var ne=c($.b);return _(ne,$.c),_(ne.b,$.c),x(ne,$.a),ne}T(i,"n");function n($,ne){var J=!1,de=!1;$!==ne&&(ne.a!==$.a&&(de=!0,w(ne.a,$.a)),ne.d!==$.d&&(J=!0,M(ne.d,$.d)),y(ne,$),de||(_(ne,$.a),$.a.c=$),J||(x(ne,$.d),$.d.a=$))}T(n,"l");function u($){var ne=$.b,J=!1;$.d!==$.b.d&&(J=!0,M($.d,$.b.d)),$.c===$?w($.a,null):($.b.d.a=$.b.e,$.a.c=$.c,y($,$.b.e),J||x($,$.d)),ne.c===ne?(w(ne.a,null),M(ne.d,null)):($.d.a=ne.b.e,ne.a.c=ne.c,y(ne,ne.b.e)),b($)}T(u,"u");function a($){var ne=c($),J=ne.b;return y(ne,$.e),ne.a=$.b.a,_(J,ne.a),ne.d=J.d=$.d,ne=ne.b,y($.b,$.b.b.e),y($.b,ne),$.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=$.b.d,ne.f=$.f,ne.b.f=$.b.f,ne}T(a,"h");function o($,ne){var J=!1,de=c($),Te=de.b;return ne.d!==$.d&&(J=!0,M(ne.d,$.d)),y(de,$.e),y(Te,ne),de.a=$.b.a,Te.a=ne.a,de.d=Te.d=$.d,$.d.a=Te,J||x(de,$.d),de}T(o,"o");function c($){var ne=new Se,J=new Se,de=$.b.h;return(((J.h=de).b.h=ne).h=$).b.h=J,ne.b=J,((ne.c=ne).e=J).b=ne,(J.c=J).e=ne}T(c,"d");function y($,ne){var J=$.c,de=ne.c;J.b.e=ne,(de.b.e=$).c=de,ne.c=J}T(y,"b");function _($,ne){var J=ne.f,de=new Me(ne,J);for(J.e=de,J=(ne.f=de).c=$;J.a=de,(J=J.c)!==$;);}T(_,"M");function x($,ne){var J=ne.d,de=new xe(ne,J);for(J.b=de,(ne.d=de).a=$,de.c=ne.c,J=$;J.d=de,(J=J.e)!==$;);}T(x,"T");function b($){var ne=$.h;$=$.b.h,(ne.b.h=$).b.h=ne}T(b,"x");function w($,ne){for(var J=$.c,de=J;de.a=ne,(de=de.c)!==J;);J=$.f,((de=$.e).f=J).e=de}T(w,"_");function M($,ne){for(var J=$.a,de=J;de.d=ne,(de=de.e)!==J;);J=$.d,((de=$.b).d=J).b=de}T(M,"C");function E($){var ne=0;return Math.abs($[1])>Math.abs($[0])&&(ne=1),ne=Math.abs($[2])>Math.abs($[ne])?2:ne}T(E,"S");function A($,ne){$.f+=ne.f,$.b.f+=ne.b.f}T(A,"A");function C($,ne,J){return $=$.a,ne=ne.a,J=J.a,ne.b.a===$?J.b.a===$?d(ne.a,J.a)?m(J.b.a,ne.a,J.a)<=0:0<=m(ne.b.a,J.a,ne.a):m(J.b.a,$,J.a)<=0:J.b.a===$?0<=m(ne.b.a,$,ne.a):(ne=h(ne.b.a,$,ne.a),($=h(J.b.a,$,J.a))<=ne)}T(C,"E");function I($){$.a.i=null;var ne=$.e;ne.a.c=ne.c,ne.c.a=ne.a,$.e=null}T(I,"D");function F($,ne){u($.a),$.c=!1,($.a=ne).i=$}T(F,"F");function R($){for(var ne=$.a.a;($=le($)).a.a===ne;);return $.c&&(F($,ne=o(pe($).a.b,$.a.e)),$=le($)),$}T(R,"L");function U($,ne,J){var de=new te;return de.a=J,de.e=ce($.f,ne.e,de),J.i=de}T(U,"z");function z($,ne){switch($.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}T(z,"U");function P($){var ne=$.a,J=ne.d;J.c=$.d,J.a=ne,I($)}T(P,"N");function W($,ne,J){for(ne=($=ne).a;$!==J;){$.c=!1;var de=pe($),Te=de.a;if(Te.a!==ne.a){if(!de.c){P($);break}F(de,Te=o(ne.c.b,Te.b))}ne.c!==Te&&(n(Te.b.e,Te),n(ne,Te)),P($),ne=de.a,$=de}return ne}T(W,"q");function Q($,ne,J,de,Te,me){for(var Ee=!0;U($,ne,J.b),(J=J.c)!==de;);for(Te===null&&(Te=pe(ne).a.b.c);(J=(de=pe(ne)).a.b).a===Te.a;)J.c!==Te&&(n(J.b.e,J),n(Te.b.e,J)),de.f=ne.f-J.f,de.d=z($,de.f),ne.b=!0,!Ee&&G($,ne)&&(A(J,Te),I(ne),u(Te)),Ee=!1,ne=de,Te=J;ne.b=!0,me&&Z($,ne)}T(Q,"X");function ae($,ne,J,de,Te){var me=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=$.o&&$.o(me,J,de,$.c)||null,ne.d===null&&(Te?$.n||(se($,100156),$.n=!0):ne.d=J[0])}T(ae,"ie");function j($,ne,J){var de=[null,null,null,null];de[0]=ne.a.d,de[1]=J.a.d,ae($,ne.a,de,[.5,.5,0,0],!1),n(ne,J)}T(j,"j");function L($,ne,J,de,Te){var me=Math.abs(ne.b-$.b)+Math.abs(ne.a-$.a),Ee=Math.abs(J.b-$.b)+Math.abs(J.a-$.a),Le=Te+1;de[Te]=.5*Ee/(me+Ee),de[Le]=.5*me/(me+Ee),$.g[0]+=de[Te]*ne.g[0]+de[Le]*J.g[0],$.g[1]+=de[Te]*ne.g[1]+de[Le]*J.g[1],$.g[2]+=de[Te]*ne.g[2]+de[Le]*J.g[2]}T(L,"O");function G($,ne){var J=pe(ne),de=ne.a,Te=J.a;if(d(de.a,Te.a)){if(0<m(Te.b.a,de.a,Te.a))return;if(p(de.a,Te.a)){if(de.a!==Te.a){var J=$.e,me=de.a.h;if(0<=me){var Ee=(J=J.b).d,Le=J.e,Fe=J.c,Ge=Fe[me];Ee[Ge]=Ee[J.a],(Fe[Ee[Ge]]=Ge)<=--J.a&&(Ge<=1||d(Le[Ee[Ge>>1]],Le[Ee[Ge]])?H:X)(J,Ge),Le[me]=null,Fe[me]=J.b,J.b=me}else for(J.c[-(me+1)]=null;0<J.a&&J.c[J.d[J.a-1]]===null;)--J.a;j($,Te.b.e,de)}}else a(Te.b),n(de,Te.b.e),ne.b=J.b=!0}else{if(m(de.b.a,Te.a,de.a)<0)return;le(ne).b=ne.b=!0,a(de.b),n(Te.b.e,de)}return 1}T(G,"I");function N($,ne){var J=pe(ne),de=ne.a,Te=J.a,me=de.a,Ee=Te.a,Le=de.b.a,Fe=Te.b.a,Ge=new Me;if(m(Le,$.a,me),m(Fe,$.a,Ee),!(me===Ee||Math.min(me.a,Le.a)>Math.max(Ee.a,Fe.a))){if(d(me,Ee)){if(0<m(Fe,me,Ee))return}else if(m(Le,Ee,me)<0)return;var ze,et,Ke=Le,Qe=me,Xe=Fe,tt=Ee;if(d(Ke,Qe)||(ze=Ke,Ke=Qe,Qe=ze),d(Xe,tt)||(ze=Xe,Xe=tt,tt=ze),d(Ke,Xe)||(ze=Ke,Ke=Xe,Xe=ze,ze=Qe,Qe=tt,tt=ze),d(Xe,Qe)?d(Qe,tt)?((ze=h(Ke,Xe,Qe))+(et=h(Xe,Qe,tt))<0&&(ze=-ze,et=-et),Ge.b=l(ze,Xe.b,et,Qe.b)):((ze=m(Ke,Xe,Qe))+(et=-m(Ke,tt,Qe))<0&&(ze=-ze,et=-et),Ge.b=l(ze,Xe.b,et,tt.b)):Ge.b=(Xe.b+Qe.b)/2,f(Ke,Qe)||(ze=Ke,Ke=Qe,Qe=ze),f(Xe,tt)||(ze=Xe,Xe=tt,tt=ze),f(Ke,Xe)||(ze=Ke,Ke=Xe,Xe=ze,ze=Qe,Qe=tt,tt=ze),f(Xe,Qe)?f(Qe,tt)?((ze=r(Ke,Xe,Qe))+(et=r(Xe,Qe,tt))<0&&(ze=-ze,et=-et),Ge.a=l(ze,Xe.a,et,Qe.a)):((ze=s(Ke,Xe,Qe))+(et=-s(Ke,tt,Qe))<0&&(ze=-ze,et=-et),Ge.a=l(ze,Xe.a,et,tt.a)):Ge.a=(Xe.a+Qe.a)/2,d(Ge,$.a)&&(Ge.b=$.a.b,Ge.a=$.a.a),Ke=d(me,Ee)?me:Ee,d(Ke,Ge)&&(Ge.b=Ke.b,Ge.a=Ke.a),p(Ge,me)||p(Ge,Ee))return G($,ne),0;if(!p(Le,$.a)&&0<=m(Le,$.a,Ge)||!p(Fe,$.a)&&m(Fe,$.a,Ge)<=0){if(Fe===$.a)a(de.b),n(Te.b,de),de=pe(ne=R(ne)).a,W($,pe(ne),J),Q($,ne,de.b.e,de,de,!0);else{if(Le!==$.a)return 0<=m(Le,$.a,Ge)&&(le(ne).b=ne.b=!0,a(de.b),de.a.b=$.a.b,de.a.a=$.a.a),void(m(Fe,$.a,Ge)<=0&&(ne.b=J.b=!0,a(Te.b),Te.a.b=$.a.b,Te.a.a=$.a.a));for(a(Te.b),n(de.e,Te.b.e),Ee=(me=J=ne).a.b.a;(me=le(me)).a.b.a===Ee;);me=pe(ne=me).a.b.c,J.a=Te.b.e,Q($,ne,(Te=W($,J,null)).c,de.b.c,me,!0)}return 1}a(de.b),a(Te.b),n(Te.b.e,de),de.a.b=Ge.b,de.a.a=Ge.a,de.a.h=we($.e,de.a),de=de.a,Te=[0,0,0,0],Ge=[me.d,Le.d,Ee.d,Fe.d],de.g[0]=de.g[1]=de.g[2]=0,L(de,me,Le,Te,0),L(de,Ee,Fe,Te,2),ae($,de,Ge,Te,!0),le(ne).b=ne.b=J.b=!0}}T(N,"G");function Z($,ne){for(var J=pe(ne);;){for(;J.b;)J=pe(ne=J);if(!ne.b&&((ne=le(J=ne))===null||!ne.b))break;ne.b=!1;var de=ne.a,Te=J.a;if(me=de.b.a!==Te.b.a)e:{var me,Ee=pe(me=ne),Le=me.a,Fe=Ee.a,Ge=void 0;if(d(Le.b.a,Fe.b.a)){if(m(Le.b.a,Fe.b.a,Le.a)<0){me=!1;break e}le(me).b=me.b=!0,Ge=a(Le),n(Fe.b,Ge),Ge.d.c=me.d}else{if(0<m(Fe.b.a,Le.b.a,Fe.a)){me=!1;break e}me.b=Ee.b=!0,Ge=a(Fe),n(Le.e,Fe.b),Ge.b.d.c=me.d}me=!0}if(me&&(J.c?(I(J),u(Te),Te=(J=pe(ne)).a):ne.c&&(I(ne),u(de),de=(ne=le(J)).a)),de.a!==Te.a){if(de.b.a===Te.b.a||ne.c||J.c||de.b.a!==$.a&&Te.b.a!==$.a)G($,ne);else if(N($,ne))break}de.a===Te.a&&de.b.a===Te.b.a&&(A(Te,de),I(ne),u(de),ne=le(J))}}T(Z,"Y");function oe($,ne){var J=new te,de=i($.b);de.a.b=4e150,de.a.a=ne,de.b.a.b=-4e150,de.b.a.a=ne,$.a=de.b.a,J.a=de,J.f=0,J.d=!1,J.c=!1,J.h=!0,J.b=!1,de=ce(de=$.f,de.a,J),J.e=de}T(oe,"K");function ie($){this.a=new ue,this.b=$,this.c=C}T(ie,"te");function ce($,ne,J){for(;(ne=ne.c).b!==null&&!$.c($.b,ne.b,J););return $=new ue(J,ne.a,ne),ne.a.c=$,ne.a=$}T(ce,"de");function ue($,ne,J){this.b=$||null,this.a=ne||this,this.c=J||this}T(ue,"re");function be(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}T(be,"ue");function ye($,ne){if($.d!==ne)for(;$.d!==ne;)if($.d<ne)switch($.d){case 0:se($,100151),$.u(null);break;case 1:se($,100152),$.t()}else switch($.d){case 2:se($,100154),$.v();break;case 1:se($,100153),$.w()}}T(ye,"se");function se($,ne){$.p&&$.p(ne,$.c)}T(se,"J");function xe($,ne){this.b=$||this,this.d=ne||this,this.a=null,this.c=!1}T(xe,"ae");function Se(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}T(Se,"he");function Ie(){this.c=new Me,this.a=new xe,this.b=new Se,this.d=new Se,this.b.b=this.d,this.d.b=this.b}T(Ie,"je");function Me($,ne){this.e=$||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}T(Me,"fe");function q(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new re}T(q,"ye");function we($,ne){var J,de,Te;return $.e?(2*(de=++(J=$.b).a)>J.f&&(J.f*=2,J.c=fe(J.c,J.f+1)),J.b===0?Te=de:(Te=J.b,J.b=J.c[J.b]),J.e[Te]=ne,J.c[Te]=de,J.d[de]=Te,J.h&&X(J,de),Te):(J=$.a++,$.c[J]=ne,-(J+1))}T(we,"xe");function ve($){if($.a===0)return B($.b);var ne=$.c[$.d[$.a-1]];if($.b.a!==0&&d(ge($.b),ne))return B($.b);for(;--$.a,0<$.a&&$.c[$.d[$.a-1]]===null;);return ne}T(ve,"Le");function re(){this.d=fe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}T(re,"Me");function fe($,ne){for(var J=Array(ne),de=0;de<$.length;de++)J[de]=$[de];for(;de<ne;de++)J[de]=0;return J}T(fe,"Xe");function ge($){return $.e[$.d[1]]}T(ge,"Ne");function B($){var ne=$.d,J=$.e,de=$.c,Te=ne[1],me=J[Te];return 0<$.a&&(ne[1]=ne[$.a],de[ne[1]]=1,J[Te]=null,de[Te]=$.b,$.b=Te,0<--$.a&&H($,1)),me}T(B,"Be");function H($,ne){for(var J=$.d,de=$.e,Te=$.c,me=ne,Ee=J[me];;){var Le=me<<1,Fe=(Le<$.a&&d(de[J[Le+1]],de[J[Le]])&&(Le+=1),J[Le]);if(Le>$.a||d(de[Ee],de[Fe])){Te[J[me]=Ee]=me;break}Te[J[me]=Fe]=me,me=Le}}T(H,"ze");function X($,ne){for(var J=$.d,de=$.e,Te=$.c,me=ne,Ee=J[me];;){var Le=me>>1,Fe=J[Le];if(Le==0||d(de[Fe],de[Ee])){Te[J[me]=Ee]=me;break}Te[J[me]=Fe]=me,me=Le}}T(X,"Ge");function te(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}T(te,"ge");function pe($){return $.e.c.b}T(pe,"Oe");function le($){return $.e.a.b}T(le,"_e"),(v=be.prototype).x=function(){ye(this,0)},v.B=function($,ne){switch($){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void se(this,100900)}se(this,100901)},v.y=function($){switch($){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:se(this,100900)}return!1},v.A=function($,ne,J){this.j[0]=$,this.j[1]=ne,this.j[2]=J},v.z=function($,ne){var J=ne||null;switch($){case 100100:case 100106:this.h=J;break;case 100104:case 100110:this.l=J;break;case 100101:case 100107:this.k=J;break;case 100102:case 100108:this.i=J;break;case 100103:case 100109:this.p=J;break;case 100105:case 100111:this.o=J;break;case 100112:this.r=J;break;default:se(this,100900)}},v.C=function($,ne){var J=!1,de=[0,0,0];ye(this,2);for(var Te=0;Te<3;++Te){var me=$[Te];me<-1e150&&(me=-1e150,J=!0),1e150<me&&(me=1e150,J=!0),de[Te]=me}J&&se(this,100155),(J=this.q)===null?n(J=i(this.b),J.b):(a(J),J=J.e),J.a.d=ne,J.a.g[0]=de[0],J.a.g[1]=de[1],J.a.g[2]=de[2],J.f=1,J.b.f=-1,this.q=J},v.u=function($){ye(this,0),this.d=1,this.b=new Ie,this.c=$},v.t=function(){ye(this,1),this.d=2,this.q=null},v.v=function(){ye(this,2),this.d=1},v.w=function(){ye(this,1),this.d=0;var $,ne,J=this.j[0],de=this.j[1],Te=this.j[2],me=!1,Ee=[J,de,Te];if(J===0&&de===0&&Te===0){for(var de=[-2e150,-2e150,-2e150],Le=[2e150,2e150,2e150],Te=[],Fe=[],J=(me=this.b.c).e;J!==me;J=J.e)for(var Ge=0;Ge<3;++Ge){var ze=J.g[Ge];ze<Le[Ge]&&(Le[Ge]=ze,Fe[Ge]=J),ze>de[Ge]&&(de[Ge]=ze,Te[Ge]=J)}if(de[1]-Le[1]>de[J=0]-Le[0]&&(J=1),Le[J=de[2]-Le[2]>de[J]-Le[J]?2:J]>=de[J])Ee[0]=0,Ee[1]=0,Ee[2]=1;else{for(Le=Fe[J],Te=Te[J],Fe=[de=0,0,0],Le=[Le.g[0]-Te.g[0],Le.g[1]-Te.g[1],Le.g[2]-Te.g[2]],Ge=[0,0,0],J=me.e;J!==me;J=J.e)Ge[0]=J.g[0]-Te.g[0],Ge[1]=J.g[1]-Te.g[1],Ge[2]=J.g[2]-Te.g[2],Fe[0]=Le[1]*Ge[2]-Le[2]*Ge[1],Fe[1]=Le[2]*Ge[0]-Le[0]*Ge[2],Fe[2]=Le[0]*Ge[1]-Le[1]*Ge[0],de<(ze=Fe[0]*Fe[0]+Fe[1]*Fe[1]+Fe[2]*Fe[2])&&(de=ze,Ee[0]=Fe[0],Ee[1]=Fe[1],Ee[2]=Fe[2]);de<=0&&(Ee[0]=Ee[1]=Ee[2]=0,Ee[E(Le)]=1)}me=!0}for(Fe=E(Ee),J=this.b.c,de=(Fe+1)%3,Te=(Fe+2)%3,Fe=0<Ee[Fe]?1:-1,Ee=J.e;Ee!==J;Ee=Ee.e)Ee.b=Ee.g[de],Ee.a=Fe*Ee.g[Te];if(me){for(Ee=0,J=(me=this.b.a).b;J!==me;J=J.b)if(!((de=J.a).f<=0))for(;Ee+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==J.a;);if(Ee<0)for(me=(Ee=this.b.c).e;me!==Ee;me=me.e)me.a=-me.a}for(this.n=!1,Ee=this.b.b,J=Ee.h;J!==Ee;J=me)me=J.h,de=J.e,p(J.a,J.b.a)&&J.e.e!==J&&(j(this,de,J),u(J),de=(J=de).e),de.e===J&&(de!==J&&(de!==me&&de!==me.b||(me=me.h),u(de)),J!==me&&J!==me.b||(me=me.h),u(J));for(this.e=Ee=new q,me=this.b.c,J=me.e;J!==me;J=J.e)J.h=we(Ee,J);var et=Ee;et.d=[];for(var Ke=0;Ke<et.a;Ke++)et.d[Ke]=Ke;et.d.sort(function(tt){return function(ht,mt){return d(tt[ht],tt[mt])?1:-1}}(et.c)),et.e=!0;for(var Qe=et.b,Xe=Qe.a;1<=Xe;--Xe)H(Qe,Xe);for(Qe.h=!0,this.f=new ie(this),oe(this,-4e150),oe(this,4e150);(Ee=ve(this.e))!==null;){for(;;){e:if((J=this.e).a===0)me=ge(J.b);else if(me=J.c[J.d[J.a-1]],J.b.a!==0&&d(J=ge(J.b),me)){me=J;break e}if(me===null||!p(me,Ee))break;me=ve(this.e),j(this,Ee.c,me.c)}T(function tt(ht,mt){for(var xt,ft=(ht.a=mt).c;ft.i===null;)if((ft=ft.c)===mt.c){var ft=ht,gt=mt;(yt=new te).a=gt.c.b;for(var Rt=(rt=ft.f).a;(Rt=Rt.a).b!==null&&!rt.c(rt.b,yt,Rt.b););var rt,ot,dt=pe(rt=Rt.b),yt=rt.a,Rt=dt.a;return void(m(yt.b.a,gt,yt.a)===0?p((yt=rt.a).a,gt)||p(yt.b.a,gt)||(a(yt.b),rt.c&&(u(yt.c),rt.c=!1),n(gt.c,yt),tt(ft,gt)):(ot=d(Rt.b.a,yt.b.a)?rt:dt,dt=void 0,rt.d||ot.c?(dt=ot===rt?o(gt.c.b,yt.e):o(Rt.b.c.b,gt.c).b,ot.c?F(ot,dt):((rt=U(yt=ft,rt,dt)).f=le(rt).f+rt.a.f,rt.d=z(yt,rt.f)),tt(ft,gt)):Q(ft,rt,gt.c,gt.c,null,!0)))}rt=(yt=pe(ft=R(ft.i))).a,(yt=W(ht,yt,null)).c===rt?(yt=(rt=yt).c,Rt=pe(ft),dt=ft.a,ot=Rt.a,xt=!1,dt.b.a!==ot.b.a&&N(ht,ft),p(dt.a,ht.a)&&(n(yt.b.e,dt),yt=pe(ft=R(ft)).a,W(ht,pe(ft),Rt),xt=!0),p(ot.a,ht.a)&&(n(rt,ot.b.e),rt=W(ht,Rt,null),xt=!0),xt?Q(ht,ft,rt.c,yt,yt,!0):(gt=d(ot.a,dt.a)?ot.b.e:dt,Q(ht,ft,gt=o(rt.c.b,gt),gt.c,gt.c,!1),gt.b.i.c=!0,Z(ht,ft))):Q(ht,ft,yt.c,rt,rt,!0)},"$e")(this,Ee)}for(this.a=this.f.a.a.b.a.a,Ee=0;(me=this.f.a.a.b)!==null;)me.h||++Ee,I(me);for(this.f=null,(Ee=this.e).b=null,Ee.d=null,this.e=Ee.c=null,Ee=this.b,J=Ee.a.b;J!==Ee.a;J=me)me=J.b,(J=J.a).e.e===J&&(A(J.c,J),u(J));if(!this.n){if(Ee=this.b,this.m)for(J=Ee.b.h;J!==Ee.b;J=me)me=J.h,J.b.d.c!==J.d.c?J.f=J.d.c?1:-1:u(J);else for(J=Ee.a.b;J!==Ee.a;J=me)if(me=J.b,J.c){for(J=J.a;d(J.b.a,J.a);J=J.c.b);for(;d(J.a,J.b.a);J=J.e);for(de=J.c.b,Te=void 0;J.e!==de;)if(d(J.b.a,de.a)){for(;de.e!==J&&(d((ne=de.e).b.a,ne.a)||m(de.a,de.b.a,de.e.b.a)<=0);)de=(Te=o(de.e,de)).b;de=de.c.b}else{for(;de.e!==J&&(d(($=J.c.b).a,$.b.a)||0<=m(J.b.a,J.a,J.c.b.a));)J=(Te=o(J,J.c.b)).b;J=J.e}for(;de.e.e!==J;)Te=o(de.e,de),de=Te.b}if(this.h||this.i||this.k||this.l)if(this.m){for(me=(Ee=this.b).a.b;me!==Ee.a;me=me.b)if(me.c){for(this.h&&this.h(2,this.c),J=me.a;this.k&&this.k(J.a.d,this.c),(J=J.e)!==me.a;);this.i&&this.i(this.c)}}else{for(Ee=this.b,me=!!this.l,J=!1,de=-1,Te=Ee.a.d;Te!==Ee.a;Te=Te.d)if(Te.c)for(J||(this.h&&this.h(4,this.c),J=!0),Fe=Te.a;me&&(Le=Fe.b.d.c?0:1,de!==Le&&(de=Le,this.l&&this.l(!!de,this.c))),this.k&&this.k(Fe.a.d,this.c),(Fe=Fe.e)!==Te.a;);J&&this.i&&this.i(this.c)}if(this.r){for(Ee=this.b,J=Ee.a.b;J!==Ee.a;J=me)if(me=J.b,!J.c){for(Te=(de=J.a).e,Fe=void 0;Te=(Fe=Te).e,(Fe.d=null)===Fe.b.d&&(Fe.c===Fe?w(Fe.a,null):(Fe.a.c=Fe.c,y(Fe,Fe.b.e)),(Le=Fe.b).c===Le?w(Le.a,null):(Le.a.c=Le.c,y(Le,Le.b.e)),b(Fe)),Fe!==de;);de=J.d,((J=J.b).d=de).b=J}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},be.prototype.gluDeleteTess=be.prototype.x,be.prototype.gluTessProperty=be.prototype.B,be.prototype.gluGetTessProperty=be.prototype.y,be.prototype.gluTessNormal=be.prototype.A,be.prototype.gluTessCallback=be.prototype.z,be.prototype.gluTessVertex=be.prototype.C,be.prototype.gluTessBeginPolygon=be.prototype.u,be.prototype.gluTessBeginContour=be.prototype.t,be.prototype.gluTessEndContour=be.prototype.v,be.prototype.gluTessEndPolygon=be.prototype.w,Y!==void 0&&(Y.exports=this.libtess)},{}],248:[function(t,Y,k){"use strict";function v(d,h,m,f){var r=0,s=(f=f===void 0?{}:f).loop===void 0?null:f.loop,l=f.palette===void 0?null:f.palette;if(h<=0||m<=0||65535<h||65535<m)throw new Error("Width/Height invalid.");function i(x){if(x=x.length,x<2||256<x||x&x-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return x}T(i,"n"),d[r++]=71,d[r++]=73,d[r++]=70,d[r++]=56,d[r++]=57,d[r++]=97;var n=0,u=0;if(l!==null){for(var a=i(l);a>>=1;)++n;if(a=1<<n,--n,f.background!==void 0){if(a<=(u=f.background))throw new Error("Background index out of range.");if(u===0)throw new Error("Background index explicitly passed as 0.")}}if(d[r++]=255&h,d[r++]=h>>8&255,d[r++]=255&m,d[r++]=m>>8&255,d[r++]=(l!==null?128:0)|n,d[r++]=u,d[r++]=0,l!==null)for(var o=0,c=l.length;o<c;++o){var y=l[o];d[r++]=y>>16&255,d[r++]=y>>8&255,d[r++]=255&y}if(s!==null){if(s<0||65535<s)throw new Error("Loop count invalid.");d[r++]=33,d[r++]=255,d[r++]=11,d[r++]=78,d[r++]=69,d[r++]=84,d[r++]=83,d[r++]=67,d[r++]=65,d[r++]=80,d[r++]=69,d[r++]=50,d[r++]=46,d[r++]=48,d[r++]=3,d[r++]=1,d[r++]=255&s,d[r++]=s>>8&255,d[r++]=0}var _=!1;this.addFrame=function(x,b,w,M,E,A){if(_===!0&&(--r,_=!1),A=A===void 0?{}:A,x<0||b<0||65535<x||65535<b)throw new Error("x/y invalid.");if(w<=0||M<=0||65535<w||65535<M)throw new Error("Width/Height invalid.");if(E.length<w*M)throw new Error("Not enough pixels for the frame size.");var C=!0,I=A.palette;if(I==null&&(C=!1,I=l),I==null)throw new Error("Must supply either a local or global palette.");for(var R=i(I),F=0;R>>=1;)++F;var R=1<<F,U=A.delay===void 0?0:A.delay,z=A.disposal===void 0?0:A.disposal;if(z<0||3<z)throw new Error("Disposal out of range.");var P=!1,W=0;if(A.transparent!==void 0&&A.transparent!==null&&(P=!0,(W=A.transparent)<0||R<=W))throw new Error("Transparent color index.");if(z===0&&!P&&U===0||(d[r++]=33,d[r++]=249,d[r++]=4,d[r++]=z<<2|(P===!0?1:0),d[r++]=255&U,d[r++]=U>>8&255,d[r++]=W,d[r++]=0),d[r++]=44,d[r++]=255&x,d[r++]=x>>8&255,d[r++]=255&b,d[r++]=b>>8&255,d[r++]=255&w,d[r++]=w>>8&255,d[r++]=255&M,d[r++]=M>>8&255,d[r++]=C===!0?128|F-1:0,C===!0)for(var Q=0,ae=I.length;Q<ae;++Q){var j=I[Q];d[r++]=j>>16&255,d[r++]=j>>8&255,d[r++]=255&j}return r=function(L,G,N,Z){L[G++]=N;var oe=G++,ie=1<<N,ce=ie-1,ue=1+ie,be=1+ue,ye=N+1,se=0,xe=0;function Se(B){for(;B<=se;)L[G++]=255&xe,xe>>=8,se-=8,G===oe+256&&(L[oe]=255,oe=G++)}T(Se,"he");function Ie(B){xe|=B<<se,se+=ye,Se(8)}T(Ie,"je");var Me=Z[0]&ce,q={};Ie(ie);for(var we=1,ve=Z.length;we<ve;++we){var re=Z[we]&ce,fe=Me<<8|re,ge=q[fe];if(ge===void 0){for(xe|=Me<<se,se+=ye;8<=se;)L[G++]=255&xe,xe>>=8,se-=8,G===oe+256&&(L[oe]=255,oe=G++);be===4096?(Ie(ie),be=1+ue,ye=N+1,q={}):(1<<ye<=be&&++ye,q[fe]=be++),Me=re}else Me=ge}return Ie(Me),Ie(ue),Se(1),oe+1===G?L[oe]=0:(L[oe]=G-oe-1,L[G++]=0),G}(d,r,F<2?2:F,E)},this.end=function(){return _===!1&&(d[r++]=59,_=!0),r},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(x){d=x},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(x){r=x}}T(v,"m");function p(d,h,m,f){for(var r=d[h++],s=1<<r,l=1+s,i=1+l,n=r+1,u=(1<<n)-1,a=0,o=0,c=0,y=d[h++],_=new Int32Array(4096),x=null;;){for(;a<16&&y!==0;)o|=d[h++]<<a,a+=8,y===1?y=d[h++]:--y;if(a<n)break;var b=o&u;if(o>>=n,a-=n,b==s)i=1+l,u=(1<<(n=r+1))-1,x=null;else{if(b==l)break;for(var w=b<i?b:x,M=0,E=w;s<E;)E=_[E]>>8,++M;var A=E;if(f<c+M+(w!==b?1:0))return void console.log("Warning, gif stream longer than expected.");m[c++]=A;var C=c+=M;for(w!==b&&(m[c++]=A),E=w;M--;)E=_[E],m[--C]=255&E,E>>=8;x!==null&&i<4096&&(_[i++]=x<<8|A,u+1<=i&&n<12&&(++n,u=u<<1|1)),x=b}}c!==f&&console.log("Warning, gif stream shorter than expected.")}T(p,"p");try{k.GifWriter=v,k.GifReader=function(d){var h=0;if(d[h++]!==71||d[h++]!==73||d[h++]!==70||d[h++]!==56||(d[h++]+1&253)!=56||d[h++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=d[h++]|d[h++]<<8,f=d[h++]|d[h++]<<8,r=d[h++],s=1<<1+(7&r),l=(d[h++],d[h++],null),i=null,n=(r>>7&&(l=h,h+=3*(i=s)),!0),u=[],a=0,o=null,c=0,y=null;for(this.width=m,this.height=f;n&&h<d.length;)switch(d[h++]){case 33:switch(d[h++]){case 255:if(d[h]!==11||d[h+1]==78&&d[h+2]==69&&d[h+3]==84&&d[h+4]==83&&d[h+5]==67&&d[h+6]==65&&d[h+7]==80&&d[h+8]==69&&d[h+9]==50&&d[h+10]==46&&d[h+11]==48&&d[h+12]==3&&d[h+13]==1&&d[h+16]==0)h+=14,y=d[h++]|d[h++]<<8,h++;else for(h+=12;;){if(!(0<=(x=d[h++])))throw Error("Invalid block size");if(x===0)break;h+=x}break;case 249:if(d[h++]!==4||d[h+4]!==0)throw new Error("Invalid graphics extension block.");var _=d[h++],a=d[h++]|d[h++]<<8,o=d[h++];!(1&_)&&(o=null),c=_>>2&7,h++;break;case 254:for(;;){if(!(0<=(x=d[h++])))throw Error("Invalid block size");if(x===0)break;h+=x}break;default:throw new Error("Unknown graphic control label: 0x"+d[h-1].toString(16))}break;case 44:var x,b=d[h++]|d[h++]<<8,w=d[h++]|d[h++]<<8,M=d[h++]|d[h++]<<8,E=d[h++]|d[h++]<<8,U=d[h++],A=U>>6&1,C=1<<1+(7&U),I=l,F=i,R=!1,U=(U>>7&&(R=!0,I=h,h+=3*(F=C)),h);for(h++;;){if(!(0<=(x=d[h++])))throw Error("Invalid block size");if(x===0)break;h+=x}u.push({x:b,y:w,width:M,height:E,has_local_palette:R,palette_offset:I,palette_size:F,data_offset:U,data_length:h-U,transparent_index:o,interlaced:!!A,delay:a,disposal:c});break;case 59:n=!1;break;default:throw new Error("Unknown gif block: 0x"+d[h-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(z){if(z<0||z>=u.length)throw new Error("Frame index out of range.");return u[z]},this.decodeAndBlitFrameBGRA=function(z,P){for(var z=this.frameInfo(z),W=z.width*z.height,Q=new Uint8Array(W),ae=(p(d,z.data_offset,Q,W),z.palette_offset),j=z.transparent_index,L=(j===null&&(j=256),z.width),G=m-L,N=L,Z=4*(z.y*m+z.x),oe=4*((z.y+z.height)*m+z.x),ie=Z,ce=4*G,ue=(z.interlaced===!0&&(ce+=4*m*7),8),be=0,ye=Q.length;be<ye;++be){var se,xe,Se=Q[be];N===0&&(N=L,oe<=(ie+=ce)&&(ce=4*G+4*m*(ue-1),ie=Z+(L+G)*(ue<<1),ue>>=1)),Se===j?ie+=4:(se=d[ae+3*Se],xe=d[ae+3*Se+1],Se=d[ae+3*Se+2],P[ie++]=Se,P[ie++]=xe,P[ie++]=se,P[ie++]=255),--N}},this.decodeAndBlitFrameRGBA=function(z,P){for(var z=this.frameInfo(z),W=z.width*z.height,Q=new Uint8Array(W),ae=(p(d,z.data_offset,Q,W),z.palette_offset),j=z.transparent_index,L=(j===null&&(j=256),z.width),G=m-L,N=L,Z=4*(z.y*m+z.x),oe=4*((z.y+z.height)*m+z.x),ie=Z,ce=4*G,ue=(z.interlaced===!0&&(ce+=4*m*7),8),be=0,ye=Q.length;be<ye;++be){var se,xe,Se=Q[be];N===0&&(N=L,oe<=(ie+=ce)&&(ce=4*G+4*m*(ue-1),ie=Z+(L+G)*(ue<<1),ue>>=1)),Se===j?ie+=4:(se=d[ae+3*Se],xe=d[ae+3*Se+1],Se=d[ae+3*Se+2],P[ie++]=se,P[ie++]=xe,P[ie++]=Se,P[ie++]=255),--N}}}}catch{}},{}],249:[function(t,Y,k){(function(v){var p,d;p=this,d=T(function(h){"use strict";function m(V){if(this==null)throw TypeError();var S,O=String(this),D=O.length,V=V?Number(V):0;if(!((V=V!=V?0:V)<0||D<=V))return 55296<=(S=O.charCodeAt(V))&&S<=56319&&V+1<D&&56320<=(D=O.charCodeAt(V+1))&&D<=57343?1024*(S-55296)+D-56320+65536:S}T(m,"y"),String.prototype.codePointAt||((f=function(){try{var g={},S=Object.defineProperty,O=S(g,g,g)&&S}catch{}return O}())?f(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var f,r=0,s=-3;function l(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}T(l,"s");function i(g,S){this.source=g,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=S,this.destLen=0,this.ltree=new l,this.dtree=new l}T(i,"n");var n=new l,u=new l,a=new Uint8Array(30),o=new Uint16Array(30),c=new Uint8Array(30),y=new Uint16Array(30),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new l,b=new Uint8Array(320);function w(g,S,O,D){for(var V,K=0;K<O;++K)g[K]=0;for(K=0;K<30-O;++K)g[K+O]=K/O|0;for(V=D,K=0;K<30;++K)S[K]=V,V+=1<<g[K]}T(w,"_");var M=new Uint16Array(16);function E(g,S,O,D){for(var V,K=0;K<16;++K)g.table[K]=0;for(K=0;K<D;++K)g.table[S[O+K]]++;for(K=V=g.table[0]=0;K<16;++K)M[K]=V,V+=g.table[K];for(K=0;K<D;++K)S[O+K]&&(g.trans[M[S[O+K]]++]=K)}T(E,"S");function A(g,S,O){if(!S)return O;for(;g.bitcount<24;)g.tag|=g.source[g.sourceIndex++]<<g.bitcount,g.bitcount+=8;var D=g.tag&65535>>>16-S;return g.tag>>>=S,g.bitcount-=S,D+O}T(A,"A");function C(g,S){for(;g.bitcount<24;)g.tag|=g.source[g.sourceIndex++]<<g.bitcount,g.bitcount+=8;for(var O=0,D=0,V=0,K=g.tag;D=2*D+(1&K),K>>>=1,O+=S.table[++V],0<=(D-=S.table[V]););return g.tag=K,g.bitcount-=V,S.trans[O+D]}T(C,"E");function I(g,S,O){for(;;){var D=C(g,S);if(D===256)return r;if(D<256)g.dest[g.destLen++]=D;else for(var V,K=A(g,a[D-=257],o[D]),D=C(g,O),ee=V=g.destLen-A(g,c[D],y[D]);ee<V+K;++ee)g.dest[g.destLen++]=g.dest[ee]}}T(I,"D");for(var F=n,R=u,U=0;U<7;++U)F.table[U]=0;for(F.table[7]=24,F.table[8]=152,F.table[9]=112,U=0;U<24;++U)F.trans[U]=256+U;for(U=0;U<144;++U)F.trans[24+U]=U;for(U=0;U<8;++U)F.trans[168+U]=280+U;for(U=0;U<112;++U)F.trans[176+U]=144+U;for(U=0;U<5;++U)R.table[U]=0;for(R.table[5]=32,U=0;U<32;++U)R.trans[U]=U;w(a,o,4,3),w(c,y,2,1),a[28]=0,o[28]=258;var z=T(function(g,S){var O,D,V,K=new i(g,S);do{switch(V=void 0,(D=K).bitcount--||(D.tag=D.source[D.sourceIndex++],D.bitcount=7),V=1&D.tag,D.tag>>>=1,D=V,A(K,2,0)){case 0:O=function(Ne){for(var lt,pt;8<Ne.bitcount;)Ne.sourceIndex--,Ne.bitcount-=8;if((lt=256*Ne.source[Ne.sourceIndex+1]+Ne.source[Ne.sourceIndex])!==(65535&~(256*Ne.source[Ne.sourceIndex+3]+Ne.source[Ne.sourceIndex+2])))return s;for(Ne.sourceIndex+=4,pt=lt;pt;--pt)Ne.dest[Ne.destLen++]=Ne.source[Ne.sourceIndex++];return Ne.bitcount=0,r}(K);break;case 1:O=I(K,n,u);break;case 2:He=Ve=We=Ue=ee=Ce=Re=Be=Pe=_e=je=he=void 0;for(var ee,he=K,je=K.ltree,_e=K.dtree,Pe=A(he,5,257),Be=A(he,5,1),Re=A(he,4,4),Ce=0;Ce<19;++Ce)b[Ce]=0;for(Ce=0;Ce<Re;++Ce){var We=A(he,3,0);b[_[Ce]]=We}for(E(x,b,0,19),ee=0;ee<Pe+Be;){var Ve=C(he,x);switch(Ve){case 16:for(var He=b[ee-1],Ue=A(he,2,3);Ue;--Ue)b[ee++]=He;break;case 17:for(Ue=A(he,3,3);Ue;--Ue)b[ee++]=0;break;case 18:for(Ue=A(he,7,11);Ue;--Ue)b[ee++]=0;break;default:b[ee++]=Ve}}E(je,b,0,Pe),E(_e,b,Pe,Be),O=I(K,K.ltree,K.dtree);break;default:O=s}if(O!==r)throw new Error("Data error")}while(!D);return K.destLen<K.dest.length?typeof K.dest.slice=="function"?K.dest.slice(0,K.destLen):K.dest.subarray(0,K.destLen):K.dest},"U");function P(g,S,O,D,V){return Math.pow(1-V,3)*g+3*Math.pow(1-V,2)*V*S+3*(1-V)*Math.pow(V,2)*O+Math.pow(V,3)*D}T(P,"N");function W(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}T(W,"q");function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}T(Q,"X");function ae(g){throw new Error(g)}T(ae,"ie");function j(g,S){g||ae(S)}T(j,"j"),W.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},W.prototype.addPoint=function(g,S){typeof g=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=g,this.x2=g),g<this.x1&&(this.x1=g),g>this.x2&&(this.x2=g)),typeof S=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=S,this.y2=S),S<this.y1&&(this.y1=S),S>this.y2&&(this.y2=S))},W.prototype.addX=function(g){this.addPoint(g,null)},W.prototype.addY=function(g){this.addPoint(null,g)},W.prototype.addBezier=function(g,S,O,D,V,K,ee,he){var je=[g,S],_e=[O,D],Pe=[V,K],Be=[ee,he];this.addPoint(g,S),this.addPoint(ee,he);for(var Re=0;Re<=1;Re++){var Ce,We=6*je[Re]-12*_e[Re]+6*Pe[Re],Ve=-3*je[Re]+9*_e[Re]-9*Pe[Re]+3*Be[Re],He=3*_e[Re]-3*je[Re];Ve==0?We==0||0<(Ce=-He/We)&&Ce<1&&(Re===0&&this.addX(P(je[Re],_e[Re],Pe[Re],Be[Re],Ce)),Re===1&&this.addY(P(je[Re],_e[Re],Pe[Re],Be[Re],Ce))):(Ce=Math.pow(We,2)-4*He*Ve)<0||(0<(He=(-We+Math.sqrt(Ce))/(2*Ve))&&He<1&&(Re===0&&this.addX(P(je[Re],_e[Re],Pe[Re],Be[Re],He)),Re===1&&this.addY(P(je[Re],_e[Re],Pe[Re],Be[Re],He))),0<(He=(-We-Math.sqrt(Ce))/(2*Ve))&&He<1&&(Re===0&&this.addX(P(je[Re],_e[Re],Pe[Re],Be[Re],He)),Re===1&&this.addY(P(je[Re],_e[Re],Pe[Re],Be[Re],He))))}},W.prototype.addQuad=function(g,S,O,D,V,K){O=g+2/3*(O-g),D=S+2/3*(D-S),this.addBezier(g,S,O,D,O+1/3*(V-g),D+1/3*(K-S),V,K)},Q.prototype.moveTo=function(g,S){this.commands.push({type:"M",x:g,y:S})},Q.prototype.lineTo=function(g,S){this.commands.push({type:"L",x:g,y:S})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(g,S,O,D,V,K){this.commands.push({type:"C",x1:g,y1:S,x2:O,y2:D,x:V,y:K})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(g,S,O,D){this.commands.push({type:"Q",x1:g,y1:S,x:O,y:D})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(g){var S;if(g.commands)g=g.commands;else if(g instanceof W)return S=g,this.moveTo(S.x1,S.y1),this.lineTo(S.x2,S.y1),this.lineTo(S.x2,S.y2),this.lineTo(S.x1,S.y2),void this.close();Array.prototype.push.apply(this.commands,g)},Q.prototype.getBoundingBox=function(){for(var g=new W,S=0,O=0,D=0,V=0,K=0;K<this.commands.length;K++){var ee=this.commands[K];switch(ee.type){case"M":g.addPoint(ee.x,ee.y),S=D=ee.x,O=V=ee.y;break;case"L":g.addPoint(ee.x,ee.y),D=ee.x,V=ee.y;break;case"Q":g.addQuad(D,V,ee.x1,ee.y1,ee.x,ee.y),D=ee.x,V=ee.y;break;case"C":g.addBezier(D,V,ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y),D=ee.x,V=ee.y;break;case"Z":D=S,V=O;break;default:throw new Error("Unexpected path command "+ee.type)}}return g.isEmpty()&&g.addPoint(0,0),g},Q.prototype.draw=function(g){g.beginPath();for(var S=0;S<this.commands.length;S+=1){var O=this.commands[S];O.type==="M"?g.moveTo(O.x,O.y):O.type==="L"?g.lineTo(O.x,O.y):O.type==="C"?g.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y):O.type==="Q"?g.quadraticCurveTo(O.x1,O.y1,O.x,O.y):O.type==="Z"&&g.closePath()}this.fill&&(g.fillStyle=this.fill,g.fill()),this.stroke&&(g.strokeStyle=this.stroke,g.lineWidth=this.strokeWidth,g.stroke())},Q.prototype.toPathData=function(g){function S(){for(var K=arguments,ee="",he=0;he<arguments.length;he+=1){var je=K[he];0<=je&&0<he&&(ee+=" "),ee+=(je=je,Math.round(je)===je?""+Math.round(je):je.toFixed(g))}return ee}T(S,"v"),g=g!==void 0?g:2;for(var O="",D=0;D<this.commands.length;D+=1){var V=this.commands[D];V.type==="M"?O+="M"+S(V.x,V.y):V.type==="L"?O+="L"+S(V.x,V.y):V.type==="C"?O+="C"+S(V.x1,V.y1,V.x2,V.y2,V.x,V.y):V.type==="Q"?O+="Q"+S(V.x1,V.y1,V.x,V.y):V.type==="Z"&&(O+="Z")}return O},Q.prototype.toSVG=function(g){var S=(S='<path d="')+this.toPathData(g)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?S+=' fill="none"':S+=' fill="'+this.fill+'"'),this.stroke&&(S+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),S+="/>"},Q.prototype.toDOMElement=function(S){var S=this.toPathData(S),O=document.createElementNS("http://www.w3.org/2000/svg","path");return O.setAttribute("d",S),O};var L={fail:ae,argument:j,assert:j},G={},N={},Z={};function oe(g){return function(){return g}}T(oe,"K"),N.BYTE=function(g){return L.argument(0<=g&&g<=255,"Byte value should be between 0 and 255."),[g]},Z.BYTE=oe(1),N.CHAR=function(g){return[g.charCodeAt(0)]},Z.CHAR=oe(1),N.CHARARRAY=function(g){for(var S=[],O=0;O<g.length;O+=1)S[O]=g.charCodeAt(O);return S},Z.CHARARRAY=function(g){return g.length},N.USHORT=function(g){return[g>>8&255,255&g]},Z.USHORT=oe(2),N.SHORT=function(g){return[(g=32768<=g?-(65536-g):g)>>8&255,255&g]},Z.SHORT=oe(2),N.UINT24=function(g){return[g>>16&255,g>>8&255,255&g]},Z.UINT24=oe(3),N.ULONG=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},Z.ULONG=oe(4),N.LONG=function(g){return[(g=2147483648<=g?-(4294967296-g):g)>>24&255,g>>16&255,g>>8&255,255&g]},Z.LONG=oe(4),N.FIXED=N.ULONG,Z.FIXED=Z.ULONG,N.FWORD=N.SHORT,Z.FWORD=Z.SHORT,N.UFWORD=N.USHORT,Z.UFWORD=Z.USHORT,N.LONGDATETIME=function(g){return[0,0,0,0,g>>24&255,g>>16&255,g>>8&255,255&g]},Z.LONGDATETIME=oe(8),N.TAG=function(g){return L.argument(g.length===4,"Tag should be exactly 4 ASCII characters."),[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]},Z.TAG=oe(4),N.Card8=N.BYTE,Z.Card8=Z.BYTE,N.Card16=N.USHORT,Z.Card16=Z.USHORT,N.OffSize=N.BYTE,Z.OffSize=Z.BYTE,N.SID=N.USHORT,Z.SID=Z.USHORT,N.NUMBER=function(g){return-107<=g&&g<=107?[g+139]:108<=g&&g<=1131?[247+((g-=108)>>8),255&g]:-1131<=g&&g<=-108?[251+((g=-g-108)>>8),255&g]:-32768<=g&&g<=32767?N.NUMBER16(g):N.NUMBER32(g)},Z.NUMBER=function(g){return N.NUMBER(g).length},N.NUMBER16=function(g){return[28,g>>8&255,255&g]},Z.NUMBER16=oe(3),N.NUMBER32=function(g){return[29,g>>24&255,g>>16&255,g>>8&255,255&g]},Z.NUMBER32=oe(5),N.REAL=function(g){for(var S=g.toString(),O=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(S),D=(O&&(O=parseFloat("1e"+((O[2]?+O[2]:0)+O[1].length)),S=(Math.round(g*O)/O).toString()),""),V=0,K=S.length;V<K;V+=1){var ee=S[V];D+=ee==="e"?S[++V]==="-"?"c":"b":ee==="."?"a":ee==="-"?"e":ee}for(var he=[30],je=0,_e=(D+=1&D.length?"f":"ff").length;je<_e;je+=2)he.push(parseInt(D.substr(je,2),16));return he},Z.REAL=function(g){return N.REAL(g).length},N.NAME=N.CHARARRAY,Z.NAME=Z.CHARARRAY,N.STRING=N.CHARARRAY,Z.STRING=Z.CHARARRAY,G.UTF8=function(g,S,O){for(var D=[],V=O,K=0;K<V;K++,S+=1)D[K]=g.getUint8(S);return String.fromCharCode.apply(null,D)},G.UTF16=function(g,S,O){for(var D=[],V=O/2,K=0;K<V;K++,S+=2)D[K]=g.getUint16(S);return String.fromCharCode.apply(null,D)},N.UTF16=function(g){for(var S=[],O=0;O<g.length;O+=1){var D=g.charCodeAt(O);S[S.length]=D>>8&255,S[S.length]=255&D}return S},Z.UTF16=function(g){return 2*g.length};var ie,ce={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},ue=(G.MACSTRING=function(g,S,O,D){var V=ce[D];if(V!==void 0){for(var K="",ee=0;ee<O;ee++){var he=g.getUint8(S+ee);K+=he<=127?String.fromCharCode(he):V[127&he]}return K}},typeof WeakMap=="function"&&new WeakMap);function be(g){return-128<=g&&g<=127}T(be,"ue"),N.MACSTRING=function(g,S){var O=function(ee){if(!ie)for(var he in ie={},ce)ie[he]=new String(he);var je=ie[ee];if(je!==void 0){if(ue){var _e=ue.get(je);if(_e!==void 0)return _e}var Pe=ce[ee];if(Pe!==void 0){for(var Be={},Re=0;Re<Pe.length;Re++)Be[Pe.charCodeAt(Re)]=Re+128;return ue&&ue.set(je,Be),Be}}}(S);if(O!==void 0){for(var D=[],V=0;V<g.length;V++){var K=g.charCodeAt(V);if(128<=K&&(K=O[K])===void 0)return;D[V]=K}return D}},Z.MACSTRING=function(g,S){return g=N.MACSTRING(g,S),g!==void 0?g.length:0},N.VARDELTAS=function(g){for(var D=0,S=[];D<g.length;)var O=g[D],D=(O===0?function(V,K,ee){for(var he=0,je=V.length;K<je&&he<64&&V[K]===0;)++K,++he;return ee.push(128|he-1),K}:-128<=O&&O<=127?function(V,K,ee){for(var he=0,je=V.length,_e=K;_e<je&&he<64;){var Pe=V[_e];if(!be(Pe)||Pe===0&&_e+1<je&&V[_e+1]===0)break;++_e,++he}ee.push(he-1);for(var Be=K;Be<_e;++Be)ee.push(V[Be]+256&255);return _e}:function(V,K,ee){for(var he=0,je=V.length,_e=K;_e<je&&he<64;){var Pe=V[_e];if(Pe===0||be(Pe)&&_e+1<je&&be(V[_e+1]))break;++_e,++he}ee.push(64|he-1);for(var Be=K;Be<_e;++Be){var Re=V[Be];ee.push(Re+65536>>8&255,Re+256&255)}return _e})(g,D,S);return S},N.INDEX=function(g){for(var S=1,O=[S],D=[],V=0;V<g.length;V+=1){var K=N.OBJECT(g[V]);Array.prototype.push.apply(D,K),S+=K.length,O.push(S)}if(D.length===0)return[0,0];for(var ee=[],he=1+Math.floor(Math.log(S)/Math.log(2))/8|0,je=[void 0,N.BYTE,N.USHORT,N.UINT24,N.ULONG][he],_e=0;_e<O.length;_e+=1){var Pe=je(O[_e]);Array.prototype.push.apply(ee,Pe)}return Array.prototype.concat(N.Card16(g.length),N.OffSize(he),ee,D)},Z.INDEX=function(g){return N.INDEX(g).length},N.DICT=function(g){for(var S=[],O=Object.keys(g),D=O.length,V=0;V<D;V+=1){var K=parseInt(O[V],0),ee=g[K];S=(S=S.concat(N.OPERAND(ee.value,ee.type))).concat(N.OPERATOR(K))}return S},Z.DICT=function(g){return N.DICT(g).length},N.OPERATOR=function(g){return g<1200?[g]:[12,g-1200]},N.OPERAND=function(g,S){var O=[];if(Array.isArray(S))for(var D=0;D<S.length;D+=1)L.argument(g.length===S.length,"Not enough arguments given for type"+S),O=O.concat(N.OPERAND(g[D],S[D]));else if(S==="SID")O=O.concat(N.NUMBER(g));else if(S==="offset")O=O.concat(N.NUMBER32(g));else if(S==="number")O=O.concat(N.NUMBER(g));else{if(S!=="real")throw new Error("Unknown operand type "+S);O=O.concat(N.REAL(g))}return O},N.OP=N.BYTE,Z.OP=Z.BYTE;var ye=typeof WeakMap=="function"&&new WeakMap;function se(g,S,O){for(var D=0;D<S.length;D+=1){var V=S[D];this[V.name]=V.value}if(this.tableName=g,this.fields=S,O)for(var K=Object.keys(O),ee=0;ee<K.length;ee+=1){var he=K[ee],je=O[he];this[he]!==void 0&&(this[he]=je)}}T(se,"J");function xe(g,S,O){O===void 0&&(O=S.length);var D=new Array(S.length+1);D[0]={name:g+"Count",type:"USHORT",value:O};for(var V=0;V<S.length;V++)D[V+1]={name:g+V,type:"USHORT",value:S[V]};return D}T(xe,"ae");function Se(g,S,O){var D=S.length,V=new Array(D+1);V[0]={name:g+"Count",type:"USHORT",value:D};for(var K=0;K<D;K++)V[K+1]={name:g+K,type:"TABLE",value:O(S[K],K)};return V}T(Se,"he");function Ie(g,S,O){var D=S.length,V=[];V[0]={name:g+"Count",type:"USHORT",value:D};for(var K=0;K<D;K++)V=V.concat(O(S[K],K));return V}T(Ie,"je");function Me(g){g.format===1?se.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(xe("glyph",g.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}T(Me,"fe");function q(g){se.call(this,"scriptListTable",Ie("scriptRecord",g,function(S,O){var D=S.script,V=D.defaultLangSys;return L.assert(!!V,"Unable to write GSUB: script "+S.tag+" has no default language system."),[{name:"scriptTag"+O,type:"TAG",value:S.tag},{name:"script"+O,type:"TABLE",value:new se("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new se("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:V.reqFeatureIndex}].concat(xe("featureIndex",V.featureIndexes)))}].concat(Ie("langSys",D.langSysRecords,function(K,ee){var he=K.langSys;return[{name:"langSysTag"+ee,type:"TAG",value:K.tag},{name:"langSys"+ee,type:"TABLE",value:new se("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:he.reqFeatureIndex}].concat(xe("featureIndex",he.featureIndexes)))}]})))}]}))}T(q,"ye");function we(g){se.call(this,"featureListTable",Ie("featureRecord",g,function(S,O){var D=S.feature;return[{name:"featureTag"+O,type:"TAG",value:S.tag},{name:"feature"+O,type:"TABLE",value:new se("featureTable",[{name:"featureParams",type:"USHORT",value:D.featureParams}].concat(xe("lookupListIndex",D.lookupListIndexes)))}]}))}T(we,"xe");function ve(g,S){se.call(this,"lookupListTable",Se("lookup",g,function(O){var D=S[O.lookupType];return L.assert(!!D,"Unable to write GSUB lookup type "+O.lookupType+" tables."),new se("lookupTable",[{name:"lookupType",type:"USHORT",value:O.lookupType},{name:"lookupFlag",type:"USHORT",value:O.lookupFlag}].concat(Se("subtable",O.subtables,D)))}))}T(ve,"Le"),N.CHARSTRING=function(g){if(ye){var S=ye.get(g);if(S!==void 0)return S}for(var K=[],O=g.length,D=0;D<O;D+=1)var V=g[D],K=K.concat(N[V.type](V.value));return ye&&ye.set(g,K),K},Z.CHARSTRING=function(g){return N.CHARSTRING(g).length},N.OBJECT=function(g){var S=N[g.type];return L.argument(S!==void 0,"No encoding function for type "+g.type),S(g.value)},Z.OBJECT=function(g){var S=Z[g.type];return L.argument(S!==void 0,"No sizeOf function for type "+g.type),S(g.value)},N.TABLE=function(g){for(var S=[],O=g.fields.length,D=[],V=[],K=0;K<O;K+=1){var ee=g.fields[K],je=N[ee.type],he=(L.argument(je!==void 0,"No encoding function for field type "+ee.type+" ("+ee.name+")"),g[ee.name]),je=je(he=he===void 0?ee.value:he);ee.type==="TABLE"?(V.push(S.length),S=S.concat([0,0]),D.push(je)):S=S.concat(je)}for(var _e=0;_e<D.length;_e+=1){var Pe=V[_e],Be=S.length;L.argument(Be<65536,"Table "+g.tableName+" too big."),S[Pe]=Be>>8,S[Pe+1]=255&Be,S=S.concat(D[_e])}return S},Z.TABLE=function(g){for(var S=0,O=g.fields.length,D=0;D<O;D+=1){var V=g.fields[D],K=Z[V.type],ee=(L.argument(K!==void 0,"No sizeOf function for field type "+V.type+" ("+V.name+")"),g[V.name]);S+=K(ee=ee===void 0?V.value:ee),V.type==="TABLE"&&(S+=2)}return S},N.RECORD=N.TABLE,Z.RECORD=Z.TABLE,N.LITERAL=function(g){return g},Z.LITERAL=function(g){return g.length},se.prototype.encode=function(){return N.TABLE(this)},se.prototype.sizeOf=function(){return Z.TABLE(this)};var re={Table:se,Record:se,Coverage:(Me.prototype=Object.create(se.prototype)).constructor=Me,ScriptList:(q.prototype=Object.create(se.prototype)).constructor=q,FeatureList:(we.prototype=Object.create(se.prototype)).constructor=we,LookupList:(ve.prototype=Object.create(se.prototype)).constructor=ve,ushortList:xe,tableList:Se,recordList:Ie};function fe(g,S){return g.getUint8(S)}T(fe,"Xe");function ge(g,S){return g.getUint16(S,!1)}T(ge,"Ne");function B(g,S){return g.getUint32(S,!1)}T(B,"Be");function H(g,S){return g.getInt16(S,!1)+g.getUint16(S+2,!1)/65535}T(H,"ze");var X={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function te(g,S){this.data=g,this.offset=S,this.relativeOffset=0}T(te,"ge"),te.prototype.parseByte=function(){var g=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,g},te.prototype.parseChar=function(){var g=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,g},te.prototype.parseCard8=te.prototype.parseByte,te.prototype.parseCard16=te.prototype.parseUShort=function(){var g=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,g},te.prototype.parseSID=te.prototype.parseUShort,te.prototype.parseOffset16=te.prototype.parseUShort,te.prototype.parseShort=function(){var g=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,g},te.prototype.parseF2Dot14=function(){var g=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,g},te.prototype.parseOffset32=te.prototype.parseULong=function(){var g=B(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,g},te.prototype.parseFixed=function(){var g=H(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,g},te.prototype.parseString=function(g){var S=this.data,O=this.offset+this.relativeOffset,D="";this.relativeOffset+=g;for(var V=0;V<g;V++)D+=String.fromCharCode(S.getUint8(O+V));return D},te.prototype.parseTag=function(){return this.parseString(4)},te.prototype.parseLongDateTime=function(){var g=B(this.data,this.offset+this.relativeOffset+4);return g-=2082844800,this.relativeOffset+=8,g},te.prototype.parseVersion=function(g){var S=ge(this.data,this.offset+this.relativeOffset),O=ge(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,S+O/(g=g===void 0?4096:g)/10},te.prototype.skip=function(g,S){this.relativeOffset+=X[g]*(S=S===void 0?1:S)},te.prototype.parseULongList=function(g){g===void 0&&(g=this.parseULong());for(var S=new Array(g),O=this.data,D=this.offset+this.relativeOffset,V=0;V<g;V++)S[V]=O.getUint32(D),D+=4;return this.relativeOffset+=4*g,S},te.prototype.parseOffset16List=te.prototype.parseUShortList=function(g){g===void 0&&(g=this.parseUShort());for(var S=new Array(g),O=this.data,D=this.offset+this.relativeOffset,V=0;V<g;V++)S[V]=O.getUint16(D),D+=2;return this.relativeOffset+=2*g,S},te.prototype.parseShortList=function(g){for(var S=new Array(g),O=this.data,D=this.offset+this.relativeOffset,V=0;V<g;V++)S[V]=O.getInt16(D),D+=2;return this.relativeOffset+=2*g,S},te.prototype.parseByteList=function(g){for(var S=new Array(g),O=this.data,D=this.offset+this.relativeOffset,V=0;V<g;V++)S[V]=O.getUint8(D++);return this.relativeOffset+=g,S},te.prototype.parseList=function(g,S){S||(S=g,g=this.parseUShort());for(var O=new Array(g),D=0;D<g;D++)O[D]=S.call(this);return O},te.prototype.parseList32=function(g,S){S||(S=g,g=this.parseULong());for(var O=new Array(g),D=0;D<g;D++)O[D]=S.call(this);return O},te.prototype.parseRecordList=function(g,S){S||(S=g,g=this.parseUShort());for(var O=new Array(g),D=Object.keys(S),V=0;V<g;V++){for(var K={},ee=0;ee<D.length;ee++){var he=D[ee],je=S[he];K[he]=je.call(this)}O[V]=K}return O},te.prototype.parseRecordList32=function(g,S){S||(S=g,g=this.parseULong());for(var O=new Array(g),D=Object.keys(S),V=0;V<g;V++){for(var K={},ee=0;ee<D.length;ee++){var he=D[ee],je=S[he];K[he]=je.call(this)}O[V]=K}return O},te.prototype.parseStruct=function(g){if(typeof g=="function")return g.call(this);for(var S=Object.keys(g),O={},D=0;D<S.length;D++){var V=S[D],K=g[V];O[V]=K.call(this)}return O},te.prototype.parseValueRecord=function(g){var S;if((g=g===void 0?this.parseUShort():g)!==0)return S={},1&g&&(S.xPlacement=this.parseShort()),2&g&&(S.yPlacement=this.parseShort()),4&g&&(S.xAdvance=this.parseShort()),8&g&&(S.yAdvance=this.parseShort()),16&g&&(S.xPlaDevice=void 0,this.parseShort()),32&g&&(S.yPlaDevice=void 0,this.parseShort()),64&g&&(S.xAdvDevice=void 0,this.parseShort()),128&g&&(S.yAdvDevice=void 0,this.parseShort()),S},te.prototype.parseValueRecordList=function(){for(var g=this.parseUShort(),S=this.parseUShort(),O=new Array(S),D=0;D<S;D++)O[D]=this.parseValueRecord(g);return O},te.prototype.parsePointer=function(g){var S=this.parseOffset16();if(0<S)return new te(this.data,this.offset+S).parseStruct(g)},te.prototype.parsePointer32=function(g){var S=this.parseOffset32();if(0<S)return new te(this.data,this.offset+S).parseStruct(g)},te.prototype.parseListOfLists=function(g){for(var S=this.parseOffset16List(),O=S.length,D=this.relativeOffset,V=new Array(O),K=0;K<O;K++){var ee=S[K];if(ee===0)V[K]=void 0;else if(this.relativeOffset=ee,g){for(var he=this.parseOffset16List(),je=new Array(he.length),_e=0;_e<he.length;_e++)this.relativeOffset=ee+he[_e],je[_e]=g.call(this);V[K]=je}else V[K]=this.parseUShortList()}return this.relativeOffset=D,V},te.prototype.parseCoverage=function(){var g=this.offset+this.relativeOffset,S=this.parseUShort(),O=this.parseUShort();if(S===1)return{format:1,glyphs:this.parseUShortList(O)};if(S!==2)throw new Error("0x"+g.toString(16)+": Coverage format must be 1 or 2.");for(var D=new Array(O),V=0;V<O;V++)D[V]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:D}},te.prototype.parseClassDef=function(){var g=this.offset+this.relativeOffset,S=this.parseUShort();if(S===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(S===2)return{format:2,ranges:this.parseRecordList({start:te.uShort,end:te.uShort,classId:te.uShort})};throw new Error("0x"+g.toString(16)+": ClassDef format must be 1 or 2.")},te.list=function(g,S){return function(){return this.parseList(g,S)}},te.list32=function(g,S){return function(){return this.parseList32(g,S)}},te.recordList=function(g,S){return function(){return this.parseRecordList(g,S)}},te.recordList32=function(g,S){return function(){return this.parseRecordList32(g,S)}},te.pointer=function(g){return function(){return this.parsePointer(g)}},te.pointer32=function(g){return function(){return this.parsePointer32(g)}},te.tag=te.prototype.parseTag,te.byte=te.prototype.parseByte,te.uShort=te.offset16=te.prototype.parseUShort,te.uShortList=te.prototype.parseUShortList,te.uLong=te.offset32=te.prototype.parseULong,te.uLongList=te.prototype.parseULongList,te.struct=te.prototype.parseStruct,te.coverage=te.prototype.parseCoverage,te.classDef=te.prototype.parseClassDef;var pe={reserved:te.uShort,reqFeatureIndex:te.uShort,featureIndexes:te.uShortList},le=(te.prototype.parseScriptList=function(){return this.parsePointer(te.recordList({tag:te.tag,script:te.pointer({defaultLangSys:te.pointer(pe),langSysRecords:te.recordList({tag:te.tag,langSys:te.pointer(pe)})})}))||[]},te.prototype.parseFeatureList=function(){return this.parsePointer(te.recordList({tag:te.tag,feature:te.pointer({featureParams:te.offset16,lookupListIndexes:te.uShortList})}))||[]},te.prototype.parseLookupList=function(g){return this.parsePointer(te.list(te.pointer(function(){var S=this.parseUShort(),O=(L.argument(1<=S&&S<=9,"GPOS/GSUB lookup type "+S+" unknown."),this.parseUShort()),D=16&O;return{lookupType:S,lookupFlag:O,subtables:this.parseList(te.pointer(g[S])),markFilteringSet:D?this.parseUShort():void 0}})))||[]},te.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var g=this.parseUShort(),S=this.parseUShort();return L.argument(g===1&&S<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:te.offset32,featureTableSubstitutionOffset:te.offset32})})||[]},{getByte:fe,getCard8:fe,getUShort:ge,getCard16:ge,getShort:function(g,S){return g.getInt16(S,!1)},getULong:B,getFixed:H,getTag:function(g,S){for(var O="",D=S;D<S+4;D+=1)O+=String.fromCharCode(g.getInt8(D));return O},getOffset:function(g,S,O){for(var D=0,V=0;V<O;V+=1)D=(D<<=8)+g.getUint8(S+V);return D},getBytes:function(g,S,O){for(var D=[],V=S;V<O;V+=1)D.push(g.getUint8(V));return D},bytesToString:function(g){for(var S="",O=0;O<g.length;O+=1)S+=String.fromCharCode(g[O]);return S},Parser:te}),$={parse:function(g,S){for(var O={},D=(O.version=le.getUShort(g,S),L.argument(O.version===0,"cmap table version should be 0."),O.numTables=le.getUShort(g,S+2),-1),V=O.numTables-1;0<=V;--V){var K=le.getUShort(g,S+4+8*V),ee=le.getUShort(g,S+4+8*V+2);if(K===3&&(ee===0||ee===1||ee===10)||K===0&&(ee===0||ee===1||ee===2||ee===3||ee===4)){D=le.getULong(g,S+4+8*V+4);break}}if(D===-1)throw new Error("No valid cmap sub-tables found.");var he=new le.Parser(g,S+D);if(O.format=he.parseUShort(),O.format===12){var je,_e=O,Pe=he;Pe.parseUShort(),_e.length=Pe.parseULong(),_e.language=Pe.parseULong(),_e.groupCount=je=Pe.parseULong(),_e.glyphIndexMap={};for(var Be=0;Be<je;Be+=1)for(var Re=Pe.parseULong(),Ce=Pe.parseULong(),We=Pe.parseULong(),Ve=Re;Ve<=Ce;Ve+=1)_e.glyphIndexMap[Ve]=We,We++}else{if(O.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+O.format+").");var He=O,Ue=g,Ne=S,lt=D;He.length=he.parseUShort(),He.language=he.parseUShort(),He.segCount=pt=he.parseUShort()>>1,he.skip("uShort",3),He.glyphIndexMap={};for(var pt,ut=new le.Parser(Ue,Ne+lt+14),ct=new le.Parser(Ue,Ne+lt+16+2*pt),vt=new le.Parser(Ue,Ne+lt+16+4*pt),Tt=new le.Parser(Ue,Ne+lt+16+6*pt),Pt=Ne+lt+16+8*pt,It=0;It<pt-1;It+=1)for(var zt=void 0,Vt=ut.parseUShort(),Kt=ct.parseUShort(),kt=vt.parseShort(),Mt=Tt.parseUShort(),St=Kt;St<=Vt;St+=1)Mt!==0?(Pt=(Pt=Tt.offset+Tt.relativeOffset-2)+Mt+2*(St-Kt),(zt=le.getUShort(Ue,Pt))!==0&&(zt=zt+kt&65535)):zt=St+kt&65535,He.glyphIndexMap[St]=zt}return O},make:function(g){for(var S=!0,O=g.length-1;0<O;--O)if(65535<g.get(O).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var D,V,K=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}],ee=(K=(K=S?K:K.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new re.Table("cmap",K));for(ee.segments=[],O=0;O<g.length;O+=1){for(var he=g.get(O),je=0;je<he.unicodes.length;je+=1)D=he.unicodes[je],V=O,ee.segments.push({end:D,start:D,delta:-(D-V),offset:0,glyphIndex:V});ee.segments=ee.segments.sort(function(Ne,lt){return Ne.start-lt.start})}ee.segments.push({end:65535,start:65535,delta:1,offset:0});var _e=ee.segments.length,Pe=0,Be=[],Re=[],Ce=[],We=[],Ve=[],He=[];for(O=0;O<_e;O+=1){var Ue=ee.segments[O];Ue.end<=65535&&Ue.start<=65535?(Be=Be.concat({name:"end_"+O,type:"USHORT",value:Ue.end}),Re=Re.concat({name:"start_"+O,type:"USHORT",value:Ue.start}),Ce=Ce.concat({name:"idDelta_"+O,type:"SHORT",value:Ue.delta}),We=We.concat({name:"idRangeOffset_"+O,type:"USHORT",value:Ue.offset}),Ue.glyphId!==void 0&&(Ve=Ve.concat({name:"glyph_"+O,type:"USHORT",value:Ue.glyphId}))):Pe+=1,S||Ue.glyphIndex===void 0||(He=(He=(He=He.concat({name:"cmap12Start_"+O,type:"ULONG",value:Ue.start})).concat({name:"cmap12End_"+O,type:"ULONG",value:Ue.end})).concat({name:"cmap12Glyph_"+O,type:"ULONG",value:Ue.glyphIndex}))}return ee.segCountX2=2*(_e-Pe),ee.searchRange=2*Math.pow(2,Math.floor(Math.log(_e-Pe)/Math.log(2))),ee.entrySelector=Math.log(ee.searchRange/2)/Math.log(2),ee.rangeShift=ee.segCountX2-ee.searchRange,ee.fields=ee.fields.concat(Be),ee.fields.push({name:"reservedPad",type:"USHORT",value:0}),ee.fields=ee.fields.concat(Re),ee.fields=ee.fields.concat(Ce),ee.fields=ee.fields.concat(We),ee.fields=ee.fields.concat(Ve),ee.cmap4Length=14+2*Be.length+2+2*Re.length+2*Ce.length+2*We.length+2*Ve.length,S||(K=16+4*He.length,ee.cmap12Offset=20+ee.cmap4Length,ee.fields=ee.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:K},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:He.length/3}]),ee.fields=ee.fields.concat(He)),ee}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],J=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Te=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function me(g){this.font=g}T(me,"be");function Ee(g){this.cmap=g}T(Ee,"ke");function Le(g,S){this.encoding=g,this.charset=S}T(Le,"Ie");function Fe(g){switch(g.version){case 1:this.names=Te.slice();break;case 2:this.names=new Array(g.numberOfGlyphs);for(var S=0;S<g.numberOfGlyphs;S++)g.glyphNameIndex[S]<Te.length?this.names[S]=Te[g.glyphNameIndex[S]]:this.names[S]=g.names[g.glyphNameIndex[S]-Te.length];break;case 2.5:this.names=new Array(g.numberOfGlyphs);for(var O=0;O<g.numberOfGlyphs;O++)this.names[O]=Te[O+g.glyphNameIndex[O]];break;default:this.names=[]}}T(Fe,"Fe"),me.prototype.charToGlyphIndex=function(g){var S=g.codePointAt(0),O=this.font.glyphs;if(O){for(var D=0;D<O.length;D+=1)for(var V=O.get(D),K=0;K<V.unicodes.length;K+=1)if(V.unicodes[K]===S)return D}return null},Ee.prototype.charToGlyphIndex=function(g){return this.cmap.glyphIndexMap[g.codePointAt(0)]||0},Le.prototype.charToGlyphIndex=function(g){return g=g.codePointAt(0),g=this.encoding[g],this.charset.indexOf(g)},Fe.prototype.nameToGlyphIndex=function(g){return this.names.indexOf(g)},Fe.prototype.glyphIndexToName=function(g){return this.names[g]};var Ge={line:function(g,S,O,D,V){g.beginPath(),g.moveTo(S,O),g.lineTo(D,V),g.stroke()}};function ze(g){this.bindConstructorValues(g)}T(ze,"He");function et(g,S,O){Object.defineProperty(g,S,{get:function(){return g.path,g[O]},set:function(D){g[O]=D},enumerable:!0,configurable:!0})}T(et,"rt");function Ke(g,S){if(this.font=g,this.glyphs={},Array.isArray(S))for(var O=0;O<S.length;O++)this.glyphs[O]=S[O];this.length=S&&S.length||0}T(Ke,"et"),ze.prototype.bindConstructorValues=function(g){var S;this.index=g.index||0,this.name=g.name||null,this.unicode=g.unicode||void 0,this.unicodes=g.unicodes||g.unicode!==void 0?[g.unicode]:[],g.xMin&&(this.xMin=g.xMin),g.yMin&&(this.yMin=g.yMin),g.xMax&&(this.xMax=g.xMax),g.yMax&&(this.yMax=g.yMax),g.advanceWidth&&(this.advanceWidth=g.advanceWidth),Object.defineProperty(this,"path",(g=g.path,S=g||new Q,{configurable:!0,get:function(){return S=typeof S=="function"?S():S},set:function(O){S=O}}))},ze.prototype.addUnicode=function(g){this.unicodes.length===0&&(this.unicode=g),this.unicodes.push(g)},ze.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ze.prototype.getPath=function(g,S,O,D,V){g=g!==void 0?g:0,S=S!==void 0?S:0,O=O!==void 0?O:72;for(var K,ee,he=(D=D||{}).xScale,je=D.yScale,_e=((K=D.hinting&&V&&V.hinting?this.path&&V.hinting.exec(this,O):K)?(ee=V.hinting.getCommands(K),g=Math.round(g),S=Math.round(S),he=je=1):(ee=this.path.commands,D=1/this.path.unitsPerEm*O,he===void 0&&(he=D),je===void 0&&(je=D)),new Q),Pe=0;Pe<ee.length;Pe+=1){var Be=ee[Pe];Be.type==="M"?_e.moveTo(g+Be.x*he,S+-Be.y*je):Be.type==="L"?_e.lineTo(g+Be.x*he,S+-Be.y*je):Be.type==="Q"?_e.quadraticCurveTo(g+Be.x1*he,S+-Be.y1*je,g+Be.x*he,S+-Be.y*je):Be.type==="C"?_e.curveTo(g+Be.x1*he,S+-Be.y1*je,g+Be.x2*he,S+-Be.y2*je,g+Be.x*he,S+-Be.y*je):Be.type==="Z"&&_e.closePath()}return _e},ze.prototype.getContours=function(){if(this.points===void 0)return[];for(var g=[],S=[],O=0;O<this.points.length;O+=1){var D=this.points[O];S.push(D),D.lastPointOfContour&&(g.push(S),S=[])}return L.argument(S.length===0,"There are still points left in the current contour."),g},ze.prototype.getMetrics=function(){for(var g=this.path.commands,S=[],O=[],D=0;D<g.length;D+=1){var V=g[D];V.type!=="Z"&&(S.push(V.x),O.push(V.y)),V.type!=="Q"&&V.type!=="C"||(S.push(V.x1),O.push(V.y1)),V.type==="C"&&(S.push(V.x2),O.push(V.y2))}var K={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,S),yMax:Math.max.apply(null,O),leftSideBearing:this.leftSideBearing};return isFinite(K.xMin)||(K.xMin=0),isFinite(K.xMax)||(K.xMax=this.advanceWidth),isFinite(K.yMin)||(K.yMin=0),isFinite(K.yMax)||(K.yMax=0),K.rightSideBearing=this.advanceWidth-K.leftSideBearing-(K.xMax-K.xMin),K},ze.prototype.draw=function(g,S,O,D,V){this.getPath(S,O,D,V).draw(g)},ze.prototype.drawPoints=function(g,S,O,D){function V(Pe,Be,Re,Ce){var We=2*Math.PI;g.beginPath();for(var Ve=0;Ve<Pe.length;Ve+=1)g.moveTo(Be+Pe[Ve].x*Ce,Re+Pe[Ve].y*Ce),g.arc(Be+Pe[Ve].x*Ce,Re+Pe[Ve].y*Ce,2,0,We,!1);g.closePath(),g.fill()}T(V,"R"),S=S!==void 0?S:0,O=O!==void 0?O:0;for(var D=1/this.path.unitsPerEm*(D=D!==void 0?D:24),K=[],ee=[],he=this.path,je=0;je<he.commands.length;je+=1){var _e=he.commands[je];_e.x!==void 0&&K.push({x:_e.x,y:-_e.y}),_e.x1!==void 0&&ee.push({x:_e.x1,y:-_e.y1}),_e.x2!==void 0&&ee.push({x:_e.x2,y:-_e.y2})}g.fillStyle="blue",V(K,S,O,D),g.fillStyle="red",V(ee,S,O,D)},ze.prototype.drawMetrics=function(g,S,O,D){S=S!==void 0?S:0,O=O!==void 0?O:0,D=1/this.path.unitsPerEm*(D=D!==void 0?D:24),g.lineWidth=1,g.strokeStyle="black",Ge.line(g,S,-1e4,S,1e4),Ge.line(g,-1e4,O,1e4,O);var V=this.xMin||0,K=this.yMin||0,ee=this.xMax||0,he=this.yMax||0,je=this.advanceWidth||0;g.strokeStyle="blue",Ge.line(g,S+V*D,-1e4,S+V*D,1e4),Ge.line(g,S+ee*D,-1e4,S+ee*D,1e4),Ge.line(g,-1e4,O+-K*D,1e4,O+-K*D),Ge.line(g,-1e4,O+-he*D,1e4,O+-he*D),g.strokeStyle="green",Ge.line(g,S+je*D,-1e4,S+je*D,1e4)},Ke.prototype.get=function(g){return typeof this.glyphs[g]=="function"&&(this.glyphs[g]=this.glyphs[g]()),this.glyphs[g]},Ke.prototype.push=function(g,S){this.glyphs[g]=S,this.length++};var Qe={GlyphSet:Ke,glyphLoader:function(g,S){return new ze({index:S,font:g})},ttfGlyphLoader:function(g,S,O,D,V,K){return function(){var ee=new ze({index:S,font:g});return ee.path=function(){O(ee,D,V);var he=K(g.glyphs,ee);return he.unitsPerEm=g.unitsPerEm,he},et(ee,"xMin","_xMin"),et(ee,"xMax","_xMax"),et(ee,"yMin","_yMin"),et(ee,"yMax","_yMax"),ee}},cffGlyphLoader:function(g,S,O,D){return function(){var V=new ze({index:S,font:g});return V.path=function(){var K=O(g,V,D);return K.unitsPerEm=g.unitsPerEm,K},V}}};function Xe(g){return g=g.length<1240?107:g.length<33900?1131:32768,g}T(Xe,"tt");function tt(g,S,O){var D,V=[],K=[],ee=le.getCard16(g,S);if(ee!==0){for(var he=le.getByte(g,S+2),je=S+(ee+1)*he+2,_e=S+3,Pe=0;Pe<ee+1;Pe+=1)V.push(le.getOffset(g,_e,he)),_e+=he;D=je+V[ee]}else D=S+2;for(var Be=0;Be<V.length-1;Be+=1){var Re=le.getBytes(g,je+V[Be],je+V[Be+1]);O&&(Re=O(Re)),K.push(Re)}return{objects:K,startOffset:S,endOffset:D}}T(tt,"$e");function ht(g,S){if(S===28)return g.parseByte()<<8|g.parseByte();if(S===29)return g.parseByte()<<24|g.parseByte()<<16|g.parseByte()<<8|g.parseByte();if(S===30){for(var O=g,D="",V=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ee=O.parseByte(),K=ee>>4,ee=15&ee;if(K==15||(D+=V[K],ee==15))break;D+=V[ee]}return parseFloat(D)}if(32<=S&&S<=246)return S-139;if(247<=S&&S<=250)return 256*(S-247)+g.parseByte()+108;if(251<=S&&S<=254)return 256*-(S-251)-g.parseByte()-108;throw new Error("Invalid b0 "+S)}T(ht,"mt");function mt(g,S,O){var D=new le.Parser(g,S=S!==void 0?S:0),V=[],K=[];for(O=O!==void 0?O:g.length;D.relativeOffset<O;){var ee=D.parseByte();ee<=21?(ee===12&&(ee=1200+D.parseByte()),V.push([ee,K]),K=[]):K.push(ht(D,ee))}for(var he=V,je={},_e=0;_e<he.length;_e+=1){var Pe=he[_e][0],Be=he[_e][1],Re=void 0,Re=Be.length===1?Be[0]:Be;if(je.hasOwnProperty(Pe)&&!isNaN(je[Pe]))throw new Error("Object "+je+" already has key "+Pe);je[Pe]=Re}return je}T(mt,"Dt");function xt(g,S){return S=S<=390?ne[S]:g[S-391]}T(xt,"Tt");function ft(g,S,O){for(var D,V={},K=0;K<S.length;K+=1){var ee=S[K];if(Array.isArray(ee.type)){var he=[];he.length=ee.type.length;for(var je=0;je<ee.type.length;je++)(D=g[ee.op]!==void 0?g[ee.op][je]:void 0)===void 0&&(D=ee.value!==void 0&&ee.value[je]!==void 0?ee.value[je]:null),ee.type[je]==="SID"&&(D=xt(O,D)),he[je]=D;V[ee.name]=he}else(D=g[ee.op])===void 0&&(D=ee.value!==void 0?ee.value:null),ee.type==="SID"&&(D=xt(O,D)),V[ee.name]=D}return V}T(ft,"ct");var gt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],rt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ot(g,S,O,D){return ft(mt(g,S,O),rt,D)}T(ot,"Lt");function dt(g,S,O,D){for(var V=[],K=0;K<O.length;K+=1){var ee=new DataView(new Uint8Array(O[K]).buffer),ee=(he=D,ft(mt(ee,0,ee.byteLength),gt,he)),he=(ee._subrs=[],ee._subrsBias=0,ee.private[0]),je=ee.private[1];he!==0&&je!==0&&(he=ot(g,je+S,he,D),ee._defaultWidthX=he.defaultWidthX,ee._nominalWidthX=he.nominalWidthX,he.subrs!==0&&(je=tt(g,je+he.subrs+S),ee._subrs=je.objects,ee._subrsBias=Xe(ee._subrs)),ee._privateDict=he),V.push(ee)}return V}T(dt,"Ct");function yt(g,S,O){var D,V,K,ee,he,je,_e,Pe,Be,Re=new Q,Ce=[],We=0,Ve=!1,He=!1,Ue=0,Ne=0,lt=(Be=(g.isCIDFont?(he=g.tables.cff.topDict._fdSelect[S.index],he=g.tables.cff.topDict._fdArray[he],je=he._subrs,_e=he._subrsBias,Pe=he._defaultWidthX,he):(je=g.tables.cff.topDict._subrs,_e=g.tables.cff.topDict._subrsBias,Pe=g.tables.cff.topDict._defaultWidthX,g.tables.cff.topDict))._nominalWidthX,Pe);function pt(ct,vt){He&&Re.closePath(),Re.moveTo(ct,vt),He=!0}T(pt,"ot");function ut(){Ce.length%2==0||Ve||(lt=Ce.shift()+Be),We+=Ce.length>>1,Ce.length=0,Ve=!0}return T(ut,"Je"),T(function ct(vt){for(var Tt,Pt,It,zt,Vt,Kt,kt,Mt,St,Ht,At,Gt,Ct=0;Ct<vt.length;){var Nt=vt[Ct];switch(Ct+=1,Nt){case 1:case 3:ut();break;case 4:1<Ce.length&&!Ve&&(lt=Ce.shift()+Be,Ve=!0),Ne+=Ce.pop(),pt(Ue,Ne);break;case 5:for(;0<Ce.length;)Ue+=Ce.shift(),Ne+=Ce.shift(),Re.lineTo(Ue,Ne);break;case 6:for(;0<Ce.length&&(Ue+=Ce.shift(),Re.lineTo(Ue,Ne),Ce.length!==0);)Ne+=Ce.shift(),Re.lineTo(Ue,Ne);break;case 7:for(;0<Ce.length&&(Ne+=Ce.shift(),Re.lineTo(Ue,Ne),Ce.length!==0);)Ue+=Ce.shift(),Re.lineTo(Ue,Ne);break;case 8:for(;0<Ce.length;)D=Ue+Ce.shift(),V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K+Ce.shift(),Ne=ee+Ce.shift(),Re.curveTo(D,V,K,ee,Ue,Ne);break;case 10:Vt=Ce.pop()+_e,(Kt=je[Vt])&&ct(Kt);break;case 11:return;case 12:switch(Nt=vt[Ct],Ct+=1,Nt){case 35:D=Ue+Ce.shift(),V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),kt=K+Ce.shift(),Mt=ee+Ce.shift(),St=kt+Ce.shift(),Ht=Mt+Ce.shift(),At=St+Ce.shift(),Gt=Ht+Ce.shift(),Ue=At+Ce.shift(),Ne=Gt+Ce.shift(),Ce.shift(),Re.curveTo(D,V,K,ee,kt,Mt),Re.curveTo(St,Ht,At,Gt,Ue,Ne);break;case 34:D=Ue+Ce.shift(),V=Ne,K=D+Ce.shift(),ee=V+Ce.shift(),kt=K+Ce.shift(),Mt=ee,St=kt+Ce.shift(),Ht=ee,At=St+Ce.shift(),Gt=Ne,Ue=At+Ce.shift(),Re.curveTo(D,V,K,ee,kt,Mt),Re.curveTo(St,Ht,At,Gt,Ue,Ne);break;case 36:D=Ue+Ce.shift(),V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),kt=K+Ce.shift(),Mt=ee,St=kt+Ce.shift(),Ht=ee,At=St+Ce.shift(),Gt=Ht+Ce.shift(),Ue=At+Ce.shift(),Re.curveTo(D,V,K,ee,kt,Mt),Re.curveTo(St,Ht,At,Gt,Ue,Ne);break;case 37:D=Ue+Ce.shift(),V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),kt=K+Ce.shift(),Mt=ee+Ce.shift(),St=kt+Ce.shift(),Ht=Mt+Ce.shift(),At=St+Ce.shift(),Gt=Ht+Ce.shift(),Math.abs(At-Ue)>Math.abs(Gt-Ne)?Ue=At+Ce.shift():Ne=Gt+Ce.shift(),Re.curveTo(D,V,K,ee,kt,Mt),Re.curveTo(St,Ht,At,Gt,Ue,Ne);break;default:console.log("Glyph "+S.index+": unknown operator 1200"+Nt),Ce.length=0}break;case 14:0<Ce.length&&!Ve&&(lt=Ce.shift()+Be,Ve=!0),He&&(Re.closePath(),He=!1);break;case 18:ut();break;case 19:case 20:ut(),Ct+=We+7>>3;break;case 21:2<Ce.length&&!Ve&&(lt=Ce.shift()+Be,Ve=!0),Ne+=Ce.pop(),pt(Ue+=Ce.pop(),Ne);break;case 22:1<Ce.length&&!Ve&&(lt=Ce.shift()+Be,Ve=!0),pt(Ue+=Ce.pop(),Ne);break;case 23:ut();break;case 24:for(;2<Ce.length;)D=Ue+Ce.shift(),V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K+Ce.shift(),Ne=ee+Ce.shift(),Re.curveTo(D,V,K,ee,Ue,Ne);Ue+=Ce.shift(),Ne+=Ce.shift(),Re.lineTo(Ue,Ne);break;case 25:for(;6<Ce.length;)Ue+=Ce.shift(),Ne+=Ce.shift(),Re.lineTo(Ue,Ne);D=Ue+Ce.shift(),V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K+Ce.shift(),Ne=ee+Ce.shift(),Re.curveTo(D,V,K,ee,Ue,Ne);break;case 26:for(Ce.length%2&&(Ue+=Ce.shift());0<Ce.length;)D=Ue,V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K,Ne=ee+Ce.shift(),Re.curveTo(D,V,K,ee,Ue,Ne);break;case 27:for(Ce.length%2&&(Ne+=Ce.shift());0<Ce.length;)D=Ue+Ce.shift(),V=Ne,K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K+Ce.shift(),Ne=ee,Re.curveTo(D,V,K,ee,Ue,Ne);break;case 28:Tt=vt[Ct],Pt=vt[Ct+1],Ce.push((Tt<<24|Pt<<16)>>16),Ct+=2;break;case 29:Vt=Ce.pop()+g.gsubrsBias,(Kt=g.gsubrs[Vt])&&ct(Kt);break;case 30:for(;0<Ce.length&&(D=Ue,V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K+Ce.shift(),Ne=ee+(Ce.length===1?Ce.shift():0),Re.curveTo(D,V,K,ee,Ue,Ne),Ce.length!==0);)D=Ue+Ce.shift(),V=Ne,K=D+Ce.shift(),ee=V+Ce.shift(),Ne=ee+Ce.shift(),Ue=K+(Ce.length===1?Ce.shift():0),Re.curveTo(D,V,K,ee,Ue,Ne);break;case 31:for(;0<Ce.length&&(D=Ue+Ce.shift(),V=Ne,K=D+Ce.shift(),ee=V+Ce.shift(),Ne=ee+Ce.shift(),Ue=K+(Ce.length===1?Ce.shift():0),Re.curveTo(D,V,K,ee,Ue,Ne),Ce.length!==0);)D=Ue,V=Ne+Ce.shift(),K=D+Ce.shift(),ee=V+Ce.shift(),Ue=K+Ce.shift(),Ne=ee+(Ce.length===1?Ce.shift():0),Re.curveTo(D,V,K,ee,Ue,Ne);break;default:Nt<32?console.log("Glyph "+S.index+": unknown operator "+Nt):Nt<247?Ce.push(Nt-139):Nt<251?(Tt=vt[Ct],Ct+=1,Ce.push(256*(Nt-247)+Tt+108)):Nt<255?(Tt=vt[Ct],Ct+=1,Ce.push(256*-(Nt-251)-Tt-108)):(Tt=vt[Ct],Pt=vt[Ct+1],It=vt[Ct+2],zt=vt[Ct+3],Ct+=4,Ce.push((Tt<<24|Pt<<16|It<<8|zt)/65536))}}},"Ke")(O),S.advanceWidth=lt,Re}T(yt,"ht");function Rt(g,S){var O,D=ne.indexOf(g);return 0<=D&&(O=D),0<=(D=S.indexOf(g))?O=D+ne.length:(O=ne.length+S.length,S.push(g)),O}T(Rt,"Rt");function fr(g,S,O){for(var D={},V=0;V<g.length;V+=1){var K=g[V],ee=S[K.name];ee===void 0||T(function he(je,_e){if(je===_e)return 1;if(Array.isArray(je)&&Array.isArray(_e)&&je.length===_e.length){for(var Pe=0;Pe<je.length;Pe+=1)if(!he(je[Pe],_e[Pe]))return;return 1}},"Q")(ee,K.value)||(K.type==="SID"&&(ee=Rt(ee,O)),D[K.op]={name:K.name,type:K.type,value:ee})}return D}T(fr,"ar");function pr(g,S){var O=new re.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return O.dict=fr(gt,g,S),O}T(pr,"ir");function mr(g){var S=new re.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return S.topDicts=[{name:"topDict_0",type:"TABLE",value:g}],S}T(mr,"lr");function _r(g){for(var S=new re.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),O=0;O<g.length;O+=1){var D=g.get(O),V=function(K){for(var ee=[],he=K.path,je=(ee.push({name:"width",type:"NUMBER",value:K.advanceWidth}),0),_e=0,Pe=0;Pe<he.commands.length;Pe+=1){var Be,Re,Ce,We,Ve=void 0,He=void 0,Ue=he.commands[Pe];(Ue=Ue.type==="Q"?{type:"C",x:Ue.x,y:Ue.y,x1:1/3*je+2/3*Ue.x1,y1:1/3*_e+2/3*Ue.y1,x2:1/3*Ue.x+2/3*Ue.x1,y2:1/3*Ue.y+2/3*Ue.y1}:Ue).type==="M"?(Ve=Math.round(Ue.x-je),He=Math.round(Ue.y-_e),ee.push({name:"dx",type:"NUMBER",value:Ve}),ee.push({name:"dy",type:"NUMBER",value:He}),ee.push({name:"rmoveto",type:"OP",value:21}),je=Math.round(Ue.x),_e=Math.round(Ue.y)):Ue.type==="L"?(Ve=Math.round(Ue.x-je),He=Math.round(Ue.y-_e),ee.push({name:"dx",type:"NUMBER",value:Ve}),ee.push({name:"dy",type:"NUMBER",value:He}),ee.push({name:"rlineto",type:"OP",value:5}),je=Math.round(Ue.x),_e=Math.round(Ue.y)):Ue.type==="C"&&(Be=Math.round(Ue.x1-je),Re=Math.round(Ue.y1-_e),Ce=Math.round(Ue.x2-Ue.x1),We=Math.round(Ue.y2-Ue.y1),Ve=Math.round(Ue.x-Ue.x2),He=Math.round(Ue.y-Ue.y2),ee.push({name:"dx1",type:"NUMBER",value:Be}),ee.push({name:"dy1",type:"NUMBER",value:Re}),ee.push({name:"dx2",type:"NUMBER",value:Ce}),ee.push({name:"dy2",type:"NUMBER",value:We}),ee.push({name:"dx",type:"NUMBER",value:Ve}),ee.push({name:"dy",type:"NUMBER",value:He}),ee.push({name:"rrcurveto",type:"OP",value:8}),je=Math.round(Ue.x),_e=Math.round(Ue.y))}return ee.push({name:"endchar",type:"OP",value:14}),ee}(D);S.charStrings.push({name:D.name,type:"CHARSTRING",value:V})}return S}T(_r,"yr");var yr={parse:function(g,S,O){O.tables.cff={},he=g,D=S,(V={}).formatMajor=le.getCard8(he,D),V.formatMinor=le.getCard8(he,D+1),V.size=le.getCard8(he,D+2),V.offsetSize=le.getCard8(he,D+3),V.startOffset=D,V.endOffset=D+4;var he=tt(g,V.endOffset,le.bytesToString),D=tt(g,he.endOffset),V=tt(g,D.endOffset,le.bytesToString),he=tt(g,V.endOffset);if(O.gsubrs=he.objects,O.gsubrsBias=Xe(O.gsubrs),(he=dt(g,S,D.objects,V.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+he.length);if(D=he[0],(O.tables.cff.topDict=D)._privateDict&&(O.defaultWidthX=D._privateDict.defaultWidthX,O.nominalWidthX=D._privateDict.nominalWidthX),D.ros[0]!==void 0&&D.ros[1]!==void 0&&(O.isCIDFont=!0),O.isCIDFont){var he=D.fdArray,K=D.fdSelect;if(he===0||K===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");he=dt(g,S,tt(g,he+=S).objects,V.objects),D._fdArray=he,D._fdSelect=function(Re,Ce,We,Ve){var He,Ue=[],Ne=new le.Parser(Re,Ce);if((Re=Ne.parseCard8())===0)for(var lt=0;lt<We;lt++){if(Ve<=(He=Ne.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+He+" (FD count "+Ve+")");Ue.push(He)}else{if(Re!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Re);var pt,ut=Ne.parseCard16(),ct=Ne.parseCard16();if(ct!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ct);for(var vt=0;vt<ut;vt++){if(He=Ne.parseCard8(),pt=Ne.parseCard16(),Ve<=He)throw new Error("CFF table CID Font FDSelect has bad FD index value "+He+" (FD count "+Ve+")");if(We<pt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+pt);for(;ct<pt;ct++)Ue.push(He);ct=pt}if(pt!==We)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+pt)}return Ue}(g,K+=S,O.numGlyphs,he.length)}var K=S+D.private[1],he=ot(g,K,D.private[0],V.objects),ee=(O.defaultWidthX=he.defaultWidthX,O.nominalWidthX=he.nominalWidthX,he.subrs!==0?(K=tt(g,K+he.subrs),O.subrs=K.objects,O.subrsBias=Xe(O.subrs)):(O.subrs=[],O.subrsBias=0),tt(g,S+D.charStrings)),he=(O.nGlyphs=ee.objects.length,function(Pe,Be,Re,Ce){var We=new le.Parser(Pe,Be),Ve=(--Re,[".notdef"]);if((Pe=We.parseCard8())===0)for(var He=0;He<Re;He+=1)Ue=We.parseSID(),Ve.push(xt(Ce,Ue));else if(Pe===1)for(;Ve.length<=Re;)for(var Ue=We.parseSID(),Ne=We.parseCard8(),lt=0;lt<=Ne;lt+=1)Ve.push(xt(Ce,Ue)),Ue+=1;else{if(Pe!==2)throw new Error("Unknown charset format "+Pe);for(;Ve.length<=Re;){Ue=We.parseSID(),Ne=We.parseCard16();for(var pt=0;pt<=Ne;pt+=1)Ve.push(xt(Ce,Ue)),Ue+=1}}return Ve}(g,S+D.charset,O.nGlyphs,V.objects));D.encoding===0?O.cffEncoding=new Le(J,he):D.encoding===1?O.cffEncoding=new Le(de,he):O.cffEncoding=function(Pe,Be,Re){var Ce={},We=new le.Parser(Pe,Be);if((Pe=We.parseCard8())===0)for(var Ve=We.parseCard8(),He=0;He<Ve;He+=1)Ce[Ne=We.parseCard8()]=He;else{if(Pe!==1)throw new Error("Unknown encoding format "+Pe);for(var Ue=We.parseCard8(),Ne=1,lt=0;lt<Ue;lt+=1)for(var pt=We.parseCard8(),ut=We.parseCard8(),ct=pt;ct<=pt+ut;ct+=1)Ce[ct]=Ne,Ne+=1}return new Le(Ce,Re)}(g,S+D.encoding,he),O.encoding=O.encoding||O.cffEncoding,O.glyphs=new Qe.GlyphSet(O);for(var je=0;je<O.nGlyphs;je+=1){var _e=ee.objects[je];O.glyphs.push(je,Qe.cffGlyphLoader(O,je,yt,_e))}},make:function(g,Pe){for(var O,D=new re.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),V=1/Pe.unitsPerEm,V={version:Pe.version,fullName:Pe.fullName,familyName:Pe.familyName,weight:Pe.weightName,fontBBox:Pe.fontBBox||[0,0,0,0],fontMatrix:[V,0,0,V,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},K=[],ee=1;ee<g.length;ee+=1)O=g.get(ee),K.push(O.name);var he,je,_e=[],Pe=(D.header=new re.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),D.nameIndex=function(Re){var Ce=new re.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ce.names=[];for(var We=0;We<Re.length;We+=1)Ce.names.push({name:"name_"+We,type:"NAME",value:Re[We]});return Ce}([Pe.postScriptName]),pr(V,_e)),Be=(D.topDictIndex=mr(Pe),D.globalSubrIndex=new re.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),D.charsets=function(Re,Ce){for(var We=new re.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ve=0;Ve<Re.length;Ve+=1){var He=Rt(Re[Ve],Ce);We.fields.push({name:"glyph_"+Ve,type:"SID",value:He})}return We}(K,_e),D.charStringsIndex=_r(g),D.privateDict=(Be={},he=_e,(je=new re.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=fr(rt,Be,he),je),D.stringIndex=function(Re){var Ce=new re.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ce.strings=[];for(var We=0;We<Re.length;We+=1)Ce.strings.push({name:"string_"+We,type:"STRING",value:Re[We]});return Ce}(_e),D.header.sizeOf()+D.nameIndex.sizeOf()+D.topDictIndex.sizeOf()+D.stringIndex.sizeOf()+D.globalSubrIndex.sizeOf());return V.charset=Be,V.encoding=0,V.charStrings=V.charset+D.charsets.sizeOf(),V.private[1]=V.charStrings+D.charStringsIndex.sizeOf(),Pe=pr(V,_e),D.topDictIndex=mr(Pe),D}},gr={parse:function(D,S){var O={},D=new le.Parser(D,S);return O.version=D.parseVersion(),O.fontRevision=Math.round(1e3*D.parseFixed())/1e3,O.checkSumAdjustment=D.parseULong(),O.magicNumber=D.parseULong(),L.argument(O.magicNumber===1594834165,"Font header has wrong magic number."),O.flags=D.parseUShort(),O.unitsPerEm=D.parseUShort(),O.created=D.parseLongDateTime(),O.modified=D.parseLongDateTime(),O.xMin=D.parseShort(),O.yMin=D.parseShort(),O.xMax=D.parseShort(),O.yMax=D.parseShort(),O.macStyle=D.parseUShort(),O.lowestRecPPEM=D.parseUShort(),O.fontDirectionHint=D.parseShort(),O.indexToLocFormat=D.parseShort(),O.glyphDataFormat=D.parseShort(),O},make:function(g){var S=Math.round(new Date().getTime()/1e3)+2082844800,O=S;return g.createdTimestamp&&(O=g.createdTimestamp+2082844800),new re.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:O},{name:"modified",type:"LONGDATETIME",value:S},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],g)}},Ae={parse:function(D,S){var O={},D=new le.Parser(D,S);return O.version=D.parseVersion(),O.ascender=D.parseShort(),O.descender=D.parseShort(),O.lineGap=D.parseShort(),O.advanceWidthMax=D.parseUShort(),O.minLeftSideBearing=D.parseShort(),O.minRightSideBearing=D.parseShort(),O.xMaxExtent=D.parseShort(),O.caretSlopeRise=D.parseShort(),O.caretSlopeRun=D.parseShort(),O.caretOffset=D.parseShort(),D.relativeOffset+=8,O.metricDataFormat=D.parseShort(),O.numberOfHMetrics=D.parseUShort(),O},make:function(g){return new re.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],g)}},$e={parse:function(g,S,O,D,V){for(var K,ee,he=new le.Parser(g,S),je=0;je<D;je+=1){je<O&&(K=he.parseUShort(),ee=he.parseShort());var _e=V.get(je);_e.advanceWidth=K,_e.leftSideBearing=ee}},make:function(g){for(var S=new re.Table("hmtx",[]),O=0;O<g.length;O+=1){var V=g.get(O),D=V.advanceWidth||0,V=V.leftSideBearing||0;S.fields.push({name:"advanceWidth_"+O,type:"USHORT",value:D}),S.fields.push({name:"leftSideBearing_"+O,type:"SHORT",value:V})}return S}},it={make:function(g){for(var S=new re.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:g.length}]),O="",D=12+4*g.length,V=0;V<g.length;++V){var K=O.indexOf(g[V]);K<0&&(K=O.length,O+=g[V]),S.fields.push({name:"offset "+V,type:"USHORT",value:D+K}),S.fields.push({name:"length "+V,type:"USHORT",value:g[V].length})}return S.fields.push({name:"stringPool",type:"CHARARRAY",value:O}),S},parse:function(g,S){for(var O=new le.Parser(g,S),D=O.parseULong(),V=(L.argument(D===1,"Unsupported ltag table version."),O.skip("uLong",1),O.parseULong()),K=[],ee=0;ee<V;ee++){for(var he="",je=S+O.parseUShort(),_e=O.parseUShort(),Pe=je;Pe<je+_e;++Pe)he+=String.fromCharCode(g.getInt8(Pe));K.push(he)}return K}},Ye={parse:function(D,S){var O={},D=new le.Parser(D,S);return O.version=D.parseVersion(),O.numGlyphs=D.parseUShort(),O.version===1&&(O.maxPoints=D.parseUShort(),O.maxContours=D.parseUShort(),O.maxCompositePoints=D.parseUShort(),O.maxCompositeContours=D.parseUShort(),O.maxZones=D.parseUShort(),O.maxTwilightPoints=D.parseUShort(),O.maxStorage=D.parseUShort(),O.maxFunctionDefs=D.parseUShort(),O.maxInstructionDefs=D.parseUShort(),O.maxStackElements=D.parseUShort(),O.maxSizeOfInstructions=D.parseUShort(),O.maxComponentElements=D.parseUShort(),O.maxComponentDepth=D.parseUShort()),O},make:function(g){return new re.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:g}])}},wt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},jt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},nt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},_t="utf-16",st={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Lt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Bt(g,S,O){switch(g){case 0:return _t;case 1:return Lt[O]||st[S];case 3:if(S===1||S===10)return _t}}T(Bt,"kt");function Ot(g){var S,O={};for(S in g)O[g[S]]=parseInt(S);return O}T(Ot,"xt");function Ft(g,S,O,D,V,K){return new re.Record("NameRecord",[{name:"platformID",type:"USHORT",value:g},{name:"encodingID",type:"USHORT",value:S},{name:"languageID",type:"USHORT",value:O},{name:"nameID",type:"USHORT",value:D},{name:"length",type:"USHORT",value:V},{name:"offset",type:"USHORT",value:K}])}T(Ft,"Ot");function Qt(g,S){if((O=function(K,ee){var he=K.length,je=ee.length-he+1;e:for(var _e=0;_e<je;_e++)for(;_e<je;_e++){for(var Pe=0;Pe<he;Pe++)if(ee[_e+Pe]!==K[Pe])continue e;return _e}return-1}(g,S))<0)for(var O=S.length,D=0,V=g.length;D<V;++D)S.push(g[D]);return O}T(Qt,"Wt");var Xt={parse:function(g,S,O){for(var D={},V=new le.Parser(g,S),S=V.parseUShort(),K=V.parseUShort(),ee=V.offset+V.parseUShort(),he=0;he<K;he++){var We=V.parseUShort(),je=V.parseUShort(),_e=V.parseUShort(),Pe=V.parseUShort(),Pe=wt[Pe]||Pe,Be=V.parseUShort(),Re=V.parseUShort(),Ce=function(He,Ue,Ne){switch(He){case 0:if(Ue===65535)return"und";if(Ne)return Ne[Ue];break;case 1:return qe[Ue];case 3:return nt[Ue]}}(We,_e,O),We=Bt(We,je,_e);We!==void 0&&Ce!==void 0&&(je=void 0,(je=We===_t?G.UTF16(g,ee+Re,Be):G.MACSTRING(g,ee+Re,Be,We))&&((_e=(_e=D[Pe])===void 0?D[Pe]={}:_e)[Ce]=je))}return S===1&&V.parseUShort(),D},make:function(g,S){var O,D=[],V={},K=Ot(wt);for(O in g){var ee=K[O];if(ee===void 0&&(ee=O),Re=parseInt(ee),isNaN(Re))throw new Error('Name table entry "'+O+'" does not exist, see nameTableNames for complete list.');V[Re]=g[O],D.push(Re)}for(var he=Ot(qe),je=Ot(nt),_e=[],Pe=[],Be=0;Be<D.length;Be++){var Re,Ce,We=V[Re=D[Be]];for(Ce in We){var Ve=We[Ce],pt=1,He=he[Ce],Ue=jt[He],Ne=Bt(pt,Ue,He),Ne=N.MACSTRING(Ve,Ne),lt=(Ne===void 0&&(pt=0,(He=S.indexOf(Ce))<0&&(He=S.length,S.push(Ce)),Ue=4,Ne=N.UTF16(Ve)),Qt(Ne,Pe)),pt=(_e.push(Ft(pt,Ue,He,Re,Ne.length,lt)),je[Ce]);pt!==void 0&&(He=Qt(Ue=N.UTF16(Ve),Pe),_e.push(Ft(3,1,pt,Re,Ue.length,He)))}}_e.sort(function(vt,Tt){return vt.platformID-Tt.platformID||vt.encodingID-Tt.encodingID||vt.languageID-Tt.languageID||vt.nameID-Tt.nameID});for(var ut=new re.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:_e.length},{name:"stringOffset",type:"USHORT",value:6+12*_e.length}]),ct=0;ct<_e.length;ct++)ut.fields.push({name:"record_"+ct,type:"RECORD",value:_e[ct]});return ut.fields.push({name:"strings",type:"LITERAL",value:Pe}),ut}},$t=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ut={parse:function(g,S){var O={},D=new le.Parser(g,S);O.version=D.parseUShort(),O.xAvgCharWidth=D.parseShort(),O.usWeightClass=D.parseUShort(),O.usWidthClass=D.parseUShort(),O.fsType=D.parseUShort(),O.ySubscriptXSize=D.parseShort(),O.ySubscriptYSize=D.parseShort(),O.ySubscriptXOffset=D.parseShort(),O.ySubscriptYOffset=D.parseShort(),O.ySuperscriptXSize=D.parseShort(),O.ySuperscriptYSize=D.parseShort(),O.ySuperscriptXOffset=D.parseShort(),O.ySuperscriptYOffset=D.parseShort(),O.yStrikeoutSize=D.parseShort(),O.yStrikeoutPosition=D.parseShort(),O.sFamilyClass=D.parseShort(),O.panose=[];for(var V=0;V<10;V++)O.panose[V]=D.parseByte();return O.ulUnicodeRange1=D.parseULong(),O.ulUnicodeRange2=D.parseULong(),O.ulUnicodeRange3=D.parseULong(),O.ulUnicodeRange4=D.parseULong(),O.achVendID=String.fromCharCode(D.parseByte(),D.parseByte(),D.parseByte(),D.parseByte()),O.fsSelection=D.parseUShort(),O.usFirstCharIndex=D.parseUShort(),O.usLastCharIndex=D.parseUShort(),O.sTypoAscender=D.parseShort(),O.sTypoDescender=D.parseShort(),O.sTypoLineGap=D.parseShort(),O.usWinAscent=D.parseUShort(),O.usWinDescent=D.parseUShort(),1<=O.version&&(O.ulCodePageRange1=D.parseULong(),O.ulCodePageRange2=D.parseULong()),2<=O.version&&(O.sxHeight=D.parseShort(),O.sCapHeight=D.parseShort(),O.usDefaultChar=D.parseUShort(),O.usBreakChar=D.parseUShort(),O.usMaxContent=D.parseUShort()),O},make:function(g){return new re.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],g)},unicodeRanges:$t,getUnicodeRange:function(g){for(var S=0;S<$t.length;S+=1){var O=$t[S];if(g>=O.begin&&g<O.end)return S}return-1}},ro={parse:function(g,S){var O={},D=new le.Parser(g,S);switch(O.version=D.parseVersion(),O.italicAngle=D.parseFixed(),O.underlinePosition=D.parseShort(),O.underlineThickness=D.parseShort(),O.isFixedPitch=D.parseULong(),O.minMemType42=D.parseULong(),O.maxMemType42=D.parseULong(),O.minMemType1=D.parseULong(),O.maxMemType1=D.parseULong(),O.version){case 1:O.names=Te.slice();break;case 2:O.numberOfGlyphs=D.parseUShort(),O.glyphNameIndex=new Array(O.numberOfGlyphs);for(var V=0;V<O.numberOfGlyphs;V++)O.glyphNameIndex[V]=D.parseUShort();O.names=[];for(var K,ee=0;ee<O.numberOfGlyphs;ee++)O.glyphNameIndex[ee]>=Te.length&&(K=D.parseChar(),O.names.push(D.parseString(K)));break;case 2.5:O.numberOfGlyphs=D.parseUShort(),O.offset=new Array(O.numberOfGlyphs);for(var he=0;he<O.numberOfGlyphs;he++)O.offset[he]=D.parseChar()}return O},make:function(){return new re.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Yt=new Array(9),ar=(Yt[1]=function(){var g=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(te.coverage),deltaGlyphId:this.parseUShort()}:S===2?{substFormat:2,coverage:this.parsePointer(te.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+g.toString(16)+": lookup type 1 format must be 1 or 2.")},Yt[2]=function(){var g=this.parseUShort();return L.argument(g===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(te.coverage),sequences:this.parseListOfLists()}},Yt[3]=function(){var g=this.parseUShort();return L.argument(g===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(te.coverage),alternateSets:this.parseListOfLists()}},Yt[4]=function(){var g=this.parseUShort();return L.argument(g===1,"GSUB ligature table identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(te.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:te.uShort,lookupListIndex:te.uShort});Yt[5]=function(){var g,S,O=this.offset+this.relativeOffset,D=this.parseUShort();return D===1?{substFormat:D,coverage:this.parsePointer(te.coverage),ruleSets:this.parseListOfLists(function(){var V=this.parseUShort(),K=this.parseUShort();return{input:this.parseUShortList(V-1),lookupRecords:this.parseRecordList(K,ar)}})}:D===2?{substFormat:D,coverage:this.parsePointer(te.coverage),classDef:this.parsePointer(te.classDef),classSets:this.parseListOfLists(function(){var V=this.parseUShort(),K=this.parseUShort();return{classes:this.parseUShortList(V-1),lookupRecords:this.parseRecordList(K,ar)}})}:D===3?(g=this.parseUShort(),S=this.parseUShort(),{substFormat:D,coverages:this.parseList(g,te.pointer(te.coverage)),lookupRecords:this.parseRecordList(S,ar)}):void L.assert(!1,"0x"+O.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Yt[6]=function(){var g=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(te.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ar)}})}:S===2?{substFormat:2,coverage:this.parsePointer(te.coverage),backtrackClassDef:this.parsePointer(te.classDef),inputClassDef:this.parsePointer(te.classDef),lookaheadClassDef:this.parsePointer(te.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ar)}})}:S===3?{substFormat:3,backtrackCoverage:this.parseList(te.pointer(te.coverage)),inputCoverage:this.parseList(te.pointer(te.coverage)),lookaheadCoverage:this.parseList(te.pointer(te.coverage)),lookupRecords:this.parseRecordList(ar)}:void L.assert(!1,"0x"+g.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Yt[7]=function(){var g=this.parseUShort(),g=(L.argument(g===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),S=new te(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:g,extension:Yt[g].call(S)}},Yt[8]=function(){var g=this.parseUShort();return L.argument(g===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(te.coverage),backtrackCoverage:this.parseList(te.pointer(te.coverage)),lookaheadCoverage:this.parseList(te.pointer(te.coverage)),substitutes:this.parseUShortList()}};var jr=new Array(9);jr[1]=function(g){return g.substFormat===1?new re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new re.Coverage(g.coverage)},{name:"deltaGlyphID",type:"USHORT",value:g.deltaGlyphId}]):new re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new re.Coverage(g.coverage)}].concat(re.ushortList("substitute",g.substitute)))},jr[3]=function(g){return L.assert(g.substFormat===1,"Lookup type 3 substFormat must be 1."),new re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new re.Coverage(g.coverage)}].concat(re.tableList("altSet",g.alternateSets,function(S){return new re.Table("alternateSetTable",re.ushortList("alternate",S))})))},jr[4]=function(g){return L.assert(g.substFormat===1,"Lookup type 4 substFormat must be 1."),new re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new re.Coverage(g.coverage)}].concat(re.tableList("ligSet",g.ligatureSets,function(S){return new re.Table("ligatureSetTable",re.tableList("ligature",S,function(O){return new re.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:O.ligGlyph}].concat(re.ushortList("component",O.components,O.components.length+1)))}))})))};var oo={parse:function(g,S){return S=(g=new te(g,S=S||0)).parseVersion(1),L.argument(S===1||S===1.1,"Unsupported GSUB table version."),S===1?{version:S,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList(Yt)}:{version:S,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList(Yt),variations:g.parseFeatureVariationsList()}},make:function(g){return new re.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new re.ScriptList(g.scripts)},{name:"features",type:"TABLE",value:new re.FeatureList(g.features)},{name:"lookups",type:"TABLE",value:new re.LookupList(g.lookups,jr)}])}},no={parse:function(g,S){for(var O=new le.Parser(g,S),D=O.parseULong(),V=(L.argument(D===1,"Unsupported META table version."),O.parseULong(),O.parseULong(),O.parseULong()),K={},ee=0;ee<V;ee++){var he=O.parseTag(),_e=O.parseULong(),je=O.parseULong(),_e=G.UTF8(g,S+_e,je);K[he]=_e}return K},make:function(g){var S,O=Object.keys(g).length,D="",V=16+12*O,K=new re.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:V},{name:"numTags",type:"ULONG",value:O}]);for(S in g){var ee=D.length;D+=g[S],K.fields.push({name:"tag "+S,type:"TAG",value:S}),K.fields.push({name:"offset "+S,type:"ULONG",value:V+ee}),K.fields.push({name:"length "+S,type:"ULONG",value:g[S].length})}return K.fields.push({name:"stringPool",type:"CHARARRAY",value:D}),K}};function so(g){return Math.log(g)/Math.log(2)|0}T(so,"Dr");function Lr(g){for(;g.length%4!=0;)g.push(0);for(var S=0,O=0;O<g.length;O+=4)S+=(g[O]<<24)+(g[O+1]<<16)+(g[O+2]<<8)+g[O+3];return S%=Math.pow(2,32)}T(Lr,"xr");function io(g,S,O,D){return new re.Record("Table Record",[{name:"tag",type:"TAG",value:g!==void 0?g:""},{name:"checkSum",type:"ULONG",value:S!==void 0?S:0},{name:"offset",type:"ULONG",value:O!==void 0?O:0},{name:"length",type:"ULONG",value:D!==void 0?D:0}])}T(io,"Fr");function ao(g){for(var S=new re.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),O=(S.tables=g,S.numTables=g.length,Math.pow(2,so(S.numTables))),D=(S.searchRange=16*O,S.entrySelector=so(O),S.rangeShift=16*S.numTables-S.searchRange,[]),V=[],K=S.sizeOf()+io().sizeOf()*S.numTables;K%4!=0;)K+=1,V.push({name:"padding",type:"BYTE",value:0});for(var ee=0;ee<g.length;ee+=1){var he=g[ee],je=(L.argument(he.tableName.length===4,"Table name"+he.tableName+" is invalid."),he.sizeOf()),_e=io(he.tableName,Lr(he.encode()),K,je);for(D.push({name:_e.tag+" Table Record",type:"RECORD",value:_e}),V.push({name:he.tableName+" table",type:"RECORD",value:he}),K+=je,L.argument(!isNaN(K),"Something went wrong calculating the offset.");K%4!=0;)K+=1,V.push({name:"padding",type:"BYTE",value:0})}return D.sort(function(Pe,Be){return Pe.value.tag>Be.value.tag?1:-1}),S.fields=S.fields.concat(D),S.fields=S.fields.concat(V),S}T(ao,"Ur");function lo(g,S,O){for(var D=0;D<S.length;D+=1){var V=g.charToGlyphIndex(S[D]);if(0<V)return g.glyphs.get(V).getMetrics()}return O}T(lo,"Nr");var On={make:ao,fontToTable:function(g){for(var S,O=[],D=[],V=[],K=[],ee=[],he=[],je=[],_e=0,Pe=0,Be=0,Re=0,Ce=0,We=0;We<g.glyphs.length;We+=1){var Ve=g.glyphs.get(We),He=0|Ve.unicode;if(isNaN(Ve.advanceWidth))throw new Error("Glyph "+Ve.name+" ("+We+"): advanceWidth is not a number.");(He<S||S===void 0)&&0<He&&(S=He),_e<He&&(_e=He);var He=Ut.getUnicodeRange(He);if(He<32)Pe|=1<<He;else if(He<64)Be|=1<<He-32;else if(He<96)Re|=1<<He-64;else{if(!(He<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ce|=1<<He-96}Ve.name!==".notdef"&&(He=Ve.getMetrics(),O.push(He.xMin),D.push(He.yMin),V.push(He.xMax),K.push(He.yMax),he.push(He.leftSideBearing),je.push(He.rightSideBearing),ee.push(Ve.advanceWidth))}var Ue,Ne={xMin:Math.min.apply(null,O),yMin:Math.min.apply(null,D),xMax:Math.max.apply(null,V),yMax:Math.max.apply(null,K),advanceWidthMax:Math.max.apply(null,ee),advanceWidthAvg:function(Nt){for(var xr=0,cr=0;cr<Nt.length;cr+=1)xr+=Nt[cr];return xr/Nt.length}(ee),minLeftSideBearing:Math.min.apply(null,he),maxLeftSideBearing:Math.max.apply(null,he),minRightSideBearing:Math.min.apply(null,je)},lt=(Ne.ascender=g.ascender,Ne.descender=g.descender,gr.make({flags:3,unitsPerEm:g.unitsPerEm,xMin:Ne.xMin,yMin:Ne.yMin,xMax:Ne.xMax,yMax:Ne.yMax,lowestRecPPEM:3,createdTimestamp:g.createdTimestamp})),pt=Ae.make({ascender:Ne.ascender,descender:Ne.descender,advanceWidthMax:Ne.advanceWidthMax,minLeftSideBearing:Ne.minLeftSideBearing,minRightSideBearing:Ne.minRightSideBearing,xMaxExtent:Ne.maxLeftSideBearing+(Ne.xMax-Ne.xMin),numberOfHMetrics:g.glyphs.length}),ut=Ye.make(g.glyphs.length),ct=Ut.make({xAvgCharWidth:Math.round(Ne.advanceWidthAvg),usWeightClass:g.tables.os2.usWeightClass,usWidthClass:g.tables.os2.usWidthClass,usFirstCharIndex:S,usLastCharIndex:_e,ulUnicodeRange1:Pe,ulUnicodeRange2:Be,ulUnicodeRange3:Re,ulUnicodeRange4:Ce,fsSelection:g.tables.os2.fsSelection,sTypoAscender:Ne.ascender,sTypoDescender:Ne.descender,sTypoLineGap:0,usWinAscent:Ne.yMax,usWinDescent:Math.abs(Ne.yMin),ulCodePageRange1:1,sxHeight:lo(g,"xyvw",{yMax:Math.round(Ne.ascender/2)}).yMax,sCapHeight:lo(g,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ne).yMax,usDefaultChar:g.hasChar(" ")?32:0,usBreakChar:g.hasChar(" ")?32:0}),vt=$e.make(g.glyphs),Tt=$.make(g.glyphs),Mt=g.getEnglishName("fontFamily"),St=g.getEnglishName("fontSubfamily"),kt=Mt+" "+St,Pt=(Pt=g.getEnglishName("postScriptName"))||Mt.replace(/\s/g,"")+"-"+St,It={};for(Ue in g.names)It[Ue]=g.names[Ue];It.uniqueID||(It.uniqueID={en:g.getEnglishName("manufacturer")+":"+kt}),It.postScriptName||(It.postScriptName={en:Pt}),It.preferredFamily||(It.preferredFamily=g.names.fontFamily),It.preferredSubfamily||(It.preferredSubfamily=g.names.fontSubfamily);var Vt=[],zt=Xt.make(It,Vt),Vt=0<Vt.length?it.make(Vt):void 0,Kt=ro.make(),kt=yr.make(g.glyphs,{version:g.getEnglishName("version"),fullName:kt,familyName:Mt,weightName:St,postScriptName:Pt,unitsPerEm:g.unitsPerEm,fontBBox:[0,Ne.yMin,Ne.ascender,Ne.advanceWidthMax]}),Mt=g.metas&&0<Object.keys(g.metas).length?no.make(g.metas):void 0,St=[lt,pt,ut,ct,zt,Tt,Kt,kt,vt];Vt&&St.push(Vt),g.tables.gsub&&St.push(oo.make(g.tables.gsub)),Mt&&St.push(Mt);for(var Ht=Lr((Pt=ao(St)).encode()),At=Pt.fields,Gt=!1,Ct=0;Ct<At.length;Ct+=1)if(At[Ct].name==="head table"){At[Ct].value.checkSumAdjustment=2981146554-Ht,Gt=!0;break}if(Gt)return Pt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Lr};function Dr(g,S){for(var O=0,D=g.length-1;O<=D;){var V=O+D>>>1,K=g[V].tag;if(K===S)return V;K<S?O=1+V:D=V-1}return-O-1}T(Dr,"wr");function uo(g,S){for(var O=0,D=g.length-1;O<=D;){var V=O+D>>>1,K=g[V];if(K===S)return V;K<S?O=1+V:D=V-1}return-O-1}T(uo,"Br");function co(g,S){for(var O=0,D=g.length-1;O<=D;){var V,K=O+D>>>1,ee=(V=g[K]).start;if(ee===S)return V;ee<S?O=1+K:D=K-1}if(0<O)return S>(V=g[O-1]).end?0:V}T(co,"Gr");function Sr(g,S){this.font=g,this.tableName=S}T(Sr,"vr");function Er(g){Sr.call(this,g,"gpos")}T(Er,"br");function Jt(g){Sr.call(this,g,"gsub")}T(Jt,"Xt");function ho(g,S,O){for(var D=g.subtables,V=0;V<D.length;V++){var K=D[V];if(K.substFormat===S)return K}if(O)return D.push(O),O}T(ho,"Vr");function fo(g){for(var S=new ArrayBuffer(g.length),O=new Uint8Array(S),D=0;D<g.length;++D)O[D]=g[D];return S}T(fo,"zr");function lr(g,S){if(!g)throw S}T(lr,"rr");function po(g,S,O,D,V){var K=0<(S&D)?(K=g.parseByte(),O+(K=S&V?K:-K)):0<(S&V)?O:O+g.parseShort();return K}T(po,"Hr");function Pn(g,S,O){var D,V=new le.Parser(S,O);if(g.numberOfContours=V.parseShort(),g._xMin=V.parseShort(),g._yMin=V.parseShort(),g._xMax=V.parseShort(),g._yMax=V.parseShort(),0<g.numberOfContours){for(var K=g.endPointIndices=[],ee=0;ee<g.numberOfContours;ee+=1)K.push(V.parseUShort());g.instructionLength=V.parseUShort(),g.instructions=[];for(var he=0;he<g.instructionLength;he+=1)g.instructions.push(V.parseByte());for(var je=K[K.length-1]+1,_e=[],Pe=0;Pe<je;Pe+=1)if(D=V.parseByte(),_e.push(D),0<(8&D))for(var Be=V.parseByte(),Re=0;Re<Be;Re+=1)_e.push(D),Pe+=1;if(L.argument(_e.length===je,"Bad flags."),0<K.length){var Ce,We=[];if(0<je){for(var Ve=0;Ve<je;Ve+=1)D=_e[Ve],(Ce={}).onCurve=!!(1&D),Ce.lastPointOfContour=0<=K.indexOf(Ve),We.push(Ce);for(var He=0,Ue=0;Ue<je;Ue+=1)D=_e[Ue],(Ce=We[Ue]).x=po(V,D,He,2,16),He=Ce.x;for(var Ne=0,lt=0;lt<je;lt+=1)D=_e[lt],(Ce=We[lt]).y=po(V,D,Ne,4,32),Ne=Ce.y}g.points=We}else g.points=[]}else if(g.numberOfContours===0)g.points=[];else{g.isComposite=!0,g.points=[],g.components=[];for(var pt=!0;pt;){_e=V.parseUShort();var ut={glyphIndex:V.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&_e)?0<(2&_e)?(ut.dx=V.parseShort(),ut.dy=V.parseShort()):ut.matchedPoints=[V.parseUShort(),V.parseUShort()]:0<(2&_e)?(ut.dx=V.parseChar(),ut.dy=V.parseChar()):ut.matchedPoints=[V.parseByte(),V.parseByte()],0<(8&_e)?ut.xScale=ut.yScale=V.parseF2Dot14():0<(64&_e)?(ut.xScale=V.parseF2Dot14(),ut.yScale=V.parseF2Dot14()):0<(128&_e)&&(ut.xScale=V.parseF2Dot14(),ut.scale01=V.parseF2Dot14(),ut.scale10=V.parseF2Dot14(),ut.yScale=V.parseF2Dot14()),g.components.push(ut),pt=!!(32&_e)}if(256&_e){g.instructionLength=V.parseUShort(),g.instructions=[];for(var ct=0;ct<g.instructionLength;ct+=1)g.instructions.push(V.parseByte())}}}T(Pn,"_o");function Ir(g,S){for(var O=[],D=0;D<g.length;D+=1){var V=g[D],V={x:S.xScale*V.x+S.scale01*V.y+S.dx,y:S.scale10*V.x+S.yScale*V.y+S.dy,onCurve:V.onCurve,lastPointOfContour:V.lastPointOfContour};O.push(V)}return O}T(Ir,"Sr");function mo(g){var S=new Q;if(g)for(var O=function(Be){for(var Re=[],Ce=[],We=0;We<Be.length;We+=1){var Ve=Be[We];Ce.push(Ve),Ve.lastPointOfContour&&(Re.push(Ce),Ce=[])}return L.argument(Ce.length===0,"There are still points left in the current contour."),Re}(g),D=0;D<O.length;++D){var V,K=O[D],ee=K[K.length-1],he=K[0];ee.onCurve?S.moveTo(ee.x,ee.y):he.onCurve?S.moveTo(he.x,he.y):(V={x:.5*(ee.x+he.x),y:.5*(ee.y+he.y)},S.moveTo(V.x,V.y));for(var je=0;je<K.length;++je){var _e,Pe=ee,ee=he,he=K[(je+1)%K.length];ee.onCurve?S.lineTo(ee.x,ee.y):(_e=he,Pe.onCurve||(ee.x,Pe.x,ee.y,Pe.y),he.onCurve||(_e={x:.5*(ee.x+he.x),y:.5*(ee.y+he.y)}),S.quadraticCurveTo(ee.x,ee.y,_e.x,_e.y))}S.closePath()}return S}T(mo,"Wr");function Ln(g,S){if(S.isComposite)for(var O=0;O<S.components.length;O+=1){var D=S.components[O],V=g.get(D.glyphIndex);if(V.getPath(),V.points){var K=void 0;if(D.matchedPoints===void 0)K=Ir(V.points,D);else{if(D.matchedPoints[0]>S.points.length-1||D.matchedPoints[1]>V.points.length-1)throw Error("Matched points out of range in "+S.name);var ee=S.points[D.matchedPoints[0]],he=V.points[D.matchedPoints[1]],D={xScale:D.xScale,scale01:D.scale01,scale10:D.scale10,yScale:D.yScale,dx:0,dy:0},he=Ir([he],D)[0];D.dx=ee.x-he.x,D.dy=ee.y-he.y,K=Ir(V.points,D)}S.points=S.points.concat(K)}}return mo(S.points)}T(Ln,"xo"),(Er.prototype=Sr.prototype={searchTag:Dr,binSearch:uo,getTable:function(g){var S=this.font.tables[this.tableName];return S=!S&&g?this.font.tables[this.tableName]=this.createDefaultTable():S},getScriptNames:function(){var g=this.getTable();return g?g.scripts.map(function(S){return S.tag}):[]},getDefaultScriptName:function(){var g=this.getTable();if(g){for(var S=!1,O=0;O<g.scripts.length;O++){var D=g.scripts[O].tag;if(D==="DFLT")return D;D==="latn"&&(S=!0)}return S?"latn":void 0}},getScriptTable:function(g,S){var O,D=this.getTable(S);if(D)return O=D.scripts,0<=(D=Dr(D.scripts,g=g||"DFLT"))?O[D].script:S?(O.splice(-1-D,0,S={tag:g,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),S.script):void 0},getLangSysTable:function(V,S,O){var D,V=this.getScriptTable(V,O);if(V)return S&&S!=="dflt"&&S!=="DFLT"?0<=(D=Dr(V.langSysRecords,S))?V.langSysRecords[D].langSys:O?(V.langSysRecords.splice(-1-D,0,O={tag:S,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),O.langSys):void 0:V.defaultLangSys},getFeatureTable:function(g,S,O,D){if(g=this.getLangSysTable(g,S,D),g){for(var V,K=g.featureIndexes,ee=this.font.tables[this.tableName].features,he=0;he<K.length;he++)if((V=ee[K[he]]).tag===O)return V.feature;if(D)return S=ee.length,L.assert(S===0||O>=ee[S-1].tag,"Features must be added in alphabetical order."),ee.push(V={tag:O,feature:{params:0,lookupListIndexes:[]}}),K.push(S),V.feature}},getLookupTables:function(K,S,O,D,V){var K=this.getFeatureTable(K,S,O,V),ee=[];if(K){for(var he,je=K.lookupListIndexes,_e=this.font.tables[this.tableName].lookups,Pe=0;Pe<je.length;Pe++)(he=_e[je[Pe]]).lookupType===D&&ee.push(he);if(ee.length===0&&V)return S=_e.length,_e.push(he={lookupType:D,lookupFlag:0,subtables:[],markFilteringSet:void 0}),je.push(S),[he]}return ee},getGlyphClass:function(g,S){switch(g.format){case 1:return g.startGlyph<=S&&S<g.startGlyph+g.classes.length?g.classes[S-g.startGlyph]:0;case 2:var O=co(g.ranges,S);return O?O.classId:0}},getCoverageIndex:function(g,S){switch(g.format){case 1:var O=uo(g.glyphs,S);return 0<=O?O:-1;case 2:return O=co(g.ranges,S),O?O.index+S-O.start:-1}},expandCoverage:function(g){if(g.format===1)return g.glyphs;for(var S=[],O=g.ranges,D=0;D<O.length;D++)for(var V=O[D],K=V.start,ee=V.end,he=K;he<=ee;he++)S.push(he);return S}}).init=function(){var g=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(g)},Er.prototype.getKerningValue=function(g,S,O){for(var D=0;D<g.length;D++)for(var V=g[D].subtables,K=0;K<V.length;K++){var ee=V[K],he=this.getCoverageIndex(ee.coverage,S);if(!(he<0))switch(ee.posFormat){case 1:for(var je=ee.pairSets[he],_e=0;_e<je.length;_e++){var Pe=je[_e];if(Pe.secondGlyph===O)return Pe.value1&&Pe.value1.xAdvance||0}break;case 2:var Re=this.getGlyphClass(ee.classDef1,S),Be=this.getGlyphClass(ee.classDef2,O),Re=ee.classRecords[Re][Be];return Re.value1&&Re.value1.xAdvance||0}}return 0},Er.prototype.getKerningTables=function(g,S){if(this.font.tables.gpos)return this.getLookupTables(g,S,"kern",2)},(Jt.prototype=Sr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Jt.prototype.getSingle=function(g,S,O){for(var D=[],V=this.getLookupTables(S,O,g,1),K=0;K<V.length;K++)for(var ee=V[K].subtables,he=0;he<ee.length;he++){var je=ee[he],_e=this.expandCoverage(je.coverage),Pe=void 0;if(je.substFormat===1)for(var Be=je.deltaGlyphId,Pe=0;Pe<_e.length;Pe++){var Re=_e[Pe];D.push({sub:Re,by:Re+Be})}else{var Ce=je.substitute;for(Pe=0;Pe<_e.length;Pe++)D.push({sub:_e[Pe],by:Ce[Pe]})}}return D},Jt.prototype.getAlternates=function(g,S,O){for(var D=[],V=this.getLookupTables(S,O,g,3),K=0;K<V.length;K++)for(var ee=V[K].subtables,he=0;he<ee.length;he++)for(var je=ee[he],_e=this.expandCoverage(je.coverage),Pe=je.alternateSets,Be=0;Be<_e.length;Be++)D.push({sub:_e[Be],by:Pe[Be]});return D},Jt.prototype.getLigatures=function(g,S,O){for(var D=[],V=this.getLookupTables(S,O,g,4),K=0;K<V.length;K++)for(var ee=V[K].subtables,he=0;he<ee.length;he++)for(var je=ee[he],_e=this.expandCoverage(je.coverage),Pe=je.ligatureSets,Be=0;Be<_e.length;Be++)for(var Re=_e[Be],Ce=Pe[Be],We=0;We<Ce.length;We++){var Ve=Ce[We];D.push({sub:[Re].concat(Ve.components),by:Ve.ligGlyph})}return D},Jt.prototype.addSingle=function(g,S,O,D){O=ho(this.getLookupTables(O,D,g,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),D=S.sub,g=this.binSearch(O.coverage.glyphs,D),g<0&&(O.coverage.glyphs.splice(g=-1-g,0,D),O.substitute.splice(g,0,0)),O.substitute[g]=S.by},Jt.prototype.addAlternate=function(g,S,O,D){O=ho(this.getLookupTables(O,D,g,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),D=S.sub,g=this.binSearch(O.coverage.glyphs,D),g<0&&(O.coverage.glyphs.splice(g=-1-g,0,D),O.alternateSets.splice(g,0,0)),O.alternateSets[g]=S.by},Jt.prototype.addLigature=function(K,je,he,V){var he=this.getLookupTables(he,V,K,4,!0)[0],V=he.subtables[0],K=(V||(he.subtables[0]=V={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(V.coverage.format===1,"Ligature: unable to modify coverage table format "+V.coverage.format),je.sub[0]),ee=je.sub.slice(1),he={ligGlyph:je.by,components:ee},je=this.binSearch(V.coverage.glyphs,K);if(0<=je){for(var _e=V.ligatureSets[je],Pe=0;Pe<_e.length;Pe++)if(function(Be,Re){var Ce=Be.length;if(Ce===Re.length){for(var We=0;We<Ce;We++)if(Be[We]!==Re[We])return;return 1}}(_e[Pe].components,ee))return;_e.push(he)}else V.coverage.glyphs.splice(je=-1-je,0,K),V.ligatureSets.splice(je,0,[he])},Jt.prototype.getFeature=function(g,S,O){if(/ss\d\d/.test(g))return this.getSingle(g,S,O);switch(g){case"aalt":case"salt":return this.getSingle(g,S,O).concat(this.getAlternates(g,S,O));case"dlig":case"liga":case"rlig":return this.getLigatures(g,S,O)}},Jt.prototype.add=function(g,S,O,D){if(/ss\d\d/.test(g))return this.addSingle(g,S,O,D);switch(g){case"aalt":case"salt":return typeof S.by=="number"?this.addSingle(g,S,O,D):this.addAlternate(g,S,O,D);case"dlig":case"liga":case"rlig":return this.addLigature(g,S,O,D)}};var yo={getPath:mo,parse:function(g,S,O,D){for(var V=new Qe.GlyphSet(D),K=0;K<O.length-1;K+=1){var ee=O[K];ee!==O[K+1]?V.push(K,Qe.ttfGlyphLoader(D,K,Pn,g,S+ee,Ln)):V.push(K,Qe.glyphLoader(D,K))}return V}};function go(g){this.font=g,this.getCommands=function(S){return yo.getPath(S).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}T(go,"Xr");function Dn(g){return g}T(Dn,"wo");function vo(g){return Math.sign(g)*Math.round(Math.abs(g))}T(vo,"Yr");function In(g){return Math.sign(g)*Math.round(Math.abs(2*g))/2}T(In,"So");function Rn(g){return Math.sign(g)*(Math.round(Math.abs(g)+.5)-.5)}T(Rn,"To");function Bn(g){return Math.sign(g)*Math.ceil(Math.abs(g))}T(Bn,"Mo");function Fn(g){return Math.sign(g)*Math.floor(Math.abs(g))}T(Fn,"Eo");function bo(g){var S=this.srPeriod,O=this.srPhase,D=1;return g<0&&(g=-g,D=-1),g+=this.srThreshold-O,g=Math.trunc(g/S)*S,(g+=O)<0?O*D:g*D}T(bo,"Zr");var er={x:1,y:0,axis:"x",distance:function(g,S,O,D){return(O?g.xo:g.x)-(D?S.xo:S.x)},interpolate:function(g,S,O,D){var V,K,ee,he,je,_e,Pe;if(!D||D===this)return V=g.xo-S.xo,K=g.xo-O.xo,je=S.x-S.xo,_e=O.x-O.xo,(Pe=(ee=Math.abs(V))+(he=Math.abs(K)))===0?void(g.x=g.xo+(je+_e)/2):void(g.x=g.xo+(je*he+_e*ee)/Pe);V=D.distance(g,S,!0,!0),K=D.distance(g,O,!0,!0),je=D.distance(S,S,!1,!0),_e=D.distance(O,O,!1,!0),(Pe=(ee=Math.abs(V))+(he=Math.abs(K)))===0?er.setRelative(g,g,(je+_e)/2,D,!0):er.setRelative(g,g,(je*he+_e*ee)/Pe,D,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(g,S,O,D,V){var K,ee;D&&D!==this?(K=V?S.xo:S.x,ee=V?S.yo:S.y,K+=O*D.x,ee+=O*D.y,g.x=K+(g.y-ee)/D.normalSlope):g.x=(V?S.xo:S.x)+O},slope:0,touch:function(g){g.xTouched=!0},touched:function(g){return g.xTouched},untouch:function(g){g.xTouched=!1}},tr={x:0,y:1,axis:"y",distance:function(g,S,O,D){return(O?g.yo:g.y)-(D?S.yo:S.y)},interpolate:function(g,S,O,D){var V,K,ee,he,je,_e,Pe;if(!D||D===this)return V=g.yo-S.yo,K=g.yo-O.yo,je=S.y-S.yo,_e=O.y-O.yo,(Pe=(ee=Math.abs(V))+(he=Math.abs(K)))===0?void(g.y=g.yo+(je+_e)/2):void(g.y=g.yo+(je*he+_e*ee)/Pe);V=D.distance(g,S,!0,!0),K=D.distance(g,O,!0,!0),je=D.distance(S,S,!1,!0),_e=D.distance(O,O,!1,!0),(Pe=(ee=Math.abs(V))+(he=Math.abs(K)))===0?tr.setRelative(g,g,(je+_e)/2,D,!0):tr.setRelative(g,g,(je*he+_e*ee)/Pe,D,!0)},normalSlope:0,setRelative:function(g,S,O,D,V){var K,ee;D&&D!==this?(K=V?S.xo:S.x,ee=V?S.yo:S.y,K+=O*D.x,ee+=O*D.y,g.y=ee+D.normalSlope*(g.x-K)):g.y=(V?S.yo:S.y)+O},slope:Number.POSITIVE_INFINITY,touch:function(g){g.yTouched=!0},touched:function(g){return g.yTouched},untouch:function(g){g.yTouched=!1}};function vr(g,S){this.x=g,this.y=S,this.axis=void 0,this.slope=S/g,this.normalSlope=-g/S,Object.freeze(this)}T(vr,"dr");function br(g,S){var O=Math.sqrt(g*g+S*S);return S/=O,(g/=O)===1&&S===0?er:g===0&&S===1?tr:new vr(g,S)}T(br,"hr");function rr(g,S,O,D){this.x=this.xo=Math.round(64*g)/64,this.y=this.yo=Math.round(64*S)/64,this.lastPointOfContour=O,this.onCurve=D,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}T(rr,"Qt"),Object.freeze(er),Object.freeze(tr),vr.prototype.distance=function(g,S,O,D){return this.x*er.distance(g,S,O,D)+this.y*tr.distance(g,S,O,D)},vr.prototype.interpolate=function(g,V,K,D){var ee=D.distance(g,V,!0,!0),he=D.distance(g,K,!0,!0),V=D.distance(V,V,!1,!0),K=D.distance(K,K,!1,!0),ee=Math.abs(ee),he=Math.abs(he),je=ee+he;je===0?this.setRelative(g,g,(V+K)/2,D,!0):this.setRelative(g,g,(V*he+K*ee)/je,D,!0)},vr.prototype.setRelative=function(g,K,je,_e,he){var ee=he?K.xo:K.x,he=he?K.yo:K.y,K=ee+je*(_e=_e||this).x,ee=he+je*_e.y,he=_e.normalSlope,je=this.slope,_e=g.x,Pe=g.y;g.x=(je*_e-he*K+ee-Pe)/(je-he),g.y=je*(g.x-_e)+Pe},vr.prototype.touch=function(g){g.xTouched=!0,g.yTouched=!0},rr.prototype.nextTouched=function(g){for(var S=this.nextPointOnContour;!g.touched(S)&&S!==this;)S=S.nextPointOnContour;return S},rr.prototype.prevTouched=function(g){for(var S=this.prevPointOnContour;!g.touched(S)&&S!==this;)S=S.prevPointOnContour;return S};var wr=Object.freeze(new rr(0,0)),Un={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function nr(g,S){switch(this.env=g,this.stack=[],this.prog=S,g){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=er,this.round=vo}}T(nr,"Jt");function kr(g){for(var S=g.tZone=new Array(g.gZone.length),O=0;O<S.length;O++)S[O]=new rr(0,0)}T(kr,"jr");function wo(g,S){var O,D=g.prog,V=g.ip,K=1;do if((O=D[++V])===88)K++;else if(O===89)K--;else if(O===64)V+=D[V+1]+1;else if(O===65)V+=2*D[V+1]+1;else if(176<=O&&O<=183)V+=O-176+1;else if(184<=O&&O<=191)V+=2*(O-184+1);else if(S&&K===1&&O===27)break;while(0<K);g.ip=V}T(wo,"Qr");function xo(g,S){h.DEBUG&&console.log(S.step,"SVTCA["+g.axis+"]"),S.fv=S.pv=S.dpv=g}T(xo,"Jr");function _o(g,S){h.DEBUG&&console.log(S.step,"SPVTCA["+g.axis+"]"),S.pv=S.dpv=g}T(_o,"Kr");function jo(g,S){h.DEBUG&&console.log(S.step,"SFVTCA["+g.axis+"]"),S.fv=g}T(jo,"$r");function So(g,S){var O,V=S.stack,D=V.pop(),V=V.pop(),K=S.z2[D],ee=S.z1[V];h.DEBUG&&console.log("SPVTL["+g+"]",D,V),D=g?(O=K.y-ee.y,ee.x-K.x):(O=ee.x-K.x,ee.y-K.y),S.pv=S.dpv=br(O,D)}T(So,"eo");function Eo(g,S){var O,V=S.stack,D=V.pop(),V=V.pop(),K=S.z2[D],ee=S.z1[V];h.DEBUG&&console.log("SFVTL["+g+"]",D,V),D=g?(O=K.y-ee.y,ee.x-K.x):(O=ee.x-K.x,ee.y-K.y),S.fv=br(O,D)}T(Eo,"to");function Rr(g){h.DEBUG&&console.log(g.step,"POP[]"),g.stack.pop()}T(Rr,"Tr");function ko(g,S){var O=S.stack.pop(),D=S.z0[O],V=S.fv,K=S.pv,ee=(h.DEBUG&&console.log(S.step,"MDAP["+g+"]",O),K.distance(D,wr));g&&(ee=S.round(ee)),V.setRelative(D,wr,ee,K),V.touch(D),S.rp0=S.rp1=O}T(ko,"ro");function To(g,S){var O,D,V,K=S.z2,ee=K.length-2;h.DEBUG&&console.log(S.step,"IUP["+g.axis+"]");for(var he=0;he<ee;he++)O=K[he],g.touched(O)||(D=O.prevTouched(g))!==O&&(D===(V=O.nextTouched(g))&&g.setRelative(O,O,g.distance(D,D,!1,!0),g,!0),g.interpolate(O,D,V,g))}T(To,"oo");function Mo(g,S){for(var O=S.stack,D=g?S.rp1:S.rp2,V=(g?S.z0:S.z1)[D],K=S.fv,ee=S.pv,he=S.loop,je=S.z2;he--;){var _e=O.pop(),Pe=je[_e],Be=ee.distance(V,V,!1,!0);K.setRelative(Pe,Pe,Be,ee),K.touch(Pe),h.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-he)+": ":"")+"SHP["+(g?"rp1":"rp2")+"]",_e)}S.loop=1}T(Mo,"no");function Co(g,S){for(var O=S.stack,ee=g?S.rp1:S.rp2,D=(g?S.z0:S.z1)[ee],V=S.fv,K=S.pv,ee=O.pop(),he=S.z2[S.contours[ee]],je=he,_e=(h.DEBUG&&console.log(S.step,"SHC["+g+"]",ee),K.distance(D,D,!1,!0));je!==D&&V.setRelative(je,je,_e,K),(je=je.nextPointOnContour)!==he;);}T(Co,"so");function Ao(g,S){var O,D,he=S.stack,V=g?S.rp1:S.rp2,V=(g?S.z0:S.z1)[V],K=S.fv,ee=S.pv,he=he.pop();switch(h.DEBUG&&console.log(S.step,"SHZ["+g+"]",he),he){case 0:O=S.tZone;break;case 1:O=S.gZone;break;default:throw new Error("Invalid zone")}for(var je=ee.distance(V,V,!1,!0),_e=O.length-2,Pe=0;Pe<_e;Pe++)D=O[Pe],K.setRelative(D,D,je,ee)}T(Ao,"ao");function Oo(g,S){var D=S.stack,O=D.pop()/64,D=D.pop(),V=S.z1[D],K=S.z0[S.rp0],ee=S.fv,he=S.pv;ee.setRelative(V,K,O,he),ee.touch(V),h.DEBUG&&console.log(S.step,"MSIRP["+g+"]",O,D),S.rp1=S.rp0,S.rp2=D,g&&(S.rp0=D)}T(Oo,"io");function Po(g,S){var O=S.stack,he=O.pop(),O=O.pop(),D=S.z0[O],V=S.fv,K=S.pv,ee=S.cvt[he],he=(h.DEBUG&&console.log(S.step,"MIAP["+g+"]",he,"(",ee,")",O),K.distance(D,wr));g&&(Math.abs(he-ee)<S.cvCutIn&&(he=ee),he=S.round(he)),V.setRelative(D,wr,he,K),S.zp0===0&&(D.xo=D.x,D.yo=D.y),V.touch(D),S.rp0=S.rp1=O}T(Po,"lo");function Lo(g,S){var O=S.stack,D=O.pop(),V=S.z2[D];h.DEBUG&&console.log(S.step,"GC["+g+"]",D),O.push(64*S.dpv.distance(V,wr,g,!1))}T(Lo,"uo");function Do(g,S){var D=S.stack,O=D.pop(),D=D.pop(),V=S.z1[O],K=S.z0[D],K=S.dpv.distance(K,V,g,g);h.DEBUG&&console.log(S.step,"MD["+g+"]",O,D,"->",K),S.stack.push(Math.round(64*K))}T(Do,"co");function Br(g,S){var O=S.stack,D=O.pop(),V=S.fv,K=S.pv,ee=S.ppem,he=S.deltaBase+16*(g-1),je=S.deltaShift,_e=S.z0;h.DEBUG&&console.log(S.step,"DELTAP["+g+"]",D,O);for(var Pe=0;Pe<D;Pe++){var Be=O.pop(),Re=O.pop();he+((240&Re)>>4)===ee&&(0<=(Re=(15&Re)-8)&&Re++,h.DEBUG&&console.log(S.step,"DELTAPFIX",Be,"by",Re*je),Be=_e[Be],V.setRelative(Be,Be,Re*je,K))}}T(Br,"Mr");function Tr(g,S){var O=S.stack,D=O.pop();h.DEBUG&&console.log(S.step,"ROUND[]"),O.push(64*S.round(D/64))}T(Tr,"_r");function Fr(g,S){var O=S.stack,D=O.pop(),V=S.ppem,K=S.deltaBase+16*(g-1),ee=S.deltaShift;h.DEBUG&&console.log(S.step,"DELTAC["+g+"]",D,O);for(var he=0;he<D;he++){var je=O.pop(),_e=O.pop();K+((240&_e)>>4)===V&&(0<=(_e=(15&_e)-8)&&_e++,_e=_e*ee,h.DEBUG&&console.log(S.step,"DELTACFIX",je,"by",_e),S.cvt[je]+=_e)}}T(Fr,"Er");function Io(g,S){var O,V=S.stack,D=V.pop(),V=V.pop(),K=S.z2[D],ee=S.z1[V];h.DEBUG&&console.log(S.step,"SDPVTL["+g+"]",D,V),D=g?(O=K.y-ee.y,ee.x-K.x):(O=ee.x-K.x,ee.y-K.y),S.dpv=br(O,D)}T(Io,"ho");function sr(g,S){var O=S.stack,D=S.prog,V=S.ip;h.DEBUG&&console.log(S.step,"PUSHB["+g+"]");for(var K=0;K<g;K++)O.push(D[++V]);S.ip=V}T(sr,"Kt");function ir(g,S){var O=S.ip,D=S.prog,V=S.stack;h.DEBUG&&console.log(S.ip,"PUSHW["+g+"]");for(var K=0;K<g;K++){var ee=D[++O]<<8|D[++O];32768&ee&&(ee=-(1+(65535^ee))),V.push(ee)}S.ip=O}T(ir,"$t");function at(g,S,O,D,V,K){var ee,he,_e=K.stack,je=g&&_e.pop(),_e=_e.pop(),Pe=K.rp0,Pe=K.z0[Pe],Be=K.z1[_e],Re=K.minDis,Ce=K.fv,We=K.dpv,Ve=ee=We.distance(Be,Pe,!0,!0),He=0<=Ve?1:-1;Ve=Math.abs(Ve),g&&(he=K.cvt[je],D&&Math.abs(Ve-he)<K.cvCutIn&&(Ve=he)),O&&Ve<Re&&(Ve=Re),D&&(Ve=K.round(Ve)),Ce.setRelative(Be,Pe,He*Ve,We),Ce.touch(Be),h.DEBUG&&console.log(K.step,(g?"MIRP[":"MDRP[")+(S?"M":"m")+(O?">":"_")+(D?"R":"_")+(V===0?"Gr":V===1?"Bl":V===2?"Wh":"")+"]",g?je+"("+K.cvt[je]+","+he+")":"",_e,"(d =",ee,"->",He*Ve,")"),K.rp1=K.rp0,K.rp2=_e,S&&(K.rp0=_e)}T(at,"Ze"),go.prototype.exec=function(g,S){if(typeof S!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var O=this.font,D=this._prepState;if(!D||D.ppem!==S){var V=this._fpgmState;if(!V){nr.prototype=Un,(V=this._fpgmState=new nr("fpgm",O.tables.fpgm)).funcs=[],V.font=O,h.DEBUG&&(console.log("---EXEC FPGM---"),V.step=-1);try{ur(V)}catch(_e){return console.log("Hinting error in FPGM:"+_e),void(this._errorState=3)}}nr.prototype=V,(D=this._prepState=new nr("prep",O.tables.prep)).ppem=S;var K=O.tables.cvt;if(K)for(var ee=D.cvt=new Array(K.length),he=S/O.unitsPerEm,je=0;je<K.length;je++)ee[je]=K[je]*he;else D.cvt=[];h.DEBUG&&(console.log("---EXEC PREP---"),D.step=-1);try{ur(D)}catch(_e){this._errorState<2&&console.log("Hinting error in PREP:"+_e),this._errorState=2}}if(!(1<this._errorState))try{return Nn(g,D)}catch(_e){this._errorState<1&&(console.log("Hinting error:"+_e),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Nn=T(function(g,S){var O=S.ppem/S.font.unitsPerEm,D=O,V=g.components;if(nr.prototype=S,V){for(var K=S.font,ee=[],he=[],je=0;je<V.length;je++){var _e=V[je],Pe=K.glyphs.get(_e.glyphIndex),Be=new nr("glyf",Pe.instructions);h.DEBUG&&(console.log("---EXEC COMP "+je+"---"),Be.step=-1),Ro(Pe,Be,O,D);for(var Re=Math.round(_e.dx*O),Ce=Math.round(_e.dy*D),We=Be.gZone,Ve=Be.contours,He=0;He<We.length;He++){var Ue=We[He];Ue.xTouched=Ue.yTouched=!1,Ue.xo=Ue.x=Ue.x+Re,Ue.yo=Ue.y=Ue.y+Ce}var Ne=ee.length;ee.push.apply(ee,We);for(var lt=0;lt<Ve.length;lt++)he.push(Ve[lt]+Ne)}g.instructions&&!Be.inhibitGridFit&&((Be=new nr("glyf",g.instructions)).gZone=Be.z0=Be.z1=Be.z2=ee,Be.contours=he,ee.push(new rr(0,0),new rr(Math.round(g.advanceWidth*O),0)),h.DEBUG&&(console.log("---EXEC COMPOSITE---"),Be.step=-1),ur(Be),ee.length-=2)}else Be=new nr("glyf",g.instructions),h.DEBUG&&(console.log("---EXEC GLYPH---"),Be.step=-1),Ro(g,Be,O,D),ee=Be.gZone;return ee},"Co"),Ro=T(function(g,S,O,D){for(var V,K,ee,he=g.points||[],je=he.length,_e=S.gZone=S.z0=S.z1=S.z2=[],Pe=S.contours=[],Be=0;Be<je;Be++)V=he[Be],_e[Be]=new rr(V.x*O,V.y*D,V.lastPointOfContour,V.onCurve);for(var Re=0;Re<je;Re++)V=_e[Re],K||(K=V,Pe.push(Re)),V.lastPointOfContour?((V.nextPointOnContour=K).prevPointOnContour=V,K=void 0):(ee=_e[Re+1],(V.nextPointOnContour=ee).prevPointOnContour=V);if(!S.inhibitGridFit){if(h.DEBUG){console.log("PROCESSING GLYPH",S.stack);for(var Ce=0;Ce<je;Ce++)console.log(Ce,_e[Ce].x,_e[Ce].y)}if(_e.push(new rr(0,0),new rr(Math.round(g.advanceWidth*O),0)),ur(S),_e.length-=2,h.DEBUG){console.log("FINISHED GLYPH",S.stack);for(var We=0;We<je;We++)console.log(We,_e[We].x,_e[We].y)}}},"fo"),ur=T(function(g){var S=g.prog;if(S){var O,D=S.length;for(g.ip=0;g.ip<D;g.ip++){if(h.DEBUG&&g.step++,!(O=Gn[S[g.ip]]))throw new Error("unknown instruction: 0x"+Number(S[g.ip]).toString(16));O(g)}}},"or"),Gn=[xo.bind(void 0,tr),xo.bind(void 0,er),_o.bind(void 0,tr),_o.bind(void 0,er),jo.bind(void 0,tr),jo.bind(void 0,er),So.bind(void 0,0),So.bind(void 0,1),Eo.bind(void 0,0),Eo.bind(void 0,1),function(g){var S=(O=g.stack).pop(),O=O.pop();h.DEBUG&&console.log(g.step,"SPVFS[]",S,O),g.pv=g.dpv=br(O,S)},function(g){var S=(O=g.stack).pop(),O=O.pop();h.DEBUG&&console.log(g.step,"SPVFS[]",S,O),g.fv=br(O,S)},function(g){var S=g.stack,O=g.pv;h.DEBUG&&console.log(g.step,"GPV[]"),S.push(16384*O.x),S.push(16384*O.y)},function(g){var S=g.stack,O=g.fv;h.DEBUG&&console.log(g.step,"GFV[]"),S.push(16384*O.x),S.push(16384*O.y)},function(g){g.fv=g.pv,h.DEBUG&&console.log(g.step,"SFVTPV[]")},function(S){var O=(ee=S.stack).pop(),D=ee.pop(),V=ee.pop(),K=ee.pop(),ee=ee.pop(),je=S.z0,Pe=S.z1,he=je[O],je=je[D],_e=Pe[V],Pe=Pe[K],S=S.z2[ee],O=(h.DEBUG&&console.log("ISECT[], ",O,D,V,K,ee),he.x),D=he.y,V=je.x,K=je.y,ee=_e.x,he=_e.y,je=Pe.x,_e=Pe.y,Pe=(O-V)*(he-_e)-(D-K)*(ee-je),Be=O*K-D*V,Re=ee*_e-he*je;S.x=(Be*(ee-je)-Re*(O-V))/Pe,S.y=(Be*(he-_e)-Re*(D-K))/Pe},function(g){g.rp0=g.stack.pop(),h.DEBUG&&console.log(g.step,"SRP0[]",g.rp0)},function(g){g.rp1=g.stack.pop(),h.DEBUG&&console.log(g.step,"SRP1[]",g.rp1)},function(g){g.rp2=g.stack.pop(),h.DEBUG&&console.log(g.step,"SRP2[]",g.rp2)},function(g){var S=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"SZP0[]",S),g.zp0=S){case 0:g.tZone||kr(g),g.z0=g.tZone;break;case 1:g.z0=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var S=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"SZP1[]",S),g.zp1=S){case 0:g.tZone||kr(g),g.z1=g.tZone;break;case 1:g.z1=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var S=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"SZP2[]",S),g.zp2=S){case 0:g.tZone||kr(g),g.z2=g.tZone;break;case 1:g.z2=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var S=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"SZPS[]",S),g.zp0=g.zp1=g.zp2=S){case 0:g.tZone||kr(g),g.z0=g.z1=g.z2=g.tZone;break;case 1:g.z0=g.z1=g.z2=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){g.loop=g.stack.pop(),h.DEBUG&&console.log(g.step,"SLOOP[]",g.loop)},function(g){h.DEBUG&&console.log(g.step,"RTG[]"),g.round=vo},function(g){h.DEBUG&&console.log(g.step,"RTHG[]"),g.round=Rn},function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"SMD[]",S),g.minDis=S/64},function(g){h.DEBUG&&console.log(g.step,"ELSE[]"),wo(g,!1)},function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"JMPR[]",S),g.ip+=S-1},function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"SCVTCI[]",S),g.cvCutIn=S/64},void 0,void 0,function(g){var S=g.stack;h.DEBUG&&console.log(g.step,"DUP[]"),S.push(S[S.length-1])},Rr,function(g){h.DEBUG&&console.log(g.step,"CLEAR[]"),g.stack.length=0},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"SWAP[]"),S.push(O),S.push(D)},function(g){var S=g.stack;h.DEBUG&&console.log(g.step,"DEPTH[]"),S.push(S.length)},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"CINDEX[]",O),S.push(S[S.length-O])},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"MINDEX[]",O),S.push(S.splice(S.length-O,1)[0])},void 0,void 0,void 0,function(g){var S=(D=g.stack).pop(),O=D.pop(),D=(h.DEBUG&&console.log(g.step,"LOOPCALL[]",S,O),g.ip),V=g.prog;g.prog=g.funcs[S];for(var K=0;K<O;K++)ur(g),h.DEBUG&&console.log(++g.step,K+1<O?"next loopcall":"done loopcall",K);g.ip=D,g.prog=V},function(g){var S=g.stack.pop(),O=(h.DEBUG&&console.log(g.step,"CALL[]",S),g.ip),D=g.prog;g.prog=g.funcs[S],ur(g),g.ip=O,g.prog=D,h.DEBUG&&console.log(++g.step,"returning from",S)},function(g){if(g.env!=="fpgm")throw new Error("FDEF not allowed here");var D=g.stack,S=g.prog,O=g.ip,D=D.pop(),V=O;for(h.DEBUG&&console.log(g.step,"FDEF[]",D);S[++O]!==45;);g.ip=O,g.funcs[D]=S.slice(V+1,O)},void 0,ko.bind(void 0,0),ko.bind(void 0,1),To.bind(void 0,tr),To.bind(void 0,er),Mo.bind(void 0,0),Mo.bind(void 0,1),Co.bind(void 0,0),Co.bind(void 0,1),Ao.bind(void 0,0),Ao.bind(void 0,1),function(g){for(var S=g.stack,O=g.loop,D=g.fv,V=S.pop()/64,K=g.z2;O--;){var ee=S.pop(),he=K[ee];h.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-O)+": ":"")+"SHPIX[]",ee,V),D.setRelative(he,he,V),D.touch(he)}g.loop=1},function(g){for(var S=g.stack,O=g.rp1,D=g.rp2,V=g.loop,K=g.z0[O],ee=g.z1[D],he=g.fv,je=g.dpv,_e=g.z2;V--;){var Pe=S.pop(),Be=_e[Pe];h.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-V)+": ":"")+"IP[]",Pe,O,"<->",D),he.interpolate(Be,K,ee,je),he.touch(Be)}g.loop=1},Oo.bind(void 0,0),Oo.bind(void 0,1),function(g){for(var S=g.stack,O=g.rp0,D=g.z0[O],V=g.loop,K=g.fv,ee=g.pv,he=g.z1;V--;){var je=S.pop(),_e=he[je];h.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-V)+": ":"")+"ALIGNRP[]",je),K.setRelative(_e,D,0,ee),K.touch(_e)}g.loop=1},function(g){h.DEBUG&&console.log(g.step,"RTDG[]"),g.round=In},Po.bind(void 0,0),Po.bind(void 0,1),function(g){var S=g.prog,O=g.ip,D=g.stack,V=S[++O];h.DEBUG&&console.log(g.step,"NPUSHB[]",V);for(var K=0;K<V;K++)D.push(S[++O]);g.ip=O},function(g){var S=g.ip,O=g.prog,D=g.stack,V=O[++S];h.DEBUG&&console.log(g.step,"NPUSHW[]",V);for(var K=0;K<V;K++){var ee=O[++S]<<8|O[++S];32768&ee&&(ee=-(1+(65535^ee))),D.push(ee)}g.ip=S},function(g){var D=g.stack,S=(S=g.store)||(g.store=[]),O=D.pop(),D=D.pop();h.DEBUG&&console.log(g.step,"WS",O,D),S[D]=O},function(V){var S=V.stack,O=V.store,D=S.pop(),V=(h.DEBUG&&console.log(V.step,"RS",D),O&&O[D]||0);S.push(V)},function(g){var S=(O=g.stack).pop(),O=O.pop();h.DEBUG&&console.log(g.step,"WCVTP",S,O),g.cvt[O]=S/64},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"RCVT",O),S.push(64*g.cvt[O])},Lo.bind(void 0,0),Lo.bind(void 0,1),void 0,Do.bind(void 0,0),Do.bind(void 0,1),function(g){h.DEBUG&&console.log(g.step,"MPPEM[]"),g.stack.push(g.ppem)},void 0,function(g){h.DEBUG&&console.log(g.step,"FLIPON[]"),g.autoFlip=!0},void 0,void 0,function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"LT[]",O,D),S.push(D<O?1:0)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"LTEQ[]",O,D),S.push(D<=O?1:0)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"GT[]",O,D),S.push(O<D?1:0)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"GTEQ[]",O,D),S.push(O<=D?1:0)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"EQ[]",O,D),S.push(O===D?1:0)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"NEQ[]",O,D),S.push(O!==D?1:0)},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"ODD[]",O),S.push(Math.trunc(O)%2?1:0)},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"EVEN[]",O),S.push(Math.trunc(O)%2?0:1)},function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"IF[]",S),S||(wo(g,!0),h.DEBUG&&console.log(g.step,"EIF[]"))},function(g){h.DEBUG&&console.log(g.step,"EIF[]")},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"AND[]",O,D),S.push(O&&D?1:0)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"OR[]",O,D),S.push(O||D?1:0)},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"NOT[]",O),S.push(O?0:1)},Br.bind(void 0,1),function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"SDB[]",S),g.deltaBase=S},function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"SDS[]",S),g.deltaShift=Math.pow(.5,S)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"ADD[]",O,D),S.push(D+O)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"SUB[]",O,D),S.push(D-O)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"DIV[]",O,D),S.push(64*D/O)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"MUL[]",O,D),S.push(D*O/64)},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"ABS[]",O),S.push(Math.abs(O))},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"NEG[]",O),S.push(-O)},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"FLOOR[]",O),S.push(64*Math.floor(O/64))},function(g){var S=g.stack,O=S.pop();h.DEBUG&&console.log(g.step,"CEILING[]",O),S.push(64*Math.ceil(O/64))},Tr.bind(void 0,0),Tr.bind(void 0,1),Tr.bind(void 0,2),Tr.bind(void 0,3),void 0,void 0,void 0,void 0,function(g){var S=(O=g.stack).pop(),O=O.pop();h.DEBUG&&console.log(g.step,"WCVTF[]",S,O),g.cvt[O]=S*g.ppem/g.font.unitsPerEm},Br.bind(void 0,2),Br.bind(void 0,3),Fr.bind(void 0,1),Fr.bind(void 0,2),Fr.bind(void 0,3),function(g){var S,O=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"SROUND[]",O),g.round=bo,192&O){case 0:S=.5;break;case 64:S=1;break;case 128:S=2;break;default:throw new Error("invalid SROUND value")}switch(g.srPeriod=S,48&O){case 0:g.srPhase=0;break;case 16:g.srPhase=.25*S;break;case 32:g.srPhase=.5*S;break;case 48:g.srPhase=.75*S;break;default:throw new Error("invalid SROUND value")}g.srThreshold=(O&=15)===0?0:(O/8-.5)*S},function(g){var S,O=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"S45ROUND[]",O),g.round=bo,192&O){case 0:S=Math.sqrt(2)/2;break;case 64:S=Math.sqrt(2);break;case 128:S=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(g.srPeriod=S,48&O){case 0:g.srPhase=0;break;case 16:g.srPhase=.25*S;break;case 32:g.srPhase=.5*S;break;case 48:g.srPhase=.75*S;break;default:throw new Error("invalid S45ROUND value")}g.srThreshold=(O&=15)===0?0:(O/8-.5)*S},void 0,void 0,function(g){h.DEBUG&&console.log(g.step,"ROFF[]"),g.round=Dn},void 0,function(g){h.DEBUG&&console.log(g.step,"RUTG[]"),g.round=Bn},function(g){h.DEBUG&&console.log(g.step,"RDTG[]"),g.round=Fn},Rr,Rr,void 0,void 0,void 0,void 0,void 0,function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"SCANCTRL[]",S)},Io.bind(void 0,0),Io.bind(void 0,1),function(g){var S=g.stack,O=S.pop(),D=0;h.DEBUG&&console.log(g.step,"GETINFO[]",O),1&O&&(D=35),32&O&&(D|=4096),S.push(D)},void 0,function(g){var S=g.stack,O=S.pop(),D=S.pop(),V=S.pop();h.DEBUG&&console.log(g.step,"ROLL[]"),S.push(D),S.push(O),S.push(V)},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"MAX[]",O,D),S.push(Math.max(D,O))},function(g){var S=g.stack,O=S.pop(),D=S.pop();h.DEBUG&&console.log(g.step,"MIN[]",O,D),S.push(Math.min(D,O))},function(g){var S=g.stack.pop();h.DEBUG&&console.log(g.step,"SCANTYPE[]",S)},function(g){var S=g.stack.pop(),O=g.stack.pop();switch(h.DEBUG&&console.log(g.step,"INSTCTRL[]",S,O),S){case 1:return void(g.inhibitGridFit=!!O);case 2:return void(g.ignoreCvt=!!O);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,sr.bind(void 0,1),sr.bind(void 0,2),sr.bind(void 0,3),sr.bind(void 0,4),sr.bind(void 0,5),sr.bind(void 0,6),sr.bind(void 0,7),sr.bind(void 0,8),ir.bind(void 0,1),ir.bind(void 0,2),ir.bind(void 0,3),ir.bind(void 0,4),ir.bind(void 0,5),ir.bind(void 0,6),ir.bind(void 0,7),ir.bind(void 0,8),at.bind(void 0,0,0,0,0,0),at.bind(void 0,0,0,0,0,1),at.bind(void 0,0,0,0,0,2),at.bind(void 0,0,0,0,0,3),at.bind(void 0,0,0,0,1,0),at.bind(void 0,0,0,0,1,1),at.bind(void 0,0,0,0,1,2),at.bind(void 0,0,0,0,1,3),at.bind(void 0,0,0,1,0,0),at.bind(void 0,0,0,1,0,1),at.bind(void 0,0,0,1,0,2),at.bind(void 0,0,0,1,0,3),at.bind(void 0,0,0,1,1,0),at.bind(void 0,0,0,1,1,1),at.bind(void 0,0,0,1,1,2),at.bind(void 0,0,0,1,1,3),at.bind(void 0,0,1,0,0,0),at.bind(void 0,0,1,0,0,1),at.bind(void 0,0,1,0,0,2),at.bind(void 0,0,1,0,0,3),at.bind(void 0,0,1,0,1,0),at.bind(void 0,0,1,0,1,1),at.bind(void 0,0,1,0,1,2),at.bind(void 0,0,1,0,1,3),at.bind(void 0,0,1,1,0,0),at.bind(void 0,0,1,1,0,1),at.bind(void 0,0,1,1,0,2),at.bind(void 0,0,1,1,0,3),at.bind(void 0,0,1,1,1,0),at.bind(void 0,0,1,1,1,1),at.bind(void 0,0,1,1,1,2),at.bind(void 0,0,1,1,1,3),at.bind(void 0,1,0,0,0,0),at.bind(void 0,1,0,0,0,1),at.bind(void 0,1,0,0,0,2),at.bind(void 0,1,0,0,0,3),at.bind(void 0,1,0,0,1,0),at.bind(void 0,1,0,0,1,1),at.bind(void 0,1,0,0,1,2),at.bind(void 0,1,0,0,1,3),at.bind(void 0,1,0,1,0,0),at.bind(void 0,1,0,1,0,1),at.bind(void 0,1,0,1,0,2),at.bind(void 0,1,0,1,0,3),at.bind(void 0,1,0,1,1,0),at.bind(void 0,1,0,1,1,1),at.bind(void 0,1,0,1,1,2),at.bind(void 0,1,0,1,1,3),at.bind(void 0,1,1,0,0,0),at.bind(void 0,1,1,0,0,1),at.bind(void 0,1,1,0,0,2),at.bind(void 0,1,1,0,0,3),at.bind(void 0,1,1,0,1,0),at.bind(void 0,1,1,0,1,1),at.bind(void 0,1,1,0,1,2),at.bind(void 0,1,1,0,1,3),at.bind(void 0,1,1,1,0,0),at.bind(void 0,1,1,1,0,1),at.bind(void 0,1,1,1,0,2),at.bind(void 0,1,1,1,0,3),at.bind(void 0,1,1,1,1,0),at.bind(void 0,1,1,1,1,1),at.bind(void 0,1,1,1,1,2),at.bind(void 0,1,1,1,1,3)],zn=Array.from||function(g){return g.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Et(g){(g=g||{}).empty||(lr(g.familyName,"When creating a new Font object, familyName is required."),lr(g.styleName,"When creating a new Font object, styleName is required."),lr(g.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),lr(g.ascender,"When creating a new Font object, ascender is required."),lr(g.descender,"When creating a new Font object, descender is required."),lr(g.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:g.familyName||" "},fontSubfamily:{en:g.styleName||" "},fullName:{en:g.fullName||g.familyName+" "+g.styleName},postScriptName:{en:g.postScriptName||(g.familyName+g.styleName).replace(/\s/g,"")},designer:{en:g.designer||" "},designerURL:{en:g.designerURL||" "},manufacturer:{en:g.manufacturer||" "},manufacturerURL:{en:g.manufacturerURL||" "},license:{en:g.license||" "},licenseURL:{en:g.licenseURL||" "},version:{en:g.version||"Version 0.1"},description:{en:g.description||" "},copyright:{en:g.copyright||" "},trademark:{en:g.trademark||" "}},this.unitsPerEm=g.unitsPerEm||1e3,this.ascender=g.ascender,this.descender=g.descender,this.createdTimestamp=g.createdTimestamp,this.tables={os2:{usWeightClass:g.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:g.widthClass||this.usWidthClasses.MEDIUM,fsSelection:g.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Qe.GlyphSet(this,g.glyphs||[]),this.encoding=new me(this),this.position=new Er(this),this.substitution=new Jt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new go(this):void 0)}})}T(Et,"ft");function Bo(g,S){var O,D=JSON.stringify(g),V=256;for(O in S){var K=parseInt(O);if(K&&!(K<256)){if(JSON.stringify(S[O])===D)return K;V<=K&&(V=K+1)}}return S[V]=g,V}T(Bo,"po"),Et.prototype.hasChar=function(g){return this.encoding.charToGlyphIndex(g)!==null},Et.prototype.charToGlyphIndex=function(g){return this.encoding.charToGlyphIndex(g)},Et.prototype.charToGlyph=function(g){return g=this.charToGlyphIndex(g),this.glyphs.get(g)||this.glyphs.get(0)},Et.prototype.stringToGlyphs=function(g,S){S=S||this.defaultRenderOptions;for(var O=zn(g),D=[],V=0;V<O.length;V+=1){var K=O[V];D.push(this.charToGlyphIndex(K))}var ee=D.length;if(S.features){var g=S.script||this.substitution.getDefaultScriptName(),he=[];S.features.liga&&(he=he.concat(this.substitution.getFeature("liga",g,S.language))),S.features.rlig&&(he=he.concat(this.substitution.getFeature("rlig",g,S.language)));for(var je=0;je<ee;je+=1)for(var _e=0;_e<he.length;_e++){for(var Pe=he[_e],Be=Pe.sub,Re=Be.length,Ce=0;Ce<Re&&Be[Ce]===D[je+Ce];)Ce++;Ce===Re&&(D.splice(je,Re,Pe.by),ee=ee-Re+1)}}for(var We=new Array(ee),Ve=this.glyphs.get(0),He=0;He<ee;He+=1)We[He]=this.glyphs.get(D[He])||Ve;return We},Et.prototype.nameToGlyphIndex=function(g){return this.glyphNames.nameToGlyphIndex(g)},Et.prototype.nameToGlyph=function(g){return g=this.nameToGlyphIndex(g),this.glyphs.get(g)||this.glyphs.get(0)},Et.prototype.glyphIndexToName=function(g){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(g):""},Et.prototype.getKerningValue=function(g,S){g=g.index||g,S=S.index||S;var O=this.position.defaultKerningTables;return O?this.position.getKerningValue(O,g,S):this.kerningPairs[g+","+S]||0},Et.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Et.prototype.forEachGlyph=function(g,S,O,D,V,K){S=S!==void 0?S:0,O=O!==void 0?O:0,V=V||this.defaultRenderOptions;var ee,he=1/this.unitsPerEm*(D=D!==void 0?D:72),je=this.stringToGlyphs(g,V);V.kerning&&(g=V.script||this.position.getDefaultScriptName(),ee=this.position.getKerningTables(g,V.language));for(var _e=0;_e<je.length;_e+=1){var Pe=je[_e];K.call(this,Pe,S,O,D,V),Pe.advanceWidth&&(S+=Pe.advanceWidth*he),V.kerning&&_e<je.length-1&&(S+=(ee?this.position.getKerningValue(ee,Pe.index,je[_e+1].index):this.getKerningValue(Pe,je[_e+1]))*he),V.letterSpacing?S+=V.letterSpacing*D:V.tracking&&(S+=V.tracking/1e3*D)}return S},Et.prototype.getPath=function(g,S,O,D,V){var K=new Q;return this.forEachGlyph(g,S,O,D,V,function(ee,he,je,_e){ee=ee.getPath(he,je,_e,V,this),K.extend(ee)}),K},Et.prototype.getPaths=function(g,S,O,D,V){var K=[];return this.forEachGlyph(g,S,O,D,V,function(ee,he,je,_e){ee=ee.getPath(he,je,_e,V,this),K.push(ee)}),K},Et.prototype.getAdvanceWidth=function(g,S,O){return this.forEachGlyph(g,0,0,S,O,function(){})},Et.prototype.draw=function(g,S,O,D,V,K){this.getPath(S,O,D,V,K).draw(g)},Et.prototype.drawPoints=function(g,S,O,D,V,K){this.forEachGlyph(S,O,D,V,K,function(ee,he,je,_e){ee.drawPoints(g,he,je,_e)})},Et.prototype.drawMetrics=function(g,S,O,D,V,K){this.forEachGlyph(S,O,D,V,K,function(ee,he,je,_e){ee.drawMetrics(g,he,je,_e)})},Et.prototype.getEnglishName=function(g){if(g=this.names[g],g)return g.en},Et.prototype.validate=function(){var g=this;function S(O){O=g.getEnglishName(O),O&&O.trim().length}T(S,"v"),S("fontFamily"),S("weightName"),S("manufacturer"),S("copyright"),S("version"),this.unitsPerEm},Et.prototype.toTables=function(){return On.fontToTable(this)},Et.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Et.prototype.toArrayBuffer=function(){for(var g=this.toTables().encode(),S=new ArrayBuffer(g.length),O=new Uint8Array(S),D=0;D<g.length;D++)O[D]=g[D];return S},Et.prototype.download=function(g){var S=this.getEnglishName("fontFamily"),O=this.getEnglishName("fontSubfamily"),D=(g=g||S.replace(/\s/g,"")+"-"+O+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,D.byteLength,function(V){V.root.getFile(g,{create:!0},function(K){K.createWriter(function(ee){var he=new DataView(D),he=new Blob([he],{type:"font/opentype"});ee.write(he),ee.addEventListener("writeend",function(){location.href=K.toURL()},!1)})})},function(V){throw new Error(V.name+": "+V.message)})):(S=t("fs"),O=function(V){for(var K=new v(V.byteLength),ee=new Uint8Array(V),he=0;he<K.length;++he)K[he]=ee[he];return K}(D),S.writeFileSync(g,O))},Et.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Et.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Et.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Vn={make:function(g,S){var O=new re.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:g.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:g.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*g.axes.length}]);O.offsetToData=O.sizeOf();for(var D,V,K,ee=0;ee<g.axes.length;ee++)O.fields=O.fields.concat((D=ee,V=g.axes[ee],K=S,K=Bo(V.name,S),[{name:"tag_"+D,type:"TAG",value:V.tag},{name:"minValue_"+D,type:"FIXED",value:V.minValue<<16},{name:"defaultValue_"+D,type:"FIXED",value:V.defaultValue<<16},{name:"maxValue_"+D,type:"FIXED",value:V.maxValue<<16},{name:"flags_"+D,type:"USHORT",value:0},{name:"nameID_"+D,type:"USHORT",value:K}]));for(var he=0;he<g.instances.length;he++)O.fields=O.fields.concat(function(je,_e,Pe,Be){for(var Re=[{name:"nameID_"+je,type:"USHORT",value:Bo(_e.name,Be)},{name:"flags_"+je,type:"USHORT",value:0}],Ce=0;Ce<Pe.length;++Ce){var We=Pe[Ce].tag;Re.push({name:"axis_"+je+" "+We,type:"FIXED",value:_e.coordinates[We]<<16})}return Re}(he,g.instances[he],g.axes,S));return O},parse:function(g,S,O){for(var D,V,K,ee,he=new le.Parser(g,S),je=he.parseULong(),_e=(L.argument(je===65536,"Unsupported fvar table version."),he.parseOffset16()),Pe=(he.skip("uShort",1),he.parseUShort()),Be=he.parseUShort(),Re=he.parseUShort(),Ce=he.parseUShort(),We=[],Ve=0;Ve<Pe;Ve++)We.push((D=g,V=S+_e+Ve*Be,K=O,ee={},D=new le.Parser(D,V),ee.tag=D.parseTag(),ee.minValue=D.parseFixed(),ee.defaultValue=D.parseFixed(),ee.maxValue=D.parseFixed(),D.skip("uShort",1),ee.name=K[D.parseUShort()]||{},ee));for(var He=[],Ue=S+_e+Pe*Be,Ne=0;Ne<Re;Ne++)He.push(function(lt,pt,ut,ct){var vt={},Tt=new le.Parser(lt,pt);vt.name=ct[Tt.parseUShort()]||{},Tt.skip("uShort",1),vt.coordinates={};for(var Pt=0;Pt<ut.length;++Pt)vt.coordinates[ut[Pt].tag]=Tt.parseFixed();return vt}(g,Ue+Ne*Ce,We,O));return{axes:We,instances:He}}},Zt=new Array(10);Zt[1]=function(){var g=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{posFormat:1,coverage:this.parsePointer(te.coverage),value:this.parseValueRecord()}:S===2?{posFormat:2,coverage:this.parsePointer(te.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+g.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Zt[2]=function(){var g,S,O,D,K=this.offset+this.relativeOffset,V=this.parseUShort(),K=(L.assert(V===1||V===2,"0x"+K.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(te.coverage)),ee=this.parseUShort(),he=this.parseUShort();return V===1?{posFormat:V,coverage:K,valueFormat1:ee,valueFormat2:he,pairSets:this.parseList(te.pointer(te.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ee),value2:this.parseValueRecord(he)}})))}:V===2?(g=this.parsePointer(te.classDef),S=this.parsePointer(te.classDef),O=this.parseUShort(),D=this.parseUShort(),{posFormat:V,coverage:K,valueFormat1:ee,valueFormat2:he,classDef1:g,classDef2:S,class1Count:O,class2Count:D,classRecords:this.parseList(O,te.list(D,function(){return{value1:this.parseValueRecord(ee),value2:this.parseValueRecord(he)}}))}):void 0},Zt[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Zt[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Zt[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Zt[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Zt[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Zt[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Zt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Hn=new Array(10),Wn={parse:function(g,S){return S=(g=new te(g,S=S||0)).parseVersion(1),L.argument(S===1||S===1.1,"Unsupported GPOS table version "+S),S===1?{version:S,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList(Zt)}:{version:S,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList(Zt),variations:g.parseFeatureVariationsList()}},make:function(g){return new re.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new re.ScriptList(g.scripts)},{name:"features",type:"TABLE",value:new re.FeatureList(g.features)},{name:"lookups",type:"TABLE",value:new re.LookupList(g.lookups,Hn)}])}},qn={parse:function(g,S){if(g=new le.Parser(g,S),(S=g.parseUShort())===0){var O=g,D={},Be=(O.skip("uShort"),O.parseUShort()),V=(L.argument(Be===0,"Unsupported kern sub-table version."),O.skip("uShort",2),O.parseUShort());O.skip("uShort",3);for(var K=0;K<V;K+=1){var ee=O.parseUShort(),he=O.parseUShort(),je=O.parseShort();D[ee+","+he]=je}return D}if(S!==1)throw new Error("Unsupported kern table version ("+S+").");var _e=g,Pe={},Be=(_e.skip("uShort"),1<_e.parseULong()&&console.warn("Only the first kern subtable is supported."),_e.skip("uLong"),255&_e.parseUShort());if(_e.skip("uShort"),Be==0){var Re=_e.parseUShort();_e.skip("uShort",3);for(var Ce=0;Ce<Re;Ce+=1){var We=_e.parseUShort(),Ve=_e.parseUShort(),He=_e.parseShort();Pe[We+","+Ve]=He}}return Pe}},Xn={parse:function(g,S,O,D){for(var V=new le.Parser(g,S),K=D?V.parseUShort:V.parseULong,ee=[],he=0;he<O+1;he+=1){var je=K.call(V);D&&(je*=2),ee.push(je)}return ee}};function Yn(g,S){t("fs").readFile(g,function(O,D){if(O)return S(O.message);S(null,fo(D))})}T(Yn,"Fo");function Zn(g,S){var O=new XMLHttpRequest;O.open("get",g,!0),O.responseType="arraybuffer",O.onload=function(){return O.response?S(null,O.response):S("Font could not be loaded: "+O.statusText)},O.onerror=function(){S("Font could not be loaded")},O.send()}T(Zn,"Uo");function Fo(g,S){for(var O=[],D=12,V=0;V<S;V+=1){var K=le.getTag(g,D),ee=le.getULong(g,D+4),he=le.getULong(g,D+8),je=le.getULong(g,D+12);O.push({tag:K,checksum:ee,offset:he,length:je,compression:!1}),D+=16}return O}T(Fo,"mo");function Dt(O,S){if(S.compression!=="WOFF")return{data:O,offset:S.offset};var O=new Uint8Array(O.buffer,S.offset+2,S.compressedLength-2),D=new Uint8Array(S.length);if(z(O,D),D.byteLength!==S.length)throw new Error("Decompression error: "+S.tag+" decompressed length doesn't match recorded length");return{data:new DataView(D.buffer,0),offset:0}}T(Dt,"Mt");function Ur(Ne){var S,O,D,V,K,ee,he,je,_e,Pe,Be,Re,Ce,We,Ve=new Et({empty:!0}),He=new DataView(Ne,0),Ue=[],Ne=le.getTag(He,0);if(Ne==="\0\0\0"||Ne==="true"||Ne==="typ1")Ve.outlinesFormat="truetype",Ue=Fo(He,D=le.getUShort(He,4));else if(Ne==="OTTO")Ve.outlinesFormat="cff",Ue=Fo(He,D=le.getUShort(He,4));else{if(Ne!=="wOFF")throw new Error("Unsupported OpenType signature "+Ne);var lt=le.getTag(He,4);if(lt==="\0\0\0")Ve.outlinesFormat="truetype";else{if(lt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ne);Ve.outlinesFormat="cff"}Ue=function(Mt,St){for(var Ht=[],At=44,Gt=0;Gt<St;Gt+=1){var Ct=le.getTag(Mt,At),Nt=le.getULong(Mt,At+4),xr=le.getULong(Mt,At+8),cr=le.getULong(Mt,At+12),Uo=void 0,Uo=xr<cr&&"WOFF";Ht.push({tag:Ct,offset:Nt,compression:Uo,compressedLength:xr,length:cr}),At+=20}return Ht}(He,D=le.getUShort(He,12))}for(var pt=0;pt<D;pt+=1){var ut=Ue[pt],ct=void 0;switch(ut.tag){case"cmap":ct=Dt(He,ut),Ve.tables.cmap=$.parse(ct.data,ct.offset),Ve.encoding=new Ee(Ve.tables.cmap);break;case"cvt ":ct=Dt(He,ut),We=new le.Parser(ct.data,ct.offset),Ve.tables.cvt=We.parseShortList(ut.length/2);break;case"fvar":K=ut;break;case"fpgm":ct=Dt(He,ut),We=new le.Parser(ct.data,ct.offset),Ve.tables.fpgm=We.parseByteList(ut.length);break;case"head":ct=Dt(He,ut),Ve.tables.head=gr.parse(ct.data,ct.offset),Ve.unitsPerEm=Ve.tables.head.unitsPerEm,S=Ve.tables.head.indexToLocFormat;break;case"hhea":ct=Dt(He,ut),Ve.tables.hhea=Ae.parse(ct.data,ct.offset),Ve.ascender=Ve.tables.hhea.ascender,Ve.descender=Ve.tables.hhea.descender,Ve.numberOfHMetrics=Ve.tables.hhea.numberOfHMetrics;break;case"hmtx":_e=ut;break;case"ltag":ct=Dt(He,ut),O=it.parse(ct.data,ct.offset);break;case"maxp":ct=Dt(He,ut),Ve.tables.maxp=Ye.parse(ct.data,ct.offset),Ve.numGlyphs=Ve.tables.maxp.numGlyphs;break;case"name":Re=ut;break;case"OS/2":ct=Dt(He,ut),Ve.tables.os2=Ut.parse(ct.data,ct.offset);break;case"post":ct=Dt(He,ut),Ve.tables.post=ro.parse(ct.data,ct.offset),Ve.glyphNames=new Fe(Ve.tables.post);break;case"prep":ct=Dt(He,ut),We=new le.Parser(ct.data,ct.offset),Ve.tables.prep=We.parseByteList(ut.length);break;case"glyf":ee=ut;break;case"loca":Be=ut;break;case"CFF ":V=ut;break;case"kern":Pe=ut;break;case"GPOS":he=ut;break;case"GSUB":je=ut;break;case"meta":Ce=ut}}if(lt=Dt(He,Re),Ve.tables.name=Xt.parse(lt.data,lt.offset,O),Ve.names=Ve.tables.name,ee&&Be)Ne=S===0,lt=Dt(He,Be),lt=Xn.parse(lt.data,lt.offset,Ve.numGlyphs,Ne),Ne=Dt(He,ee),Ve.glyphs=yo.parse(Ne.data,Ne.offset,lt,Ve);else{if(!V)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ne=Dt(He,V),yr.parse(Ne.data,Ne.offset,Ve)}for(var lt=Dt(He,_e),vt=($e.parse(lt.data,lt.offset,Ve.numberOfHMetrics,Ve.numGlyphs,Ve.glyphs),Ve),Tt=vt.tables.cmap.glyphIndexMap,Pt=Object.keys(Tt),It=0;It<Pt.length;It+=1){var zt,Vt=Pt[It],Kt=Tt[Vt];(zt=vt.glyphs.get(Kt)).addUnicode(parseInt(Vt))}for(var kt=0;kt<vt.glyphs.length;kt+=1)zt=vt.glyphs.get(kt),vt.cffEncoding?vt.isCIDFont?zt.name="gid"+kt:zt.name=vt.cffEncoding.charset[kt]:vt.glyphNames.names&&(zt.name=vt.glyphNames.glyphIndexToName(kt));return Pe?(Ne=Dt(He,Pe),Ve.kerningPairs=qn.parse(Ne.data,Ne.offset)):Ve.kerningPairs={},he&&(lt=Dt(He,he),Ve.tables.gpos=Wn.parse(lt.data,lt.offset),Ve.position.init()),je&&(Ne=Dt(He,je),Ve.tables.gsub=oo.parse(Ne.data,Ne.offset)),K&&(lt=Dt(He,K),Ve.tables.fvar=Vn.parse(lt.data,lt.offset,Ve.names)),Ce&&(Ne=Dt(He,Ce),Ve.tables.meta=no.parse(Ne.data,Ne.offset),Ve.metas=Ve.tables.meta),Ve}T(Ur,"kr"),h.Font=Et,h.Glyph=ze,h.Path=Q,h.BoundingBox=W,h._parse=le,h.parse=Ur,h.load=function(g,S){(typeof window>"u"?Yn:Zn)(g,function(O,D){if(O)return S(O);var V;try{V=Ur(D)}catch(K){return S(K,null)}return S(null,V)})},h.loadSync=function(g){return Ur(fo(t("fs").readFileSync(g)))},Object.defineProperty(h,"__esModule",{value:!0})},"i"),typeof k=="object"&&Y!==void 0?d(k):typeof Oe=="function"&&Oe.amd?Oe(["exports"],d):d(p.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],250:[function(t,Y,k){(function(v){function p(m,f){for(var r=0,s=m.length-1;0<=s;s--){var l=m[s];l==="."?m.splice(s,1):l===".."?(m.splice(s,1),r++):r&&(m.splice(s,1),r--)}if(f)for(;r--;)m.unshift("..");return m}T(p,"p");function d(m,f){if(m.filter)return m.filter(f);for(var r=[],s=0;s<m.length;s++)f(m[s],s,m)&&r.push(m[s]);return r}T(d,"i"),k.resolve=function(){for(var m="",f=!1,r=arguments.length-1;-1<=r&&!f;r--){var s=0<=r?arguments[r]:v.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");s&&(m=s+"/"+m,f=s.charAt(0)==="/")}return(f?"/":"")+(m=p(d(m.split("/"),function(l){return!!l}),!f).join("/"))||"."},k.normalize=function(m){var f=k.isAbsolute(m),r=h(m,-1)==="/";return(m=(m=p(d(m.split("/"),function(s){return!!s}),!f).join("/"))||f?m:".")&&r&&(m+="/"),(f?"/":"")+m},k.isAbsolute=function(m){return m.charAt(0)==="/"},k.join=function(){var m=Array.prototype.slice.call(arguments,0);return k.normalize(d(m,function(f,r){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},k.relative=function(m,f){function r(o){for(var c=0;c<o.length&&o[c]==="";c++);for(var y=o.length-1;0<=y&&o[y]==="";y--);return y<c?[]:o.slice(c,y-c+1)}T(r,"r"),m=k.resolve(m).substr(1),f=k.resolve(f).substr(1);for(var s=r(m.split("/")),l=r(f.split("/")),i=Math.min(s.length,l.length),n=i,u=0;u<i;u++)if(s[u]!==l[u]){n=u;break}for(var a=[],u=n;u<s.length;u++)a.push("..");return(a=a.concat(l.slice(n))).join("/")},k.sep="/",k.delimiter=":",k.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var f=m.charCodeAt(0)===47,r=-1,s=!0,l=m.length-1;1<=l;--l)if(m.charCodeAt(l)===47){if(!s){r=l;break}}else s=!1;return r===-1?f?"/":".":f&&r===1?"/":m.slice(0,r)},k.basename=function(m,f){return m=function(r){typeof r!="string"&&(r+="");for(var s=0,l=-1,i=!0,n=r.length-1;0<=n;--n)if(r.charCodeAt(n)===47){if(!i){s=n+1;break}}else l===-1&&(i=!1,l=n+1);return l===-1?"":r.slice(s,l)}(m),m=f&&m.substr(-1*f.length)===f?m.substr(0,m.length-f.length):m},k.extname=function(m){typeof m!="string"&&(m+="");for(var f=-1,r=0,s=-1,l=!0,i=0,n=m.length-1;0<=n;--n){var u=m.charCodeAt(n);if(u===47){if(l)continue;r=n+1;break}s===-1&&(l=!1,s=n+1),u===46?f===-1?f=n:i!==1&&(i=1):f!==-1&&(i=-1)}return f===-1||s===-1||i===0||i===1&&f===s-1&&f===r+1?"":m.slice(f,s)};var h="ab".substr(-1)==="b"?function(m,f,r){return m.substr(f,r)}:function(m,f,r){return f<0&&(f=m.length+f),m.substr(f,r)}}).call(this,t("_process"))},{_process:251}],251:[function(t,d,k){var v,p,d=d.exports={};function h(){throw new Error("setTimeout has not been defined")}T(h,"f");function m(){throw new Error("clearTimeout has not been defined")}T(m,"y");try{v=typeof setTimeout=="function"?setTimeout:h}catch{v=h}try{p=typeof clearTimeout=="function"?clearTimeout:m}catch{p=m}function f(c){if(v===setTimeout)return setTimeout(c,0);if((v===h||!v)&&setTimeout)return(v=setTimeout)(c,0);try{return v(c,0)}catch{try{return v.call(null,c,0)}catch{return v.call(this,c,0)}}}T(f,"g");var r,s=[],l=!1,i=-1;function n(){l&&r&&(l=!1,r.length?s=r.concat(s):i=-1,s.length&&u())}T(n,"l");function u(){if(!l){for(var c=f(n),y=(l=!0,s.length);y;){for(r=s,s=[];++i<y;)r&&r[i].run();i=-1,y=s.length}r=null,l=!1,function(_){if(p===clearTimeout)return clearTimeout(_);if((p===m||!p)&&clearTimeout)return(p=clearTimeout)(_);try{p(_)}catch{try{return p.call(null,_)}catch{return p.call(this,_)}}}(c)}}T(u,"u");function a(c,y){this.fun=c,this.array=y}T(a,"h");function o(){}T(o,"o"),d.nextTick=function(c){var y=new Array(arguments.length-1);if(1<arguments.length)for(var _=1;_<arguments.length;_++)y[_-1]=arguments[_];s.push(new a(c,y)),s.length!==1||l||f(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=o,d.addListener=o,d.once=o,d.off=o,d.removeListener=o,d.removeAllListeners=o,d.emit=o,d.prependListener=o,d.prependOnceListener=o,d.listeners=function(c){return[]},d.binding=function(c){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(c){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],252:[function(t,Y,k){Y=function(v){"use strict";var p,d=Object.prototype,h=d.hasOwnProperty,x=typeof Symbol=="function"?Symbol:{},m=x.iterator||"@@iterator",f=x.asyncIterator||"@@asyncIterator",r=x.toStringTag||"@@toStringTag";function s(U,G,P,N){var Q,ae,j,L,G=G&&G.prototype instanceof c?G:c,G=Object.create(G.prototype),N=new I(N||[]);return G._invoke=(Q=U,ae=P,j=N,L=i,function(Z,oe){if(L===u)throw new Error("Generator is already running");if(L===a){if(Z==="throw")throw oe;return R()}for(j.method=Z,j.arg=oe;;){var ie=j.delegate;if(ie&&(ie=T(function ce(ue,be){var ye=ue.iterator[be.method];if(ye===p){if(be.delegate=null,be.method==="throw"){if(ue.iterator.return&&(be.method="return",be.arg=p,ce(ue,be),be.method==="throw"))return o;be.method="throw",be.arg=new TypeError("The iterator does not provide a 'throw' method")}return o}if(ye=l(ye,ue.iterator,be.arg),ye.type==="throw")return be.method="throw",be.arg=ye.arg,be.delegate=null,o;if(ye=ye.arg,!ye)return be.method="throw",be.arg=new TypeError("iterator result is not an object"),be.delegate=null,o;{if(!ye.done)return ye;be[ue.resultName]=ye.value,be.next=ue.nextLoc,be.method!=="return"&&(be.method="next",be.arg=p)}return be.delegate=null,o},"de")(ie,j),ie)){if(ie===o)continue;return ie}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(L===i)throw L=a,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);if(L=u,ie=l(Q,ae,j),ie.type==="normal"){if(L=j.done?a:n,ie.arg!==o)return{value:ie.arg,done:j.done}}else ie.type==="throw"&&(L=a,j.method="throw",j.arg=ie.arg)}}),G}T(s,"a");function l(U,z,P){try{return{type:"normal",arg:U.call(z,P)}}catch(W){return{type:"throw",arg:W}}}T(l,"s"),v.wrap=s;var i="suspendedStart",n="suspendedYield",u="executing",a="completed",o={};function c(){}T(c,"d");function y(){}T(y,"b");function _(){}T(_,"M");var x={},b=(x[m]=function(){return this},Object.getPrototypeOf),b=b&&b(b(F([]))),w=(b&&b!==d&&h.call(b,m)&&(x=b),_.prototype=c.prototype=Object.create(x));function M(U){["next","throw","return"].forEach(function(z){U[z]=function(P){return this._invoke(z,P)}})}T(M,"C");function E(U){var z;this._invoke=function(P,W){function Q(){return new Promise(function(ae,j){T(function L(ce,N,Z,oe){var ie,ce=l(U[ce],U,N);if(ce.type!=="throw")return(N=(ie=ce.arg).value)&&typeof N=="object"&&h.call(N,"__await")?Promise.resolve(N.__await).then(function(ue){L("next",ue,Z,oe)},function(ue){L("throw",ue,Z,oe)}):Promise.resolve(N).then(function(ue){ie.value=ue,Z(ie)},function(ue){return L("throw",ue,Z,oe)});oe(ce.arg)},"O")(P,W,ae,j)})}return T(Q,"X"),z=z?z.then(Q,Q):Q()}}T(E,"S");function A(U){var z={tryLoc:U[0]};1 in U&&(z.catchLoc=U[1]),2 in U&&(z.finallyLoc=U[2],z.afterLoc=U[3]),this.tryEntries.push(z)}T(A,"A");function C(U){var z=U.completion||{};z.type="normal",delete z.arg,U.completion=z}T(C,"E");function I(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(A,this),this.reset(!0)}T(I,"D");function F(U){if(U){var z,P=U[m];if(P)return P.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length))return z=-1,(P=T(function W(){for(;++z<U.length;)if(h.call(U,z))return W.value=U[z],W.done=!1,W;return W.value=p,W.done=!0,W},"q")).next=P}return{next:R}}T(F,"F");function R(){return{value:p,done:!0}}return T(R,"L"),(y.prototype=w.constructor=_).constructor=y,_[r]=y.displayName="GeneratorFunction",v.isGeneratorFunction=function(U){return U=typeof U=="function"&&U.constructor,!!U&&(U===y||(U.displayName||U.name)==="GeneratorFunction")},v.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,_):(U.__proto__=_,r in U||(U[r]="GeneratorFunction")),U.prototype=Object.create(w),U},v.awrap=function(U){return{__await:U}},M(E.prototype),E.prototype[f]=function(){return this},v.AsyncIterator=E,v.async=function(U,z,P,W){var Q=new E(s(U,z,P,W));return v.isGeneratorFunction(z)?Q:Q.next().then(function(ae){return ae.done?ae.value:Q.next()})},M(w),w[r]="Generator",w[m]=function(){return this},w.toString=function(){return"[object Generator]"},v.keys=function(U){var z,P=[];for(z in U)P.push(z);return P.reverse(),T(function W(){for(;P.length;){var Q=P.pop();if(Q in U)return W.value=Q,W.done=!1,W}return W.done=!0,W},"q")},v.values=F,I.prototype={constructor:I,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(C),!U)for(var z in this)z.charAt(0)==="t"&&h.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=p)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var z=this;function P(G,N){return ae.type="throw",ae.arg=U,z.next=G,N&&(z.method="next",z.arg=p),!!N}T(P,"N");for(var W=this.tryEntries.length-1;0<=W;--W){var Q=this.tryEntries[W],ae=Q.completion;if(Q.tryLoc==="root")return P("end");if(Q.tryLoc<=this.prev){var j=h.call(Q,"catchLoc"),L=h.call(Q,"finallyLoc");if(j&&L){if(this.prev<Q.catchLoc)return P(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return P(Q.finallyLoc)}else if(j){if(this.prev<Q.catchLoc)return P(Q.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return P(Q.finallyLoc)}}}},abrupt:function(U,z){for(var P=this.tryEntries.length-1;0<=P;--P){var W=this.tryEntries[P];if(W.tryLoc<=this.prev&&h.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var Q=W;break}}var ae=(Q=Q&&(U==="break"||U==="continue")&&Q.tryLoc<=z&&z<=Q.finallyLoc?null:Q)?Q.completion:{};return ae.type=U,ae.arg=z,Q?(this.method="next",this.next=Q.finallyLoc,o):this.complete(ae)},complete:function(U,z){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&z&&(this.next=z),o},finish:function(U){for(var z=this.tryEntries.length-1;0<=z;--z){var P=this.tryEntries[z];if(P.finallyLoc===U)return this.complete(P.completion,P.afterLoc),C(P),o}},catch:function(U){for(var z=this.tryEntries.length-1;0<=z;--z){var P,W,Q=this.tryEntries[z];if(Q.tryLoc===U)return(P=Q.completion).type==="throw"&&(W=P.arg,C(Q)),W}throw new Error("illegal catch attempt")},delegateYield:function(U,z,P){return this.delegate={iterator:F(U),resultName:z,nextLoc:P},this.method==="next"&&(this.arg=p),o}},v}(typeof Y=="object"?Y.exports:{});try{regeneratorRuntime=Y}catch{Function("r","regeneratorRuntime = r")(Y)}},{}],253:[function(t,Y,k){(function(v){"use strict";var p,d,h,m,f,r,s,l,i,n;function u(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}T(u,"u");function a(C){return C=typeof C!="string"?String(C):C}T(a,"h");function o(C){var I={next:function(){var F=C.shift();return{done:F===void 0,value:F}}};return d&&(I[Symbol.iterator]=function(){return I}),I}T(o,"o");function c(C){this.map={},C instanceof c?C.forEach(function(I,F){this.append(F,I)},this):Array.isArray(C)?C.forEach(function(I){this.append(I[0],I[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(I){this.append(I,C[I])},this)}T(c,"d");function y(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}T(y,"b");function _(C){return new Promise(function(I,F){C.onload=function(){I(C.result)},C.onerror=function(){F(C.error)}})}T(_,"M");function x(C){var I=new FileReader,F=_(I);return I.readAsArrayBuffer(C),F}T(x,"T");function b(C){var I;return C.slice?C.slice(0):((I=new Uint8Array(C.byteLength)).set(new Uint8Array(C)),I.buffer)}T(b,"x");function w(){return this.bodyUsed=!1,this._initBody=function(C){if(this._bodyInit=C)if(typeof C=="string")this._bodyText=C;else if(h&&Blob.prototype.isPrototypeOf(C))this._bodyBlob=C;else if(m&&FormData.prototype.isPrototypeOf(C))this._bodyFormData=C;else if(p&&URLSearchParams.prototype.isPrototypeOf(C))this._bodyText=C.toString();else if(f&&h&&s(C))this._bodyArrayBuffer=b(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!f||!ArrayBuffer.prototype.isPrototypeOf(C)&&!l(C))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(C)}else this._bodyText="";this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h&&(this.blob=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var C,I,F=y(this);if(F)return F;if(this._bodyBlob)return F=this._bodyBlob,C=new FileReader,I=_(C),C.readAsText(F),I;if(this._bodyArrayBuffer)return Promise.resolve(function(R){for(var U=new Uint8Array(R),z=new Array(U.length),P=0;P<U.length;P++)z[P]=String.fromCharCode(U[P]);return z.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}T(w,"_");function M(C,I){var F,R=(I=I||{}).body;if(C instanceof M){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,I.headers||(this.headers=new c(C.headers)),this.method=C.method,this.mode=C.mode,R||C._bodyInit==null||(R=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=I.credentials||this.credentials||"omit",!I.headers&&this.headers||(this.headers=new c(I.headers)),this.method=(C=I.method||this.method||"GET",F=C.toUpperCase(),-1<i.indexOf(F)?F:C),this.mode=I.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(R)}T(M,"C");function E(C){var I=new FormData;return C.trim().split("&").forEach(function(F){var R;F&&(R=(F=F.split("=")).shift().replace(/\+/g," "),F=F.join("=").replace(/\+/g," "),I.append(decodeURIComponent(R),decodeURIComponent(F)))}),I}T(E,"S");function A(C,I){I=I||{},this.type="default",this.status=I.status===void 0?200:I.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new c(I.headers),this.url=I.url||"",this._initBody(C)}T(A,"A"),v.fetch||(p="URLSearchParams"in v,d="Symbol"in v&&"iterator"in Symbol,h="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in v,(f="ArrayBuffer"in v)&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=T(function(C){return C&&DataView.prototype.isPrototypeOf(C)},"a"),l=ArrayBuffer.isView||function(C){return C&&-1<r.indexOf(Object.prototype.toString.call(C))}),c.prototype.append=function(C,I){C=u(C),I=a(I);var F=this.map[C];this.map[C]=F?F+","+I:I},c.prototype.delete=function(C){delete this.map[u(C)]},c.prototype.get=function(C){return C=u(C),this.has(C)?this.map[C]:null},c.prototype.has=function(C){return this.map.hasOwnProperty(u(C))},c.prototype.set=function(C,I){this.map[u(C)]=a(I)},c.prototype.forEach=function(C,I){for(var F in this.map)this.map.hasOwnProperty(F)&&C.call(I,this.map[F],F,this)},c.prototype.keys=function(){var C=[];return this.forEach(function(I,F){C.push(F)}),o(C)},c.prototype.values=function(){var C=[];return this.forEach(function(I){C.push(I)}),o(C)},c.prototype.entries=function(){var C=[];return this.forEach(function(I,F){C.push([F,I])}),o(C)},d&&(c.prototype[Symbol.iterator]=c.prototype.entries),i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},w.call(M.prototype),w.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},A.error=function(){var C=new A(null,{status:0,statusText:""});return C.type="error",C},n=[301,302,303,307,308],A.redirect=function(C,I){if(n.indexOf(I)===-1)throw new RangeError("Invalid status code");return new A(null,{status:I,headers:{location:C}})},v.Headers=c,v.Request=M,v.Response=A,v.fetch=function(C,I){return new Promise(function(F,R){var U=new M(C,I),z=new XMLHttpRequest;z.onload=function(){var P,W={status:z.status,statusText:z.statusText,headers:(W=z.getAllResponseHeaders()||"",P=new c,W.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(j){var j=j.split(":"),L=j.shift().trim();L&&(j=j.join(":").trim(),P.append(L,j))}),P)},Q=(W.url="responseURL"in z?z.responseURL:W.headers.get("X-Request-URL"),"response"in z?z.response:z.responseText);F(new A(Q,W))},z.onerror=function(){R(new TypeError("Network request failed"))},z.ontimeout=function(){R(new TypeError("Network request failed"))},z.open(U.method,U.url,!0),U.credentials==="include"?z.withCredentials=!0:U.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&h&&(z.responseType="blob"),U.headers.forEach(function(P,W){z.setRequestHeader(W,P)}),z.send(U._bodyInit===void 0?null:U._bodyInit)})},v.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],254:[function(t,Y,k){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v,p=h(t("../core/main")),d=h(t("../color/color_conversion"));function h(r){return r&&r.__esModule?r:{default:r}}T(h,"f");var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],f=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];p.default.prototype._rgbColorName=function(i){var s,l,i=d.default._rgbaToHSBA(i),n=[(v=i)[0],i[1],i[2]];n[0]!==0&&(n[0]=Math.round(100*n[0]),(i=n[0].toString().split(""))[l=i.length-1]=parseInt(i[l]),i[l]<2.5?i[l]=0:2.5<=i[l]&&i[l]<7.5&&(i[l]=5),i.length===2?(i[0]=parseInt(i[0]),7.5<=i[l]&&(i[l]=0,i[0]=i[0]+1),n[0]=10*i[0]+i[1]):7.5<=i[l]?n[0]=10:n[0]=i[l]),n[2]=n[2]/255;for(var u=n.length-1;1<=u;u--)n[u]<=.25?n[u]=0:.25<n[u]&&n[u]<.75?n[u]=.5:n[u]=1;if(n[0]===0&&n[1]===0&&n[2]===1){for(var a=2;0<=a;a--)v[a]=Math.round(1e4*v[a])/1e4;for(var o=0;o<m.length;o++){if(m[o].h===v[0]&&m[o].s===v[1]&&m[o].b===v[2]){s=m[o].name;break}s="white"}}else for(var c=0;c<f.length;c++)if(f[c].h===n[0]&&f[c].s===n[1]&&f[c].b===n[2]){s=f[c].name;break}return s},t=p.default,k.default=t},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t},p="_Description",d="_fallbackDesc",h="_fallbackTable",m="_Label",f="_labelDesc",r="_labelTable";function s(l){if(l==="label"||l==="fallback")throw new Error("description should not be LABEL or FALLBACK");return l.endsWith(".")||l.endsWith(";")||l.endsWith(",")||l.endsWith("?")||l.endsWith("!")||(l+="."),l}T(s,"a"),v.default.prototype.describe=function(l,i){var n;v.default._validateParameters("describe",arguments),typeof l=="string"&&(n=this.canvas.id,l=s(l),this.dummyDOM||(this.dummyDOM=document.getElementById(n).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==l&&(this.descriptions.fallback.innerHTML=l):this._describeHTML("fallback",l),i===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==l&&(this.descriptions.label.innerHTML=l):this._describeHTML("label",l)))},v.default.prototype.describeElement=function(l,i,n){var u,a;v.default._validateParameters("describeElement",arguments),typeof i=="string"&&typeof l=="string"&&(u=this.canvas.id,i=s(i),a=function(o){if(o==="label"||o==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return o.endsWith(".")||o.endsWith(";")||o.endsWith(",")?o=o.replace(/.$/,":"):o.endsWith(":")||(o+=":"),o}(l),l=l.replace(/[^a-zA-Z0-9]/g,""),a='<th scope="row">'.concat(a,"</th><td>").concat(i,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[l]?this.descriptions.fallbackElements[l].innerHTML!==a&&(this.descriptions.fallbackElements[l].innerHTML=a):this._describeElementHTML("fallback",l,a),n===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[l]?this.descriptions.labelElements[l].innerHTML!==a&&(this.descriptions.labelElements[l].innerHTML=a):this._describeElementHTML("label",l,a)))},v.default.prototype._describeHTML=function(l,i){var n,u=this.canvas.id;l==="fallback"?(this.dummyDOM.querySelector("#".concat(u+p))?this.dummyDOM.querySelector("#"+u+h).insertAdjacentHTML("beforebegin",'<p id="'.concat(u+d,'"></p>')):(n='<div id="'.concat(u).concat(p,'" role="region" aria-label="Canvas Description"><p id="').concat(u).concat(d,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutput")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(u)).innerHTML=n),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(u).concat(d)),this.descriptions.fallback.innerHTML=i):l==="label"&&(this.dummyDOM.querySelector("#".concat(u+m))?this.dummyDOM.querySelector("#".concat(u+r))&&this.dummyDOM.querySelector("#".concat(u+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(u).concat(f,'"></p>')):(n='<div id="'.concat(u).concat(m,'" class="p5Label"><p id="').concat(u).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+u).insertAdjacentHTML("afterend",n)),this.descriptions.label=this.dummyDOM.querySelector("#"+u+f),this.descriptions.label.innerHTML=i)},v.default.prototype._describeElementHTML=function(l,i,n){var u,a=this.canvas.id;l==="fallback"?(this.dummyDOM.querySelector("#".concat(a+p))?this.dummyDOM.querySelector("#"+a+h)||this.dummyDOM.querySelector("#"+a+d).insertAdjacentHTML("afterend",'<table id="'.concat(a).concat(h,'"><caption>Canvas elements and their descriptions</caption></table>')):(u='<div id="'.concat(a).concat(p,'" role="region" aria-label="Canvas Description"><table id="').concat(a).concat(h,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(a,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(a,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+a).innerHTML=u),(u=document.createElement("tr")).id=a+"_fte_"+i,this.dummyDOM.querySelector("#"+a+h).appendChild(u),this.descriptions.fallbackElements[i]=this.dummyDOM.querySelector("#".concat(a).concat("_fte_").concat(i)),this.descriptions.fallbackElements[i].innerHTML=n):l==="label"&&(this.dummyDOM.querySelector("#".concat(a+m))?this.dummyDOM.querySelector("#".concat(a+r))||this.dummyDOM.querySelector("#"+a+f).insertAdjacentHTML("afterend",'<table id="'.concat(a+r,'"></table>')):(u='<div id="'.concat(a).concat(m,'" class="p5Label"><table id="').concat(a).concat(r,'"></table></div>'),this.dummyDOM.querySelector("#".concat(a,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(a,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+a).insertAdjacentHTML("afterend",u)),(l=document.createElement("tr")).id=a+"_lte_"+i,this.dummyDOM.querySelector("#"+a+r).appendChild(l),this.descriptions.labelElements[i]=this.dummyDOM.querySelector("#".concat(a).concat("_lte_").concat(i)),this.descriptions.labelElements[i].innerHTML=n)},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(v){var p,d,h,m;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(p=this._accessibleOutputs[v],h=function(f,r,s,l){return r="".concat(r," canvas, ").concat(s," by ").concat(l," pixels, contains ").concat(f[0]),r=(f[0]===1?"".concat(r," shape: "):"".concat(r," shapes: ")).concat(f[1]),r}((d=function(f,r){var s,l="",i="",n=0;for(s in r){var u,a=0;for(u in r[s]){var o='<li id="'.concat(f,"shape").concat(n,'">').concat(r[s][u].color," ").concat(s,",");s==="line"?o+=" location = ".concat(r[s][u].pos,", length = ").concat(r[s][u].length," pixels"):(o+=" location = ".concat(r[s][u].pos),s!=="point"&&(o+=", area = ".concat(r[s][u].area," %")),o+="</li>"),l+=o,a++,n++}i=1<a?"".concat(i," ").concat(a," ").concat(s,"s"):"".concat(i," ").concat(a," ").concat(s)}return{numShapes:[n,i],details:l}}(v,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(f,r){var s,l,i=0,n="",u=Array.from(Array(10),function(){return Array(10)});for(s in r)for(var a in r[s]){var o=void 0;o=s!=="line"?'<a href="#'.concat(f,"shape").concat(i,'">').concat(r[s][a].color," ").concat(s,"</a>"):'<a href="#'.concat(f,"shape").concat(i,'">').concat(r[s][a].color," ").concat(s," midpoint</a>"),u[r[s][a].loc.locY][r[s][a].loc.locX]?u[r[s][a].loc.locY][r[s][a].loc.locX]=u[r[s][a].loc.locY][r[s][a].loc.locX]+"  "+o:u[r[s][a].loc.locY][r[s][a].loc.locX]=o,i++}for(l in u){var c,y="<tr>";for(c in u[l])y+="<td>",u[l][c]!==void 0&&(y+=u[l][c]),y+="</td>";n=n+y+"</tr>"}return n}(v,this.ingredients.shapes),h!==p.summary.innerHTML&&(p.summary.innerHTML=h),m!==p.map.innerHTML&&(p.map.innerHTML=m),d.details!==p.shapeDetails.innerHTML&&(p.shapeDetails.innerHTML=d.details),this._accessibleOutputs[v]=p)},t=t.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(h){return function(m){if(Array.isArray(m)){for(var f=0,r=new Array(m.length);f<m.length;f++)r[f]=m[f];return r}}(h)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(p,"p");function d(h,m,f){return m=Math.floor(h[0]/m*10),h=Math.floor(h[1]/f*10),m===10&&(m-=1),h===10&&(h-=1),{locX:m,locY:h}}T(d,"i"),v.default.prototype.textOutput=function(h){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(h){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(h,m){var f,r,s,l=this.canvas.id,i=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),"");m==="Fallback"?(f=l+h,this.dummyDOM.querySelector("#".concat(r=l+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(l,"_Description"))?this.dummyDOM.querySelector("#".concat(l,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(l)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(f=l+h+(i=m),this.dummyDOM.querySelector("#".concat(r=l+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(l,"_Label"))?this.dummyDOM.querySelector("#".concat(l,"_Label")):this.dummyDOM.querySelector("#".concat(l))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[f]={},h==="textOutput"?(i="#".concat(l,"gridOutput").concat(i),s='<div id="'.concat(f,'">Text Output<div id="').concat(f,'Summary" aria-label="text output summary"><p id="').concat(f,'_summary"></p><ul id="').concat(f,'_list"></ul></div><table id="').concat(f,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#".concat(r)).innerHTML=s,this._accessibleOutputs[f].list=this.dummyDOM.querySelector("#".concat(f,"_list"))):h==="gridOutput"&&(i="#".concat(l,"textOutput").concat(i),s='<div id="'.concat(f,'">Grid Output<p id="').concat(f,'_summary" aria-label="grid output summary"><table id="').concat(f,'_map" summary="grid output content"></table><ul id="').concat(f,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("afterend",s):this.dummyDOM.querySelector("#".concat(r)).innerHTML=s,this._accessibleOutputs[f].map=this.dummyDOM.querySelector("#".concat(f,"_map"))),this._accessibleOutputs[f].shapeDetails=this.dummyDOM.querySelector("#".concat(f,"_shapeDetails")),this._accessibleOutputs[f].summary=this.dummyDOM.querySelector("#".concat(f,"_summary"))},v.default.prototype._updateAccsOutput=function(){var h=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(h+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(h+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(h+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(h+"gridOutputLabel"))},v.default.prototype._accsBackground=function(h){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==h&&(this.ingredients.colors.backgroundRGBA=h,this.ingredients.colors.background=this._rgbColorName(h))},v.default.prototype._accsCanvasColors=function(h,m){h==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):h==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},v.default.prototype._accsOutput=function(h,m){h==="ellipse"&&m[2]===m[3]?h="circle":h==="rectangle"&&m[2]===m[3]&&(h="square");var f,r,s={},l=!0,i=function(u,a){var o;return u=u==="rectangle"||u==="ellipse"||u==="arc"||u==="circle"||u==="square"?(o=Math.round(a[0]+a[2]/2),Math.round(a[1]+a[3]/2)):u==="triangle"?(o=(a[0]+a[2]+a[4])/3,(a[1]+a[3]+a[5])/3):u==="quadrilateral"?(o=(a[0]+a[2]+a[4]+a[6])/4,(a[1]+a[3]+a[5]+a[7])/4):u==="line"?(o=(a[0]+a[2])/2,(a[1]+a[3])/2):(o=a[0],a[1]),[o,u]}(h,m);if(h==="line"?(s.color=this.ingredients.colors.stroke,s.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),f=this._getPos(m[0],[1]),r=this._getPos(m[2],[3]),s.loc=d(i,this.width,this.height),s.pos=f===r?"at ".concat(f):"from ".concat(f," to ").concat(r)):(h==="point"?s.color=this.ingredients.colors.stroke:(s.color=this.ingredients.colors.fill,s.area=this._getArea(h,m)),s.pos=this._getPos.apply(this,p(i)),s.loc=d(i,this.width,this.height)),this.ingredients.shapes[h]){if(this.ingredients.shapes[h]!==[s]){for(var n in this.ingredients.shapes[h])JSON.stringify(this.ingredients.shapes[h][n])===JSON.stringify(s)&&(l=!1);l===!0&&this.ingredients.shapes[h].push(s)}}else this.ingredients.shapes[h]=[s]},v.default.prototype._getPos=function(r,f){var r=new DOMPointReadOnly(r,f),f=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),r=r.matrixTransform(f),f=r.x,r=r.y,s=this.width,l=this.height;return f<.4*s?r<.4*l?"top left":.6*l<r?"bottom left":"mid left":.6*s<f?r<.4*l?"top right":.6*l<r?"bottom right":"mid right":r<.4*l?"top middle":.6*l<r?"bottom middle":"middle"},v.default.prototype._getArea=function(h,m){var f,r,s=0,l=(h==="arc"?(s=(f=((m[5]-m[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*m[2]*m[3]/8,m[6]!=="open"&&m[6]!=="chord"||(r=m[0],a=m[1],l=m[0]+m[2]/2*Math.cos(m[4]).toFixed(2),o=m[1]+m[3]/2*Math.sin(m[4]).toFixed(2),n=m[0]+m[2]/2*Math.cos(m[5]).toFixed(2),i=m[1]+m[3]/2*Math.sin(m[5]).toFixed(2),r=Math.abs(r*(o-i)+l*(i-a)+n*(a-o))/2,f>Math.PI?s+=r:s-=r)):h==="ellipse"||h==="circle"?s=3.14*m[2]/2*m[3]/2:h==="line"||h==="point"?s=0:h==="quadrilateral"?s=Math.abs((m[6]+m[0])*(m[7]-m[1])+(m[0]+m[2])*(m[1]-m[3])+(m[2]+m[4])*(m[3]-m[5])+(m[4]+m[6])*(m[5]-m[7]))/2:h==="rectangle"||h==="square"?s=m[2]*m[3]:h==="triangle"&&(s=Math.abs(m[0]*(m[3]-m[5])+m[2]*(m[5]-m[1])+m[4]*(m[1]-m[3]))/2),this.width*this._pixelDensity),i=this.height*this._pixelDensity,n=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,i),new DOMPoint(0,i)],u=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),a=n.map(function(c){return c.matrixTransform(u)}),o=Math.abs((a[3].x+a[0].x)*(a[3].y-a[0].y)+(a[0].x+a[1].x)*(a[0].y-a[1].y)+(a[1].x+a[2].x)*(a[1].y-a[2].y)+(a[2].x+a[3].x)*(a[2].y-a[3].y))/2;return Math.round(100*s/o)},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(v){var p,d,h,m;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(p=this._accessibleOutputs[v],h=function(f,r,s,l){return s="Your output is a, ".concat(s," by ").concat(l," pixels, ").concat(r," canvas containing the following"),s=f===1?"".concat(s," shape:"):"".concat(s," ").concat(f," shapes:"),s}((d=function(f,r){var s,l="",i=0;for(s in r)for(var n in r[s]){var u='<li><a href="#'.concat(f,"shape").concat(i,'">').concat(r[s][n].color," ").concat(s,"</a>");s==="line"?u+=", ".concat(r[s][n].pos,", ").concat(r[s][n].length," pixels long.</li>"):(u+=", at ".concat(r[s][n].pos),s!=="point"&&(u+=", covering ".concat(r[s][n].area,"% of the canvas")),u+=".</li>"),l+=u,i++}return{numShapes:i,listShapes:l}}(v,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(f,r){var s,l="",i=0;for(s in r)for(var n in r[s]){var u='<tr id="'.concat(f,"shape").concat(i,'"><th>').concat(r[s][n].color," ").concat(s,"</th>");s==="line"?u+="<td>location = ".concat(r[s][n].pos,"</td><td>length = ").concat(r[s][n].length," pixels</td></tr>"):(u+="<td>location = ".concat(r[s][n].pos,"</td>"),s!=="point"&&(u+="<td> area = ".concat(r[s][n].area,"%</td>")),u+="</tr>"),l+=u,i++}return l}(v,this.ingredients.shapes),h!==p.summary.innerHTML&&(p.summary.innerHTML=h),d.listShapes!==p.list.innerHTML&&(p.list.innerHTML=d.listShapes),m!==p.shapeDetails.innerHTML&&(p.shapeDetails.innerHTML=m),this._accessibleOutputs[v]=p)},t=t.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(t,Y,k){"use strict";var v=(v=t("./core/main"))&&v.__esModule?v:{default:v};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),Y.exports=v.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(v){var p=v[0],d=v[1],h=v[2],m=(2-d)*h/2;return m!=0&&(m==1?d=0:m<.5?d/=2-d:d=d*h/(2-2*m)),[p,d,m,v[3]]},_hsbaToRGBA:function(v){var p,d,h,m,f,r=6*v[0],s=v[1],l=v[2];return s===0?[l,l,l,v[3]]:(d=l*(1-s),h=l*(1-s*(r-(p=Math.floor(r)))),s=l*(1-s*(1+p-r)),r=p===1?(m=h,f=l,d):p===2?(m=d,f=l,s):p===3?(m=d,f=h,l):p===4?(m=s,f=d,l):p===5?(m=l,f=d,h):(m=l,f=s,d),[m,f,r,v[3]])},_hslaToHSBA:function(v){var p=v[0],d=v[1],h=v[2],m=h<.5?(1+d)*h:h+d-h*d;return[p,d=2*(m-h)/m,m,v[3]]},_hslaToRGBA:function(v){var p,d=6*v[0],h=v[1],m=v[2];return h===0?[m,m,m,v[3]]:[(p=T(function(f,r,s){return f<0?f+=6:6<=f&&(f-=6),f<1?r+(s-r)*f:f<3?s:f<4?r+(s-r)*(4-f):r},"p"))(2+d,h=2*m-(m=m<.5?(1+h)*m:m+h-m*h),m),p(d,h,m),p(d-2,h,m),v[3]]},_rgbaToHSBA:function(v){var p,d,h=v[0],m=v[1],f=v[2],r=Math.max(h,m,f),s=r-Math.min(h,m,f);return s==0?d=p=0:(d=s/r,h===r?p=(m-f)/s:m===r?p=2+(f-h)/s:f===r&&(p=4+(h-m)/s),p<0?p+=6:6<=p&&(p-=6)),[p/6,d,r,v[3]]},_rgbaToHSLA:function(v){var p,d,h=v[0],m=v[1],f=v[2],r=Math.max(h,m,f),l=Math.min(h,m,f),s=r+l,l=r-l;return l==0?d=p=0:(d=s<1?l/s:l/(2-s),h===r?p=(m-f)/l:m===r?p=2+(f-h)/l:f===r&&(p=4+(h-m)/l),p<0?p+=6:6<=p&&(p-=6)),[p/6,d,s/2,v[3]]}},t=t.default.ColorConversion,k.default=t},{"../core/main":275}],261:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(f=t("../core/main"))&&f.__esModule?f:{default:f},h=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=T(function(){return r},"y"),r)}T(m,"y"),t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),d.default.prototype.alpha=function(r){return d.default._validateParameters("alpha",arguments),this.color(r)._getAlpha()},d.default.prototype.blue=function(r){return d.default._validateParameters("blue",arguments),this.color(r)._getBlue()},d.default.prototype.brightness=function(r){return d.default._validateParameters("brightness",arguments),this.color(r)._getBrightness()},d.default.prototype.color=function(){var r;return d.default._validateParameters("color",arguments),arguments[0]instanceof d.default.Color?arguments[0]:(r=arguments[0]instanceof Array?arguments[0]:arguments,new d.default.Color(this,r))},d.default.prototype.green=function(r){return d.default._validateParameters("green",arguments),this.color(r)._getGreen()},d.default.prototype.hue=function(r){return d.default._validateParameters("hue",arguments),this.color(r)._getHue()},d.default.prototype.lerpColor=function(r,s,l){d.default._validateParameters("lerpColor",arguments);var i,n,u,a=this._colorMode,o=this._colorMaxes;if(a===h.RGB)n=r.levels.map(function(c){return c/255}),u=s.levels.map(function(c){return c/255});else if(a===h.HSB)r._getBrightness(),s._getBrightness(),n=r.hsba,u=s.hsba;else{if(a!==h.HSL)throw new Error("".concat(a,"cannot be used for interpolation."));r._getLightness(),s._getLightness(),n=r.hsla,u=s.hsla}return l=Math.max(Math.min(l,1),0),this.lerp===void 0&&(this.lerp=function(c,y,_){return _*(y-c)+c}),r=this.lerp(n[0],u[0],l),s=this.lerp(n[1],u[1],l),i=this.lerp(n[2],u[2],l),n=this.lerp(n[3],u[3],l),r*=o[a][0],s*=o[a][1],i*=o[a][2],n*=o[a][3],this.color(r,s,i,n)},d.default.prototype.lightness=function(r){return d.default._validateParameters("lightness",arguments),this.color(r)._getLightness()},d.default.prototype.red=function(r){return d.default._validateParameters("red",arguments),this.color(r)._getRed()},d.default.prototype.saturation=function(r){return d.default._validateParameters("saturation",arguments),this.color(r)._getSaturation()};var f=d.default;k.default=f},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(i,Y,k){"use strict";function v(c){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}T(v,"m");function p(c){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(y){return v(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(c)}T(p,"p"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.trim"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=r(i("../core/main")),h=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var y=f();if(y&&y.has(c))return y.get(c);var _,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var w;Object.prototype.hasOwnProperty.call(c,_)&&((w=b?Object.getOwnPropertyDescriptor(c,_):null)&&(w.get||w.set)?Object.defineProperty(x,_,w):x[_]=c[_])}return x.default=c,y&&y.set(c,x),x}(i("../core/constants")),m=r(i("./color_conversion"));function f(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,f=T(function(){return c},"g"),c)}T(f,"g");function r(c){return c&&c.__esModule?c:{default:c}}T(r,"r");function s(c,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}T(s,"a");var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=/\s*/,o=/(\d{1,3})/,n=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,u=new RegExp("".concat(n.source,"%")),a={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",n.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",n.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",o.source,",",u.source,",",u.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",o.source,",",u.source,",",u.source,",",n.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",o.source,",",u.source,",",u.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",o.source,",",u.source,",",u.source,",",n.source,"\\)$"].join(i.source),"i")},o=(d.default.Color=function(){function c(b,w){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(b._colorMode,b._colorMaxes),![h.RGB,h.HSL,h.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=c._parseInputs.apply(this,w),this._calculateLevels()}T(c,"d");var y,_,x;return y=c,x=[{key:"_parseInputs",value:function(b,w,M,E){var A,C=arguments.length,I=this.mode,F=this.maxes[I],R=[];if(3<=C){for(R[0]=b/F[0],R[1]=w/F[1],R[2]=M/F[2],R[3]=typeof E=="number"?E/F[3]:1,A=R.length-1;0<=A;--A){var U=R[A];U<0?R[A]=0:1<U&&(R[A]=1)}return I===h.HSL?m.default._hslaToRGBA(R):I===h.HSB?m.default._hsbaToRGBA(R):R}if(C===1&&typeof b=="string"){if(M=b.trim().toLowerCase(),l[M])return c._parseInputs.call(this,l[M]);if(a.HEX3.test(M))return(R=a.HEX3.exec(M).slice(1).map(function(z){return parseInt(z+z,16)/255}))[3]=1,R;if(a.HEX6.test(M))return(R=a.HEX6.exec(M).slice(1).map(function(z){return parseInt(z,16)/255}))[3]=1,R;if(a.HEX4.test(M))return R=a.HEX4.exec(M).slice(1).map(function(z){return parseInt(z+z,16)/255});if(a.HEX8.test(M))return R=a.HEX8.exec(M).slice(1).map(function(z){return parseInt(z,16)/255});if(a.RGB.test(M))return(R=a.RGB.exec(M).slice(1).map(function(z){return z/255}))[3]=1,R;if(a.RGB_PERCENT.test(M))return(R=a.RGB_PERCENT.exec(M).slice(1).map(function(z){return parseFloat(z)/100}))[3]=1,R;if(a.RGBA.test(M))return R=a.RGBA.exec(M).slice(1).map(function(z,P){return P===3?parseFloat(z):z/255});if(a.RGBA_PERCENT.test(M))return R=a.RGBA_PERCENT.exec(M).slice(1).map(function(z,P){return P===3?parseFloat(z):parseFloat(z)/100});if(a.HSL.test(M)?(R=a.HSL.exec(M).slice(1).map(function(z,P){return P===0?parseInt(z,10)/360:parseInt(z,10)/100}))[3]=1:a.HSLA.test(M)&&(R=a.HSLA.exec(M).slice(1).map(function(z,P){return P===0?parseInt(z,10)/360:P===3?parseFloat(z):parseInt(z,10)/100})),(R=R.map(function(z){return Math.max(Math.min(z,1),0)})).length)return m.default._hslaToRGBA(R);if(a.HSB.test(M)?(R=a.HSB.exec(M).slice(1).map(function(z,P){return P===0?parseInt(z,10)/360:parseInt(z,10)/100}))[3]=1:a.HSBA.test(M)&&(R=a.HSBA.exec(M).slice(1).map(function(z,P){return P===0?parseInt(z,10)/360:P===3?parseFloat(z):parseInt(z,10)/100})),R.length){for(A=R.length-1;0<=A;--A)R[A]=Math.max(Math.min(R[A],1),0);return m.default._hsbaToRGBA(R)}R=[1,1,1,1]}else{if(C!==1&&C!==2||typeof b!="number")throw new Error("".concat(arguments,"is not a valid color representation."));R[0]=b/F[2],R[1]=b/F[2],R[2]=b/F[2],R[3]=typeof w=="number"?w/F[3]:1,R=R.map(function(z){return Math.max(Math.min(z,1),0)})}return R}}],(_=[{key:"toString",value:function(b){var w=this.levels,M=this._array,E=M[3];switch(b){case"#rrggbb":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16));case"#rrggbbaa":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16),w[3]<16?"0".concat(w[3].toString(16)):w[3].toString(16));case"#rgb":return"#".concat(Math.round(15*M[0]).toString(16),Math.round(15*M[1]).toString(16),Math.round(15*M[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*M[0]).toString(16),Math.round(15*M[1]).toString(16),Math.round(15*M[2]).toString(16),Math.round(15*M[3]).toString(16));case"rgb":return"rgb(".concat(w[0],", ",w[1],", ",w[2],")");case"rgb%":return"rgb(".concat((100*M[0]).toPrecision(3),"%, ",(100*M[1]).toPrecision(3),"%, ",(100*M[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*M[0]).toPrecision(3),"%, ",(100*M[1]).toPrecision(3),"%, ",(100*M[2]).toPrecision(3),"%, ",(100*M[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",E,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",E,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");default:return"rgba(".concat(w[0],",",w[1],",",w[2],",",E,")")}}},{key:"setRed",value:function(b){this._array[0]=b/this.maxes[h.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(b){this._array[1]=b/this.maxes[h.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(b){this._array[2]=b/this.maxes[h.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(b){this._array[3]=b/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var b=this._array,w=this.levels=new Array(b.length),M=b.length-1;0<=M;--M)w[M]=Math.round(255*b[M]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(b,w){this.mode=b,this.maxes=w}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[h.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[h.RGB][1]}},{key:"_getHue",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[h.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])}}])&&s(y.prototype,_),x&&s(y,x),c}(),d.default.Color);k.default=o},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(f=t("../core/main"))&&f.__esModule?f:{default:f},h=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=T(function(){return r},"y"),r)}T(m,"y"),t("./p5.Color"),d.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},d.default.prototype.endClip=function(){this._renderer.endClip()},d.default.prototype.clip=function(r,s){this._renderer.beginClip(s),r(),this._renderer.endClip(s)},d.default.prototype.background=function(){var r;return(r=this._renderer).background.apply(r,arguments),this},d.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},d.default.prototype.colorMode=function(r,s,l,i,n){return d.default._validateParameters("colorMode",arguments),r!==h.RGB&&r!==h.HSB&&r!==h.HSL||(this._colorMode=r,r=this._colorMaxes[r],arguments.length===2?(r[0]=s,r[1]=s,r[2]=s,r[3]=s):arguments.length===4?(r[0]=s,r[1]=l,r[2]=i):arguments.length===5&&(r[0]=s,r[1]=l,r[2]=i,r[3]=n)),this},d.default.prototype.fill=function(){var r;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(r=this._renderer).fill.apply(r,arguments),this},d.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},d.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},d.default.prototype.stroke=function(){var r;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(r=this._renderer).stroke.apply(r,arguments),this},d.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},d.default.prototype.noErase=function(){return this._renderer.noErase(),this};var f=d.default;k.default=f},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.QUADRATIC=k.LINEAR=k._CTX_MIDDLE=k._DEFAULT_LEADMULT=k._DEFAULT_TEXT_FILL=k.WORD=k.CHAR=k.BOLDITALIC=k.BOLD=k.ITALIC=k.NORMAL=k.BLUR=k.ERODE=k.DILATE=k.POSTERIZE=k.INVERT=k.OPAQUE=k.GRAY=k.THRESHOLD=k.BURN=k.DODGE=k.SOFT_LIGHT=k.HARD_LIGHT=k.OVERLAY=k.REPLACE=k.SCREEN=k.MULTIPLY=k.EXCLUSION=k.SUBTRACT=k.DIFFERENCE=k.LIGHTEST=k.DARKEST=k.ADD=k.REMOVE=k.BLEND=k.UP_ARROW=k.TAB=k.SHIFT=k.RIGHT_ARROW=k.RETURN=k.OPTION=k.LEFT_ARROW=k.ESCAPE=k.ENTER=k.DOWN_ARROW=k.DELETE=k.CONTROL=k.BACKSPACE=k.ALT=k.AUTO=k.HSL=k.HSB=k.RGB=k.MITER=k.BEVEL=k.ROUND=k.SQUARE=k.PROJECT=k.PIE=k.CHORD=k.OPEN=k.CLOSE=k.TESS=k.QUAD_STRIP=k.QUADS=k.TRIANGLE_STRIP=k.TRIANGLE_FAN=k.TRIANGLES=k.LINE_LOOP=k.LINE_STRIP=k.LINES=k.POINTS=k.BASELINE=k.BOTTOM=k.TOP=k.CENTER=k.LEFT=k.RIGHT=k.RADIUS=k.CORNERS=k.CORNER=k.RAD_TO_DEG=k.DEG_TO_RAD=k.RADIANS=k.DEGREES=k.TWO_PI=k.TAU=k.QUARTER_PI=k.PI=k.HALF_PI=k.WAIT=k.TEXT=k.MOVE=k.HAND=k.CROSS=k.ARROW=k.WEBGL2=k.WEBGL=k.P2D=k.VERSION=void 0,k.RGBA=k.HALF_FLOAT=k.FLOAT=k.UNSIGNED_INT=k.UNSIGNED_BYTE=k.COVER=k.CONTAIN=k.FALLBACK=k.LABEL=k.AXES=k.GRID=k._DEFAULT_FILL=k._DEFAULT_STROKE=k.PORTRAIT=k.LANDSCAPE=k.SMOOTH=k.FLAT=k.MIRROR=k.CLAMP=k.REPEAT=k.NEAREST=k.IMAGE=k.IMMEDIATE=k.TEXTURE=k.FILL=k.STROKE=k.CURVE=k.BEZIER=void 0;var v=Math.PI,p=(k.VERSION="1.9.0",k.P2D="p2d",k.WEBGL="webgl",k.WEBGL2="webgl2",k.ARROW="default",k.CROSS="crosshair",k.HAND="pointer",k.MOVE="move",k.TEXT="text",k.WAIT="wait",v/2),p=(k.HALF_PI=p,v),p=(k.PI=p,v/4),p=(k.QUARTER_PI=p,2*v),p=(k.TAU=p,2*v),p=(k.TWO_PI=p,k.DEGREES="degrees",k.RADIANS="radians",v/180),p=(k.DEG_TO_RAD=p,180/v);k.RAD_TO_DEG=p,k.CORNER="corner",k.CORNERS="corners",k.RADIUS="radius",k.RIGHT="right",k.LEFT="left",k.CENTER="center",k.TOP="top",k.BOTTOM="bottom",k.BASELINE="alphabetic",k.POINTS=0,k.LINES=1,k.LINE_STRIP=3,k.LINE_LOOP=2,k.TRIANGLES=4,k.TRIANGLE_FAN=6,k.TRIANGLE_STRIP=5,k.QUADS="quads",k.QUAD_STRIP="quad_strip",k.TESS="tess",k.CLOSE="close",k.OPEN="open",k.CHORD="chord",k.PIE="pie",k.PROJECT="square",k.SQUARE="butt",k.ROUND="round",k.BEVEL="bevel",k.MITER="miter",k.RGB="rgb",k.HSB="hsb",k.HSL="hsl",k.AUTO="auto",k.ALT=18,k.BACKSPACE=8,k.CONTROL=17,k.DELETE=46,k.DOWN_ARROW=40,k.ENTER=13,k.ESCAPE=27,k.LEFT_ARROW=37,k.OPTION=18,k.RETURN=13,k.RIGHT_ARROW=39,k.SHIFT=16,k.TAB=9,k.UP_ARROW=38,k.BLEND="source-over",k.REMOVE="destination-out",k.ADD="lighter",k.DARKEST="darken",k.LIGHTEST="lighten",k.DIFFERENCE="difference",k.SUBTRACT="subtract",k.EXCLUSION="exclusion",k.MULTIPLY="multiply",k.SCREEN="screen",k.REPLACE="copy",k.OVERLAY="overlay",k.HARD_LIGHT="hard-light",k.SOFT_LIGHT="soft-light",k.DODGE="color-dodge",k.BURN="color-burn",k.THRESHOLD="threshold",k.GRAY="gray",k.OPAQUE="opaque",k.INVERT="invert",k.POSTERIZE="posterize",k.DILATE="dilate",k.ERODE="erode",k.BLUR="blur",k.NORMAL="normal",k.ITALIC="italic",k.BOLD="bold",k.BOLDITALIC="bold italic",k.CHAR="CHAR",k.WORD="WORD",k._DEFAULT_TEXT_FILL="#000000",k._DEFAULT_LEADMULT=1.25,k._CTX_MIDDLE="middle",k.LINEAR="linear",k.QUADRATIC="quadratic",k.BEZIER="bezier",k.CURVE="curve",k.STROKE="stroke",k.FILL="fill",k.TEXTURE="texture",k.IMMEDIATE="immediate",k.IMAGE="image",k.NEAREST="nearest",k.REPEAT="repeat",k.CLAMP="clamp",k.MIRROR="mirror",k.FLAT="flat",k.SMOOTH="smooth",k.LANDSCAPE="landscape",k.PORTRAIT="portrait",k._DEFAULT_STROKE="#000000",k._DEFAULT_FILL="#FFFFFF",k.GRID="grid",k.AXES="axes",k.LABEL="label",k.FALLBACK="fallback",k.CONTAIN="contain",k.COVER="cover",k.UNSIGNED_BYTE="unsigned-byte",k.UNSIGNED_INT="unsigned-int",k.FLOAT="float",k.HALF_FLOAT="half-float",k.RGBA="rgba"},{}],265:[function(t,Y,k){"use strict";function v(n){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}T(v,"m");function p(n){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(u){return v(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(n)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(h=t("./main"))&&h.__esModule?h:{default:h},h=function(n){if(n&&n.__esModule)return n;if(n===null||p(n)!=="object"&&typeof n!="function")return{default:n};var u=m();if(u&&u.has(n))return u.get(n);var a,o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=c?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a])}return o.default=n,u&&u.set(n,o),o}(t("./constants"));function m(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,m=T(function(){return n},"y"),n)}T(m,"y");var f=[h.ARROW,h.CROSS,h.HAND,h.MOVE,h.TEXT,h.WAIT],r=(d.default.prototype._frameRate=0,d.default.prototype._lastFrameTime=window.performance.now(),d.default.prototype._targetFrameRate=60,window.print),s=!1;function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}T(l,"s");function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}T(i,"n"),d.default.prototype.print=function(){var n;arguments.length?(n=console).log.apply(n,arguments):s||(r(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(s=!0))},d.default.prototype.frameCount=0,d.default.prototype.deltaTime=0,d.default.prototype.focused=document.hasFocus(),d.default.prototype.cursor=function(n,u,a){var o,c="auto",y=this._curElement.elt;f.includes(n)?c=n:typeof n=="string"&&(o="",u&&a&&typeof u=="number"&&typeof a=="number"&&(o="".concat(u," ").concat(a)),c=n.substring(0,7)==="http://"||n.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(n)?"url(".concat(n,") ").concat(o,", auto"):n),y.style.cursor=c},d.default.prototype.frameRate=function(n){return d.default._validateParameters("frameRate",arguments),typeof n!="number"||n<0?this._frameRate:(this._setProperty("_targetFrameRate",n),n===0&&this._setProperty("_frameRate",n),this)},d.default.prototype.getFrameRate=function(){return this.frameRate()},d.default.prototype.setFrameRate=function(n){return this.frameRate(n)},d.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},d.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},d.default.prototype.webglVersion=h.P2D,d.default.prototype.displayWidth=screen.width,d.default.prototype.displayHeight=screen.height,d.default.prototype.windowWidth=l(),d.default.prototype.windowHeight=i(),d.default.prototype._onresize=function(n){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",i());var u=this._isGlobal?window:this;typeof u.windowResized!="function"||(u=u.windowResized(n))===void 0||u||n.preventDefault()},d.default.prototype.width=0,d.default.prototype.height=0,d.default.prototype.fullscreen=function(n){if(d.default._validateParameters("fullscreen",arguments),n===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(n){if(n=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},d.default.prototype.pixelDensity=function(n){var u;return d.default._validateParameters("pixelDensity",arguments),typeof n=="number"?(n!==this._pixelDensity&&(this._pixelDensity=n),(u=this).resizeCanvas(this.width,this.height,!0)):u=this._pixelDensity,u},d.default.prototype.displayDensity=function(){return window.devicePixelRatio},d.default.prototype.getURL=function(){return location.href},d.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(n){return n!==""})},d.default.prototype.getURLParams=function(){for(var n,u=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,a={};(n=u.exec(location.search))!=null;)n.index===u.lastIndex&&u.lastIndex++,a[n[1]]=n[2];return a},t=d.default,k.default=t},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(f=t("../main"))&&f.__esModule?f:{default:f};t("../internationalization");function p(r,s){s=s||console.log.bind(console),d||m(),d.some(function(l){var i;if(r.message&&r.message.match("\\W?".concat(l.name,"\\W"))!==null)return i=l.type==="function"?"".concat(l.name,"()"):l.name,s("Did you just try to use p5.js's ".concat(i," ").concat(l.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(h)),!0})}T(p,"p");var d=null,m=null,h=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},d=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=T(function(){function r(l){return Object.getOwnPropertyNames(l).filter(function(i){return i[0]!=="_"&&!(i in s)&&(s[i]=!0)}).map(function(i){var n=typeof l[i]=="function"?"function":i===i.toUpperCase()?"constant":"variable";return{name:i,type:n}})}T(r,"r");var s={};(d=[].concat(r(v.default.prototype),r(t("../constants")))).sort(function(l,i){return i.name.length-l.name.length})},"y"),f=(v.default.prototype._helpForMisusedAtTopLevelCode=p,document.readyState!=="complete"&&(window.addEventListener("error",p,!1),window.addEventListener("load",function(){window.removeEventListener("error",p,!1)})),v.default);k.default=f},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(v=t("../main"))&&v.__esModule?v:{default:v};t("../internationalization"),v.default._friendlyFileLoadError=function(){},t=v.default,k.default=t},{"../internationalization":273,"../main":275}],268:[function(t,Y,k){"use strict";function v(L){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(L)}T(v,"m");function p(L){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(G){return v(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":v(G)})(L)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=z(t("../main")),h=t("../internationalization"),m=U(t("../constants")),f,r,s,l,i,n,u,a,o,c,y,_,x,b,w,M,E,A,C,I,F;function R(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,R=T(function(){return L},"L"),L)}T(R,"L");function U(L){if(L&&L.__esModule)return L;if(L===null||p(L)!=="object"&&typeof L!="function")return{default:L};var G=R();if(G&&G.has(L))return G.get(L);var N,Z,oe={},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in L)Object.prototype.hasOwnProperty.call(L,N)&&((Z=ie?Object.getOwnPropertyDescriptor(L,N):null)&&(Z.get||Z.set)?Object.defineProperty(oe,N,Z):oe[N]=L[N]);return oe.default=L,G&&G.set(L,oe),oe}T(U,"z");function z(L){return L&&L.__esModule?L:{default:L}}T(z,"U");function P(L){return ae(L)||Q(L)||W()}T(P,"N");function W(){throw new TypeError("Invalid attempt to spread non-iterable instance")}T(W,"q");function Q(L){if(Symbol.iterator in Object(L)||Object.prototype.toString.call(L)==="[object Arguments]")return Array.from(L)}T(Q,"X");function ae(L){if(Array.isArray(L)){for(var G=0,N=new Array(L.length);G<L.length;G++)N[G]=L[G];return N}}T(ae,"ie"),d.default._fesCodeReader=function(){};var j=d.default;k.default=j},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(t,Y,k){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function v(){var p=/(^|@)\S+:\d+/,d=/^\s*at .*(\S+:\d+|\(native\))/m,h=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(d)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(f){return!!f.match(d)},this).map(function(f){var r=(f=-1<f.indexOf("(eval ")?f.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):f).replace(/^\s+/,"").replace(/\(eval code/g,"("),s=r.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=s?r.replace(s[0],""):r).split(/\s+/).slice(1),s=this.extractLocation(s?s[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(s[0])?void 0:s[0],lineNumber:s[1],columnNumber:s[2],source:f}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(f){return!f.match(h)},this).map(function(f){var r,s;return(f=-1<f.indexOf(" > eval")?f.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):f).indexOf("@")===-1&&f.indexOf(":")===-1?{functionName:f}:{functionName:(s=f.match(r=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&s[1]?s[1]:void 0,fileName:(s=this.extractLocation(f.replace(r,"")))[0],lineNumber:s[1],columnNumber:s[2],source:f}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var f=/Line (\d+).*script (?:in )?(\S+)/i,r=m.message.split(`
`),s=[],l=2,i=r.length;l<i;l+=2){var n=f.exec(r[l]);n&&s.push({fileName:n[2],lineNumber:n[1],source:r[l]})}return s},parseOpera10:function(m){for(var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=m.stacktrace.split(`
`),s=[],l=0,i=r.length;l<i;l+=2){var n=f.exec(r[l]);n&&s.push({functionName:n[3]||void 0,fileName:n[2],lineNumber:n[1],source:r[l]})}return s},parseOpera11:function(m){return m.stack.split(`
`).filter(function(f){return!!f.match(p)&&!f.match(/^Error created at/)},this).map(function(f){var r,l=f.split("@"),s=this.extractLocation(l.pop()),l=l.shift()||"";return{functionName:l.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(r=l.match(/\(([^)]*)\)/)?l.replace(/^[^(]+\(([^)]*)\)$/,"$1"):r)===void 0||r==="[arguments not available]"?void 0:r.split(","),fileName:s[0],lineNumber:s[1],columnNumber:s[2],source:f}},this)}}}T(v,"m"),t.default._getErrorStackParser=function(){return new v},t=t.default,k.default=t},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(t,Y,k){"use strict";function v(m){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=(p=t("../main"))&&p.__esModule?p:{default:p};(function(m){if(!(m&&m.__esModule)&&!(m===null||h(m)!=="object"&&typeof m!="function")){var f=d();if(f&&f.has(m))return f.get(m);var r,s={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in m){var i;Object.prototype.hasOwnProperty.call(m,r)&&((i=l?Object.getOwnPropertyDescriptor(m,r):null)&&(i.get||i.set)?Object.defineProperty(s,r,i):s[r]=m[r])}s.default=m,f&&f.set(m,s)}})(t("../constants")),t("../internationalization");function d(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,d=T(function(){return m},"i"),m)}T(d,"i");function h(m){return(h=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(f){return v(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(m)}T(h,"f"),p.default._validateParameters=p.default._clearValidateParamsCache=function(){},t=p.default,k.default=t},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(t,Y,k){"use strict";function v(m){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}T(v,"m");function p(m){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(f){return v(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(m)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=function(m){if(m&&m.__esModule)return m;if(m===null||p(m)!=="object"&&typeof m!="function")return{default:m};var f=h();if(f&&f.has(m))return f.get(m);var r,s={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in m){var i;Object.prototype.hasOwnProperty.call(m,r)&&((i=l?Object.getOwnPropertyDescriptor(m,r):null)&&(i.get||i.set)?Object.defineProperty(s,r,i):s[r]=m[r])}return s.default=m,f&&f.set(m,s),s}(t("./constants"));function h(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,h=T(function(){return m},"f"),m)}T(h,"f"),k.default={modeAdjust:function(m,f,r,s,l){return l===d.CORNER?{x:m,y:f,w:r,h:s}:l===d.CORNERS?{x:m,y:f,w:r-m,h:s-f}:l===d.RADIUS?{x:m-r,y:f-s,w:2*r,h:2*s}:l===d.CENTER?{x:m-.5*r,y:f-.5*s,w:r,h:s}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(t,Y,k){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var v=(p=t("../core/main"))&&p.__esModule?p:{default:p};t("./internationalization");var p=Promise.resolve();Promise.all([new Promise(function(d,h){document.readyState==="complete"?d():window.addEventListener("load",d,!1)}),p]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!v.default.instance&&new v.default})},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(t,Y,k){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.setTranslatorLanguage=k.currentTranslatorLanguage=k.availableTranslatorLanguages=k.initialize=k.translator=void 0;var v,p,d=m(t("i18next")),h=m(t("i18next-browser-languagedetector"));function m(s){return s&&s.__esModule?s:{default:s}}T(m,"y");function f(s,l){for(var i=0;i<l.length;i++){var n=l[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}T(f,"g");var r=function(){function s(u,a){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.init(u,a)}T(s,"a");var l,i,n;return l=s,(i=[{key:"fetchWithTimeout",value:function(u,a){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(u,a),new Promise(function(c,y){return setTimeout(function(){return y(new Error("timeout"))},o)})])}},{key:"init",value:function(u){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=u,this.options=a}},{key:"read",value:function(u,a,o){var c=this.options.loadPath;u===this.options.fallback?o(null,v[u][a]):p.includes(u)?(c=this.services.interpolator.interpolate(c,{lng:u,ns:a}),this.loadUrl(c,o)):o("Not found",!1)}},{key:"loadUrl",value:function(u,a){this.fetchWithTimeout(u).then(function(o){if(o.ok)return o.json();throw new Error("failed loading ".concat(u))},function(){throw new Error("failed loading ".concat(u))}).then(function(o){return a(null,o)}).catch(a)}}])&&f(l.prototype,i),n&&f(l,n),s}();r.type="backend",k.translator=function(s,l){console.debug("p5.js translator called before translations were loaded"),d.default.t(s,l)},k.initialize=function(){return d.default.use(h.default).use(r).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(s){k.translator=s},function(s){return console.debug("Translations failed to load (".concat(s,")"))})},k.availableTranslatorLanguages=function(){return d.default.languages},k.currentTranslatorLanguage=function(s){return d.default.language},k.setTranslatorLanguage=function(s){return d.default.changeLanguage(s||void 0,function(l){return console.debug("Translations failed to load (".concat(l,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,k.default=t},{"./main":275}],275:[function(t,Y,k){"use strict";function v(s){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}T(v,"m");function p(s){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(l){return v(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t("./shim");var d=function(s){if(s&&s.__esModule)return s;if(s===null||p(s)!=="object"&&typeof s!="function")return{default:s};var l=h();if(l&&l.has(s))return l.get(s);var i,n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var a;Object.prototype.hasOwnProperty.call(s,i)&&((a=u?Object.getOwnPropertyDescriptor(s,i):null)&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=s[i])}return n.default=s,l&&l.set(s,n),n}(t("./constants"));function h(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,h=T(function(){return s},"f"),s)}T(h,"f");function m(s,l){for(var i=0;i<l.length;i++){var n=l[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}T(m,"y");var f,r=function(){function s(u,c){var o=this;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=c,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var c=Object.getOwnPropertyNames(s.prototype._registeredMethods),y=!0,_=!1,x=void 0;try{for(var b,w=c[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var M=b.value;this._registeredMethods[M]=s.prototype._registeredMethods[M].slice()}}catch(P){_=!0,x=P}finally{try{y||w.return==null||w.return()}finally{if(_)throw x}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),s.prototype.callRegisteredHooksFor=function(P){var W=this||s.prototype,Q=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(P)){var W=W._registeredMethods[P],ae=!0,P=!1,j=void 0;try{for(var L,G=W[Symbol.iterator]();!(ae=(L=G.next()).done);ae=!0){var N=L.value;typeof N=="function"&&N.call(Q)}}catch(ie){P=!0,j=ie}finally{try{ae||G.return==null||G.return()}finally{if(P)throw j}}}},this._start=function(){o._userNode&&typeof o._userNode=="string"&&(o._userNode=document.getElementById(o._userNode));var P=o._isGlobal?window:o;if(P.preload){o.callRegisteredHooksFor("beforePreload");var W,Q=document.getElementById(o._loadingScreenId),ae=(Q||((Q=document.createElement("div")).innerHTML="Loading...",Q.style.position="absolute",Q.id=o._loadingScreenId,(o._userNode||document.body).appendChild(Q)),o._preloadMethods);for(W in ae){ae[W]=ae[W]||s;var j=ae[W];j!==s.prototype&&j!==s||(o._isGlobal&&(window[W]=o._wrapPreload(o,W)),j=o),o._registeredPreloadMethods[W]=j[W],j[W]=o._wrapPreload(j,W)}P.preload(),o._runIfPreloadsAreDone()}else o._setup(),o._recording||o._draw()},this._runIfPreloadsAreDone=function(){var P,W=this._isGlobal?window:this;W._preloadCount===0&&((P=document.getElementById(W._loadingScreenId))&&P.parentNode.removeChild(P),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var P=this._isGlobal?window:this;P._preloadDone||typeof P.preload!="function"||(P._setProperty("_preloadCount",P._preloadCount-1),P._runIfPreloadsAreDone())},this._wrapPreload=function(P,W){var Q=this;return function(){Q._incrementPreload();for(var ae=arguments.length,j=new Array(ae),L=0;L<ae;L++)j[L]=arguments[L];return Q._registeredPreloadMethods[W].apply(P,j)}},this._incrementPreload=function(){var P=this._isGlobal?window:this;P._preloadDone||P._setProperty("_preloadCount",P._preloadCount+1)},this._setup=function(){o.callRegisteredHooksFor("beforeSetup"),o.createCanvas(o._defaultCanvasSize.width,o._defaultCanvasSize.height,"p2d");var P=o._isGlobal?window:o;if(typeof P.preload=="function")for(var W in o._preloadMethods)P[W]=o._preloadMethods[W][W],P[W]&&o&&(P[W]=P[W].bind(o));o._millisStart=window.performance.now(),P._preloadDone=!0,typeof P.setup=="function"&&P.setup();var Q=document.getElementsByTagName("canvas"),ae=!0,j=!1,L=void 0;try{for(var G,N=Q[Symbol.iterator]();!(ae=(G=N.next()).done);ae=!0){var Z=G.value;Z.dataset.hidden==="true"&&(Z.style.visibility="",delete Z.dataset.hidden)}}catch(oe){j=!0,L=oe}finally{try{ae||N.return==null||N.return()}finally{if(j)throw L}}o._lastTargetFrameTime=window.performance.now(),o._lastRealFrameTime=window.performance.now(),o._setupDone=!0,(o._accessibleOutputs.grid||o._accessibleOutputs.text)&&o._updateAccsOutput(),o.callRegisteredHooksFor("afterSetup")},this._draw=function(){var P=window.performance.now(),W=P-o._lastTargetFrameTime,Q=1e3/o._targetFrameRate;(!o._loop||Q-5<=W)&&(o.deltaTime=P-o._lastRealFrameTime,o._setProperty("deltaTime",o.deltaTime),o._frameRate=1e3/o.deltaTime,o.redraw(),o._lastTargetFrameTime=Math.max(o._lastTargetFrameTime+Q,P),o._lastRealFrameTime=P,o._updateMouseCoords!==void 0&&(o._updateMouseCoords(),o._setProperty("movedX",0),o._setProperty("movedY",0))),o._loop&&(o._requestAnimId=window.requestAnimationFrame(o._draw))},this._setProperty=function(P,W){o[P]=W,o._isGlobal&&(window[P]=W)},this.remove=function(){o._startListener&&window.removeEventListener("load",o._startListener,!1);var P=document.getElementById(o._loadingScreenId);if(P&&(P.parentNode.removeChild(P),o._incrementPreload()),o._curElement){for(var W in o._loop=!1,o._requestAnimId&&window.cancelAnimationFrame(o._requestAnimId),o._events)window.removeEventListener(W,o._events[W]);var Q=!0,P=!1,ae=void 0;try{for(var j,L=o._elements[Symbol.iterator]();!(Q=(j=L.next()).done);Q=!0){var G,N=j.value;for(G in N.elt&&N.elt.parentNode&&N.elt.parentNode.removeChild(N.elt),N._events)N.elt.removeEventListener(G,N._events[G])}}catch(ue){P=!0,ae=ue}finally{try{Q||L.return==null||L.return()}finally{if(P)throw ae}}var Z=o;o._registeredMethods.remove.forEach(function(ue){ue!==void 0&&ue.call(Z)})}if(o._isGlobal){for(var oe in s.prototype)try{delete window[oe]}catch{window[oe]=void 0}for(var ie in o)if(o.hasOwnProperty(ie))try{delete window[ie]}catch{window[ie]=void 0}s.instance=null}},this._registeredMethods.init.forEach(function(P){P!==void 0&&P.call(this)},this),this._setupPromisePreloads();var E,A,C=this._createFriendlyGlobalFunctionBinder();if(u)u(this),s._checkForUserDefinedFunctions(this);else{for(var I in this._isGlobal=!0,s.instance=this,s.prototype)typeof s.prototype[I]=="function"?(E=I.substring(2),this._events.hasOwnProperty(E)||(Math.hasOwnProperty(I)&&Math[I]===s.prototype[I]?C(I,s.prototype[I]):C(I,s.prototype[I].bind(this)))):C(I,s.prototype[I]);for(var F in this)this.hasOwnProperty(F)&&C(F,this[F])}for(A in this._events){var R=this["_on".concat(A)];R&&(R=R.bind(this),window.addEventListener(A,R,{passive:!1}),this._events[A]=R)}function U(){o._setProperty("focused",!0)}T(U,"z");function z(){o._setProperty("focused",!1)}T(z,"U"),window.addEventListener("focus",U),window.addEventListener("blur",z),this.registerMethod("remove",function(){window.removeEventListener("focus",U),window.removeEventListener("blur",z)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}T(s,"a");var l,i,n;return l=s,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=d.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(u,a){s.prototype._preloadMethods.hasOwnProperty(u)||(s.prototype._preloadMethods[u]=a)}},{key:"registerMethod",value:function(u,a){var o=this||s.prototype;o._registeredMethods.hasOwnProperty(u)||(o._registeredMethods[u]=[]),o._registeredMethods[u].push(a)}},{key:"unregisterMethod",value:function(u,a){var o=this||s.prototype;if(o._registeredMethods.hasOwnProperty(u)){for(var c=o._registeredMethods[u],y=[],_=0;_<c.length;_++)c[_]===a&&y.push(_);for(var x=y.length-1;0<=x;x--)c.splice(y[x],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},a=u.globalObject||window;return u.log||console.log.bind(console),function(o,c){s.disableFriendlyErrors,a[o]=c}}}])&&m(l.prototype,i),n&&m(l,n),s}();for(f in r.instance=null,r.disableFriendlyErrors=!1,d)r.prototype[f]=d[f];r.VERSION=d.VERSION,r.prototype._preloadMethods={loadJSON:r.prototype,loadImage:r.prototype,loadStrings:r.prototype,loadXML:r.prototype,loadBytes:r.prototype,loadTable:r.prototype,loadFont:r.prototype,loadModel:r.prototype,loadShader:r.prototype},r.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},r.prototype._registeredPreloadMethods={},k.default=r},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("./main"))&&t.__esModule?t:{default:t};function p(d,h){for(var m=0;m<h.length;m++){var f=h[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}T(p,"p"),v.default.Element=function(){function d(r,s){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.elt=r,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}T(d,"i");var h,m,f;return h=d,f=[{key:"_adjustListener",value:function(r,s,l){return s===!1?v.default.Element._detachListener(r,l):v.default.Element._attachListener(r,s,l),this}},{key:"_attachListener",value:function(r,s,l){l._events[r]&&v.default.Element._detachListener(r,l),s=s.bind(l),l.elt.addEventListener(r,s,!1),l._events[r]=s}},{key:"_detachListener",value:function(r,s){var l=s._events[r];s.elt.removeEventListener(r,l,!1),s._events[r]=null}}],(m=[{key:"parent",value:function(r){return r===void 0?this.elt.parentNode:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof v.default.Element&&(r=r.elt),r.appendChild(this.elt),this)}},{key:"id",value:function(r){return r===void 0?this.elt.id:(this.elt.id=r,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(r){return r===void 0?this.elt.className:(this.elt.className=r,this)}},{key:"mousePressed",value:function(r){return v.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),r.call(this,s)},this),this}},{key:"doubleClicked",value:function(r){return v.default.Element._adjustListener("dblclick",r,this),this}},{key:"mouseWheel",value:function(r){return v.default.Element._adjustListener("wheel",r,this),this}},{key:"mouseReleased",value:function(r){return v.default.Element._adjustListener("mouseup",r,this),this}},{key:"mouseClicked",value:function(r){return v.default.Element._adjustListener("click",r,this),this}},{key:"mouseMoved",value:function(r){return v.default.Element._adjustListener("mousemove",r,this),this}},{key:"mouseOver",value:function(r){return v.default.Element._adjustListener("mouseover",r,this),this}},{key:"mouseOut",value:function(r){return v.default.Element._adjustListener("mouseout",r,this),this}},{key:"touchStarted",value:function(r){return v.default.Element._adjustListener("touchstart",r,this),this}},{key:"touchMoved",value:function(r){return v.default.Element._adjustListener("touchmove",r,this),this}},{key:"touchEnded",value:function(r){return v.default.Element._adjustListener("touchend",r,this),this}},{key:"dragOver",value:function(r){return v.default.Element._adjustListener("dragover",r,this),this}},{key:"dragLeave",value:function(r){return v.default.Element._adjustListener("dragleave",r,this),this}},{key:"_setProperty",value:function(r,s){this[r]=s}}])&&p(h.prototype,m),f&&p(h,f),d}(),t=v.default.Element,k.default=t},{"./main":275}],277:[function(t,Y,k){"use strict";function v(a){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}T(v,"m");function p(a){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(o){return v(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":v(o)})(a)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(u=t("./main"))&&u.__esModule?u:{default:u},h=function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var o=m();if(o&&o.has(a))return o.get(a);var c,y={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var x;Object.prototype.hasOwnProperty.call(a,c)&&((x=_?Object.getOwnPropertyDescriptor(a,c):null)&&(x.get||x.set)?Object.defineProperty(y,c,x):y[c]=a[c])}return y.default=a,o&&o.set(a,y),y}(t("./constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=T(function(){return a},"y"),a)}T(m,"y");function f(a,o){for(var c=0;c<o.length;c++){var y=o[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}T(f,"g");function r(a,o){return(r=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c})(a,o)}T(r,"r");function s(a){return function(){var o,c=n(a);return l(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(o=n(this).constructor,Reflect.construct(c,arguments,o)):c.apply(this,arguments))}}T(s,"a");function l(a,o){return!o||p(o)!=="object"&&typeof o!="function"?i(a):o}T(l,"s");function i(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}T(i,"n");function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(a)}T(n,"l"),d.default.Graphics=function(a){var o=_;if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&r(o,a);var c,y=s(_);function _(x,b,F,M,E){var A;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");I=E||document.createElement("canvas"),(A=y.call(this,I,M)).canvas=I;var C,I=F||h.P2D,F=M._userNode||document.body;for(C in E||F.appendChild(A.canvas),d.default.prototype)A[C]||(typeof d.default.prototype[C]=="function"?A[C]=d.default.prototype[C].bind(i(A)):A[C]=d.default.prototype[C]);return d.default.prototype._initializeInstanceVariables.apply(i(A)),A.width=x,A.height=b,A._pixelDensity=M._pixelDensity,I===h.WEBGL?A._renderer=new d.default.RendererGL(A.canvas,i(A),!1):A._renderer=new d.default.Renderer2D(A.canvas,i(A),!1),M._elements.push(i(A)),Object.defineProperty(i(A),"deltaTime",{get:function(){return this._pInst.deltaTime}}),A._renderer.resize(x,b),A._renderer._applyDefaults(),l(A,i(A))}return T(_,"M"),o=_,(a=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var x,b=this._pInst._elements.indexOf(this);for(x in b!==-1&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(x,this._events[x])}},{key:"createFramebuffer",value:function(x){return new d.default.Framebuffer(this,x)}}])&&f(o.prototype,a),c&&f(o,c),_}(d.default.Element);var u=d.default.Graphics;k.default=u},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(t,Y,k){"use strict";function v(a){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=(n=t("./main"))&&n.__esModule?n:{default:n},d=function(a){if(a&&a.__esModule)return a;if(a===null||m(a)!=="object"&&typeof a!="function")return{default:a};var o=h();if(o&&o.has(a))return o.get(a);var c,y={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var x;Object.prototype.hasOwnProperty.call(a,c)&&((x=_?Object.getOwnPropertyDescriptor(a,c):null)&&(x.get||x.set)?Object.defineProperty(y,c,x):y[c]=a[c])}return y.default=a,o&&o.set(a,y),y}(t("../core/constants"));function h(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,h=T(function(){return a},"f"),a)}T(h,"f");function m(a){return(m=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(o){return v(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":v(o)})(a)}T(m,"y");function f(a,o){for(var c=0;c<o.length;c++){var y=o[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}T(f,"g");function r(a,o){return(r=Object.setPrototypeOf||function(c,y){return c.__proto__=y,c})(a,o)}T(r,"r");function s(a){return function(){var o,c,y=i(a);return o=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(o=i(this).constructor,Reflect.construct(y,arguments,o)):y.apply(this,arguments),y=this,!(c=o)||m(c)!=="object"&&typeof c!="function"?l(y):c}}T(s,"a");function l(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}T(l,"s");function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(a)}T(i,"n");var n=function(a){var o=_;if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&r(o,a);var c,y=s(_);function _(x,b,w){var M;if(this instanceof _)return(M=y.call(this,x,b)).canvas=x,M._pixelsState=b,w?(M._isMainCanvas=!0,M._pInst._setProperty("_curElement",l(M)),M._pInst._setProperty("canvas",M.canvas),M._pInst._setProperty("width",M.width),M._pInst._setProperty("height",M.height)):(M.canvas.style.display="none",M._styles=[]),M._clipping=!1,M._clipInvert=!1,M._textSize=12,M._textLeading=15,M._textFont="sans-serif",M._textStyle=d.NORMAL,M._textAscent=null,M._textDescent=null,M._textAlign=d.LEFT,M._textBaseline=d.BASELINE,M._textWrap=d.WORD,M._rectMode=d.CORNER,M._ellipseMode=d.CENTER,M._curveTightness=0,M._imageMode=d.CORNER,M._tint=null,M._doStroke=!0,M._doFill=!0,M._strokeSet=!1,M._fillSet=!1,M._leadingSet=!1,M._pushPopDepth=0,M;throw new TypeError("Cannot call a class as a function")}return T(_,"M"),o=_,(a=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(x){this._pushPopDepth--,x.properties&&Object.assign(this,x.properties)}},{key:"beginClip",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=x.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(x,b){this.width=x,this.height=b,this.elt.width=x*this._pInst._pixelDensity,this.elt.height=b*this._pInst._pixelDensity,this.elt.style.width="".concat(x,"px"),this.elt.style.height="".concat(b,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(x,b,w,M){var E=this._pixelsState,A=E._pixelDensity,C=this.canvas;if(x===void 0&&b===void 0)x=b=0,w=E.width,M=E.height;else if(x*=A,b*=A,w===void 0&&M===void 0)return x<0||b<0||x>=C.width||b>=C.height?[0,0,0,0]:this._getPixel(x,b);return E=new p.default.Image(w*A,M*A),E.pixelDensity(A),E.canvas.getContext("2d").drawImage(C,x,b,w*A,M*A,0,0,w*A,M*A),E}},{key:"textLeading",value:function(x){return typeof x=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",x),this._pInst):this._textLeading}},{key:"textStyle",value:function(x){return x?(x!==d.NORMAL&&x!==d.ITALIC&&x!==d.BOLD&&x!==d.BOLDITALIC||this._setProperty("_textStyle",x),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(x,b){return x!==void 0?(this._setProperty("_textAlign",x),b!==void 0&&this._setProperty("_textBaseline",b),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(x){return this._setProperty("_textWrap",x),this._textWrap}},{key:"text",value:function(x,b,w,M,E){var A,C,I,F,R=this._pInst,U=this._textWrap,z=Number.MAX_VALUE,P=w;if((this._doFill||this._doStroke)&&x!==void 0){if(A=(x=(x=typeof x!="string"?x.toString():x).replace(/(\t)/g,"  ")).split(`
`),M!==void 0){switch(this._rectMode===d.CENTER&&(b-=M/2),this._textAlign){case d.CENTER:b+=M/2;break;case d.RIGHT:b+=M}if(E!==void 0){this._rectMode===d.CENTER&&(w-=E/2,P-=E/2);var x=w,W=R.textAscent();switch(this._textBaseline){case d.BOTTOM:F=w+E,w=Math.max(F,w),P+=W;break;case d.CENTER:F=w+E/2,w=Math.max(F,w),P+=W/2}z=w+E-W,this._textBaseline===d.CENTER&&(z=x+E-W/2)}else this._textBaseline!==d.BOTTOM&&this._textBaseline!==d.CENTER||(P=w-(x=R.textSize()*this._textLeading)/2,z=w+x/2);if(U===d.WORD){for(var Q=[],ae=0;ae<A.length;ae++){for(var j="",L=A[ae].split(" "),G=0;G<L.length;G++)C="".concat(j+L[G])+" ",j=M<(I=this.textWidth(C))&&0<j.length?(Q.push(j),"".concat(L[G])+" "):C;Q.push(j)}var N=0;this._textBaseline===d.CENTER?N=(Q.length-1)*R.textLeading()/2:this._textBaseline===d.BOTTOM&&(N=(Q.length-1)*R.textLeading());for(var Z=0;Z<A.length;Z++){j="",L=A[Z].split(" ");for(var oe=0;oe<L.length;oe++)C="".concat(j+L[oe])+" ",M<(I=this.textWidth(C))&&0<j.length?(this._renderText(R,j.trim(),b,w-N,z,P),j="".concat(L[oe])+" ",w+=R.textLeading()):j=C;this._renderText(R,j.trim(),b,w-N,z,P),w+=R.textLeading()}}else{for(var ie=[],ce=0;ce<A.length;ce++)for(var ue=A[ce].split(j=""),be=0;be<ue.length;be++)C="".concat(j+ue[be]),(I=this.textWidth(C))<=M?j+=ue[be]:M<I&&0<j.length&&(ie.push(j),j="".concat(ue[be]));ie.push(j);var ye=0;this._textBaseline===d.CENTER?ye=(ie.length-1)*R.textLeading()/2:this._textBaseline===d.BOTTOM&&(ye=(ie.length-1)*R.textLeading());for(var se=0;se<A.length;se++){ue=A[se].split(j="");for(var xe=0;xe<ue.length;xe++)C="".concat(j+ue[xe]),(I=this.textWidth(C))<=M?j+=ue[xe]:M<I&&0<j.length&&(this._renderText(R,j.trim(),b,w-ye,z,P),w+=R.textLeading(),j="".concat(ue[xe]))}this._renderText(R,j.trim(),b,w-ye,z,P),w+=R.textLeading()}}else{var Se=0;this._textBaseline===d.CENTER?Se=(A.length-1)*R.textLeading()/2:this._textBaseline===d.BOTTOM&&(Se=(A.length-1)*R.textLeading());for(var Ie=0;Ie<A.length;Ie++)this._renderText(R,A[Ie],b,w-Se,z,P-Se),w+=R.textLeading()}return R}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(x)==="object"&&x.font&&x.font.supported}},{key:"_updateTextMetrics",value:function(){var x,b,w,M,E,A;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((x=document.createElement("span")).style.fontFamily=this._textFont,x.style.fontSize="".concat(this._textSize,"px"),x.innerHTML="ABCjgq|",(A=document.createElement("div")).style.display="inline-block",A.style.width="1px",A.style.height="0px",M=((b=document.createElement("div")).appendChild(x),b.appendChild(A),b.style.height="0px",b.style.overflow="hidden",document.body.appendChild(b),A.style.verticalAlign="baseline",u(A)),E=u(x),w=M[1]-E[1],M=(A.style.verticalAlign="bottom",u(A)),E=u(x),A=M[1]-E[1]-w,document.body.removeChild(b),this._setProperty("_textAscent",w),this._setProperty("_textDescent",A)),this}}])&&f(o.prototype,a),c&&f(o,c),_}(p.default.Element);function u(a){var o=0,c=0;if(a.offsetParent)for(;o+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;);else o+=a.offsetLeft,c+=a.offsetTop;return[o,c]}T(u,"u"),n.prototype.textSize=function(a){return typeof a=="number"?(this._setProperty("_textSize",a),this._leadingSet||this._setProperty("_textLeading",a*d._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},p.default.Renderer=n,t=p.default.Renderer,k.default=t},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(a,Y,k){"use strict";function v(o){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}T(v,"m");function p(o){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(c){return v(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(o)}T(p,"p"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.reflect.get"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(u=a("./main"))&&u.__esModule?u:{default:u},h=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var c=m();if(c&&c.has(o))return c.get(o);var y,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in o){var b;Object.prototype.hasOwnProperty.call(o,y)&&((b=x?Object.getOwnPropertyDescriptor(o,y):null)&&(b.get||b.set)?Object.defineProperty(_,y,b):_[y]=o[y])}return _.default=o,c&&c.set(o,_),_}(a("./constants"));function m(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,m=T(function(){return o},"y"),o)}T(m,"y");function f(o,c){for(var y=0;y<c.length;y++){var _=c[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}T(f,"g");function r(o,c,y){return(r=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(w,x,b){var w=function(M,E){for(;!Object.prototype.hasOwnProperty.call(M,E)&&(M=i(M))!==null;);return M}(w,x);if(w)return(w=Object.getOwnPropertyDescriptor(w,x)).get?w.get.call(b):w.value})(o,c,y||o)}T(r,"r");function s(o,c){return(s=Object.setPrototypeOf||function(y,_){return y.__proto__=_,y})(o,c)}T(s,"a");function l(o){return function(){var c,y=i(o),y=(c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=i(this).constructor,Reflect.construct(y,arguments,c)):y.apply(this,arguments),this);if(!c||p(c)!=="object"&&typeof c!="function"){if(y!==void 0)return y;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return c}}T(l,"s");function i(o){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}T(i,"n"),a("./p5.Renderer");var n="rgba(0,0,0,0)",u=function(o){var c=x;if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),o&&s(c,o);var y,_=l(x);function x(b,w,M){if(this instanceof x)return(b=_.call(this,b,w,M)).drawingContext=b.canvas.getContext("2d"),b._pInst._setProperty("drawingContext",b.drawingContext),b;throw new TypeError("Cannot call a class as a function")}return T(x,"T"),c=x,(o=[{key:"getFilterGraphicsLayer",value:function(){var b;return this.filterGraphicsLayer||(b=(this._pInst instanceof d.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new d.default.Graphics(this.width,this.height,h.WEBGL,b)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=h.BLEND,this._setFill(h._DEFAULT_FILL),this._setStroke(h._DEFAULT_STROKE),this.drawingContext.lineCap=h.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(b,w){r(i(x.prototype),"resize",this).call(this,b,w),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var b,w;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof d.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(b=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(b,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(b=this._getFill(),w=(w=this._pInst).color.apply(w,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(w.levels),w=w.toString(),this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(b),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var b=(b=this._pInst).color.apply(b,arguments);this._setFill(b.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",b.levels)}},{key:"stroke",value:function(){var b=(b=this._pInst).color.apply(b,arguments);this._setStroke(b.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",b.levels)}},{key:"erase",value:function(b,w){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,b=this._pInst.color(255,b).toString(),this.drawingContext.fillStyle=b,this._cachedStrokeStyle=this.drawingContext.strokeStyle,b=this._pInst.color(255,w).toString(),this.drawingContext.strokeStyle=b,w=this._cachedBlendMode,this.blendMode(h.REMOVE),this._cachedBlendMode=w,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=(r(i(x.prototype),"beginClip",this).call(this,b),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),b=(this.drawingContext.fillStyle=b,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),b=(this.drawingContext.strokeStyle=b,this._cachedBlendMode);this.blendMode(h.BLEND),this._cachedBlendMode=b,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),r(i(x.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(b,w,M,E,A,C,I,F,R){b.gifProperties&&b._animateGif(this._pInst);try{d.default.MediaElement&&b instanceof d.default.MediaElement&&b._ensureCanvas();var U=(U=this._tint&&b.canvas?this._getTintedImageCanvas(b):U)||b.canvas||b.elt,z=1;b.width&&0<b.width&&(z=U.width/b.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(U,z*w,z*M,z*E,z*A,C,I,F,R),this._isErasing&&this._pInst.erase()}catch(P){if(P.name!=="NS_ERROR_NOT_AVAILABLE")throw P}}},{key:"_getTintedImageCanvas",value:function(b){if(!b.canvas)return b;b.tintCanvas||(b.tintCanvas=document.createElement("canvas")),b.tintCanvas.width!==b.canvas.width&&(b.tintCanvas.width=b.canvas.width),b.tintCanvas.height!==b.canvas.height&&(b.tintCanvas.height=b.canvas.height);var w=b.tintCanvas.getContext("2d");return w.save(),w.clearRect(0,0,b.canvas.width,b.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(w.drawImage(b.canvas,0,0),w.globalCompositeOperation="luminosity",w.drawImage(b.canvas,0,0),w.globalCompositeOperation="color",w.drawImage(b.canvas,0,0),w.globalCompositeOperation="multiply",w.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),w.fillRect(0,0,b.canvas.width,b.canvas.height),w.globalCompositeOperation="destination-in"),w.globalAlpha=this._tint[3]/255,w.drawImage(b.canvas,0,0),w.restore(),b.tintCanvas}},{key:"blendMode",value:function(b){if(b===h.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(b!==h.BLEND&&b!==h.REMOVE&&b!==h.DARKEST&&b!==h.LIGHTEST&&b!==h.DIFFERENCE&&b!==h.MULTIPLY&&b!==h.EXCLUSION&&b!==h.SCREEN&&b!==h.REPLACE&&b!==h.OVERLAY&&b!==h.HARD_LIGHT&&b!==h.SOFT_LIGHT&&b!==h.DODGE&&b!==h.BURN&&b!==h.ADD)throw new Error("Mode ".concat(b," not recognized."));this._cachedBlendMode=b,this.drawingContext.globalCompositeOperation=b}}},{key:"blend",value:function(){for(var b=this.drawingContext.globalCompositeOperation,w=arguments.length,M=new Array(w),E=0;E<w;E++)M[E]=arguments[E];var A=M[M.length-1],C=Array.prototype.slice.call(M,0,M.length-1);this.drawingContext.globalCompositeOperation=A,d.default.prototype.copy.apply(this,C),this.drawingContext.globalCompositeOperation=b}},{key:"_getPixel",value:function(b,w){return b=this.drawingContext.getImageData(b,w,1,1).data,[b[0],b[1],b[2],b[3]]}},{key:"loadPixels",value:function(){var b=this._pixelsState,w=b._pixelDensity,M=this.width*w,w=this.height*w,M=this.drawingContext.getImageData(0,0,M,w);b._setProperty("imageData",M),b._setProperty("pixels",M.data)}},{key:"set",value:function(b,w,M){b=Math.floor(b),w=Math.floor(w);var E=this._pixelsState;if(M instanceof d.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(E._pixelDensity,E._pixelDensity),this.drawingContext.clearRect(b,w,M.width,M.height),this.drawingContext.drawImage(M.canvas,b,w),this.drawingContext.restore();else{var A=0,C=0,I=0,F=0,R=4*(w*E._pixelDensity*(this.width*E._pixelDensity)+b*E._pixelDensity);if(E.imageData||E.loadPixels.call(E),typeof M=="number")R<E.pixels.length&&(I=C=A=M,F=255);else if(M instanceof Array){if(M.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");R<E.pixels.length&&(A=M[0],C=M[1],I=M[2],F=M[3])}else M instanceof d.default.Color&&R<E.pixels.length&&(A=M.levels[0],C=M.levels[1],I=M.levels[2],F=M.levels[3]);for(var U=0;U<E._pixelDensity;U++)for(var z=0;z<E._pixelDensity;z++)R=4*((w*E._pixelDensity+z)*this.width*E._pixelDensity+(b*E._pixelDensity+U)),E.pixels[R]=A,E.pixels[R+1]=C,E.pixels[R+2]=I,E.pixels[R+3]=F}}},{key:"updatePixels",value:function(b,w,M,E){var A=this._pixelsState,C=A._pixelDensity;b===void 0&&w===void 0&&M===void 0&&E===void 0&&(w=b=0,M=this.width,E=this.height),b*=C,w*=C,M*=C,E*=C,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=A.imageData),this.drawingContext.putImageData(A.imageData,b,w,0,0,M,E)}},{key:"_acuteArcToBezier",value:function(b,w){var C=w/2,M=Math.cos(C),F=Math.sin(C),E=1/Math.tan(C),C=b+C,A=Math.cos(C),C=Math.sin(C),I=(4-M)/3,F=F+(M-I)*E;return{ax:Math.cos(b).toFixed(7),ay:Math.sin(b).toFixed(7),bx:(I*A+F*C).toFixed(7),by:(I*C-F*A).toFixed(7),cx:(I*A-F*C).toFixed(7),cy:(I*C+F*A).toFixed(7),dx:Math.cos(b+w).toFixed(7),dy:Math.sin(b+w).toFixed(7)}}},{key:"arc",value:function(b,w,M,E,A,C,I){var F,R=this.drawingContext,U=M/2,z=E/2,P=[];for(b+=U,w+=z;1e-5<=C-A;)F=Math.min(C-A,h.HALF_PI),P.push(this._acuteArcToBezier(A,F)),A+=F;return this._doFill&&(this._clipping||R.beginPath(),P.forEach(function(W,Q){Q===0&&R.moveTo(b+W.ax*U,w+W.ay*z),R.bezierCurveTo(b+W.bx*U,w+W.by*z,b+W.cx*U,w+W.cy*z,b+W.dx*U,w+W.dy*z)}),I!==h.PIE&&I!=null||R.lineTo(b,w),R.closePath(),this._clipping||R.fill()),this._doStroke&&(this._clipping||R.beginPath(),P.forEach(function(W,Q){Q===0&&R.moveTo(b+W.ax*U,w+W.ay*z),R.bezierCurveTo(b+W.bx*U,w+W.by*z,b+W.cx*U,w+W.cy*z,b+W.dx*U,w+W.dy*z)}),I===h.PIE?(R.lineTo(b,w),R.closePath()):I===h.CHORD&&R.closePath(),this._clipping||R.stroke()),this}},{key:"ellipse",value:function(P){var w=this.drawingContext,M=this._doFill,E=this._doStroke,A=parseFloat(P[0]),C=parseFloat(P[1]),z=parseFloat(P[2]),P=parseFloat(P[3]);if(M&&!E){if(this._getFill()===n)return this}else if(!M&&E&&this._getStroke()===n)return this;var I=z/2*.5522847498,F=P/2*.5522847498,R=A+z,U=C+P,z=A+z/2,P=C+P/2;this._clipping||w.beginPath(),w.moveTo(A,P),w.bezierCurveTo(A,P-F,z-I,C,z,C),w.bezierCurveTo(z+I,C,R,P-F,R,P),w.bezierCurveTo(R,P+F,z+I,U,z,U),w.bezierCurveTo(z-I,U,A,P+F,A,P),!this._clipping&&M&&w.fill(),!this._clipping&&E&&w.stroke()}},{key:"line",value:function(b,w,M,E){var A=this.drawingContext;return this._doStroke&&this._getStroke()!==n&&(this._clipping||A.beginPath(),A.moveTo(b,w),A.lineTo(M,E),A.stroke()),this}},{key:"point",value:function(b,w){var M,E,A=this.drawingContext;return!this._doStroke||this._getStroke()===n?this:(M=this._getStroke(),E=this._getFill(),this._clipping||this._setFill(M),this._clipping||A.beginPath(),A.arc(b,w,A.lineWidth/2,0,h.TWO_PI,!1),void(this._clipping||(A.fill(),this._setFill(E))))}},{key:"quad",value:function(b,w,M,E,A,C,I,F){var R=this.drawingContext,U=this._doFill,z=this._doStroke;if(U&&!z){if(this._getFill()===n)return this}else if(!U&&z&&this._getStroke()===n)return this;return this._clipping||R.beginPath(),R.moveTo(b,w),R.lineTo(M,E),R.lineTo(A,C),R.lineTo(I,F),R.closePath(),!this._clipping&&U&&R.fill(),!this._clipping&&z&&R.stroke(),this}},{key:"rect",value:function(z){var w,M,E=z[0],A=z[1],C=z[2],I=z[3],F=z[4],R=z[5],U=z[6],z=z[7],P=this.drawingContext,W=this._doFill,Q=this._doStroke;if(W&&!Q){if(this._getFill()===n)return this}else if(!W&&Q&&this._getStroke()===n)return this;return this._clipping||P.beginPath(),F===void 0?P.rect(E,A,C,I):(R===void 0&&(R=F),U===void 0&&(U=R),z===void 0&&(z=U),Q=(W=Math.abs(C))/2,M=(w=Math.abs(I))/2,w<2*(F=W<2*F?Q:F)&&(F=M),w<2*(R=W<2*R?Q:R)&&(R=M),w<2*(U=W<2*U?Q:U)&&(U=M),w<2*(z=W<2*z?Q:z)&&(z=M),this._clipping||P.beginPath(),P.moveTo(E+F,A),P.arcTo(E+C,A,E+C,A+I,R),P.arcTo(E+C,A+I,E,A+I,U),P.arcTo(E,A+I,E,A,z),P.arcTo(E,A,E+C,A,F),P.closePath()),!this._clipping&&this._doFill&&P.fill(),!this._clipping&&this._doStroke&&P.stroke(),this}},{key:"triangle",value:function(U){var w=this.drawingContext,M=this._doFill,E=this._doStroke,A=U[0],C=U[1],I=U[2],F=U[3],R=U[4],U=U[5];if(M&&!E){if(this._getFill()===n)return this}else if(!M&&E&&this._getStroke()===n)return this;this._clipping||w.beginPath(),w.moveTo(A,C),w.lineTo(I,F),w.lineTo(R,U),w.closePath(),!this._clipping&&M&&w.fill(),!this._clipping&&E&&w.stroke()}},{key:"endShape",value:function(b,w,M,E,A,C,I){if(w.length!==0&&(this._doStroke||this._doFill)){var F,R,U,z=b===h.CLOSE,P=(z&&!C&&w.push(w[0]),w.length);if(M&&I===null){if(3<P){var W=[],Q=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(w[1][0],w[1][1]),R=1;R+2<P;R++)F=w[R],W[0]=[F[0],F[1]],W[1]=[F[0]+(Q*w[R+1][0]-Q*w[R-1][0])/6,F[1]+(Q*w[R+1][1]-Q*w[R-1][1])/6],W[2]=[w[R+1][0]+(Q*w[R][0]-Q*w[R+2][0])/6,w[R+1][1]+(Q*w[R][1]-Q*w[R+2][1])/6],W[3]=[w[R+1][0],w[R+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);z&&this.drawingContext.lineTo(w[R+1][0],w[R+1][1]),this._doFillStrokeClose(z)}}else if(E&&I===null){for(this._clipping||this.drawingContext.beginPath(),R=0;R<P;R++)w[R].isVert?w[R].moveTo?this.drawingContext.moveTo(w[R][0],w[R][1]):this.drawingContext.lineTo(w[R][0],w[R][1]):this.drawingContext.bezierCurveTo(w[R][0],w[R][1],w[R][2],w[R][3],w[R][4],w[R][5]);this._doFillStrokeClose(z)}else if(A&&I===null){for(this._clipping||this.drawingContext.beginPath(),R=0;R<P;R++)w[R].isVert?w[R].moveTo?this.drawingContext.moveTo(w[R][0],w[R][1]):this.drawingContext.lineTo(w[R][0],w[R][1]):this.drawingContext.quadraticCurveTo(w[R][0],w[R][1],w[R][2],w[R][3]);this._doFillStrokeClose(z)}else if(I===h.POINTS)for(R=0;R<P;R++)F=w[R],this._doStroke&&this._pInst.stroke(F[6]),this._pInst.point(F[0],F[1]);else if(I===h.LINES)for(R=0;R+1<P;R+=2)F=w[R],this._doStroke&&this._pInst.stroke(w[R+1][6]),this._pInst.line(F[0],F[1],w[R+1][0],w[R+1][1]);else if(I===h.TRIANGLES)for(R=0;R+2<P;R+=3)F=w[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(w[R+1][0],w[R+1][1]),this.drawingContext.lineTo(w[R+2][0],w[R+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(w[R+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(w[R+2][6]),this.drawingContext.stroke());else if(I===h.TRIANGLE_STRIP)for(R=0;R+1<P;R++)F=w[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(w[R+1][0],w[R+1][1]),this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(w[R+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(w[R+1][5]),R+2<P&&(this.drawingContext.lineTo(w[R+2][0],w[R+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(w[R+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(w[R+2][5])),this._doFillStrokeClose(z);else if(I===h.TRIANGLE_FAN){if(2<P){for(this._clipping||this.drawingContext.beginPath(),R=2;R<P;R++)F=w[R],this.drawingContext.moveTo(w[0][0],w[0][1]),this.drawingContext.lineTo(w[R-1][0],w[R-1][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(w[0][0],w[0][1]),R<P-1&&(this._doFill&&F[5]!==w[R+1][5]||this._doStroke&&F[6]!==w[R+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(F[5]),this.drawingContext.fill(),this._pInst.fill(w[R+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(F[6]),this.drawingContext.stroke(),this._pInst.stroke(w[R+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(z)}}else if(I===h.QUADS)for(R=0;R+3<P;R+=4){for(F=w[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),U=1;U<4;U++)this.drawingContext.lineTo(w[R+U][0],w[R+U][1]);this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doFill&&this._pInst.fill(w[R+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(w[R+3][6]),this._doFillStrokeClose(z)}else if(I===h.QUAD_STRIP){if(3<P)for(R=0;R+1<P;R+=2)F=w[R],this._clipping||this.drawingContext.beginPath(),R+3<P?(this.drawingContext.moveTo(w[R+2][0],w[R+2][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(w[R+1][0],w[R+1][1]),this.drawingContext.lineTo(w[R+3][0],w[R+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(w[R+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(w[R+3][6])):(this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(w[R+1][0],w[R+1][1])),this._doFillStrokeClose(z)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(w[0][0],w[0][1]),R=1;R<P;R++)(F=w[R]).isVert&&(F.moveTo?(z&&this.drawingContext.closePath(),this.drawingContext.moveTo(F[0],F[1])):this.drawingContext.lineTo(F[0],F[1]));this._doFillStrokeClose(z)}C=A=E=M=!1,z&&w.pop()}return this}},{key:"strokeCap",value:function(b){return b!==h.ROUND&&b!==h.SQUARE&&b!==h.PROJECT||(this.drawingContext.lineCap=b),this}},{key:"strokeJoin",value:function(b){return b!==h.ROUND&&b!==h.BEVEL&&b!==h.MITER||(this.drawingContext.lineJoin=b),this}},{key:"strokeWeight",value:function(b){return this.drawingContext.lineWidth=b===void 0||b===0?1e-4:b,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(b){b!==this._cachedFillStyle&&(this.drawingContext.fillStyle=b,this._cachedFillStyle=b)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(b){b!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=b,this._cachedStrokeStyle=b)}},{key:"bezier",value:function(b,w,M,E,A,C,I,F){return this._pInst.beginShape(),this._pInst.vertex(b,w),this._pInst.bezierVertex(M,E,A,C,I,F),this._pInst.endShape(),this}},{key:"curve",value:function(b,w,M,E,A,C,I,F){return this._pInst.beginShape(),this._pInst.curveVertex(b,w),this._pInst.curveVertex(M,E),this._pInst.curveVertex(A,C),this._pInst.curveVertex(I,F),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(b){b&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(b,w,M,E,A,C){this.drawingContext.transform(b,w,M,E,A,C)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(b){this.drawingContext.rotate(b)}},{key:"scale",value:function(b,w){return this.drawingContext.scale(b,w),this}},{key:"translate",value:function(b,w){return b instanceof d.default.Vector&&(w=b.y,b=b.x),this.drawingContext.translate(b,w),this}},{key:"_renderText",value:function(b,w,M,E,A,C){if(!(E<C||A<=E))return b.push(),this._isOpenType()?this._textFont._renderPath(w,M,E,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(w,M,E),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(h._DEFAULT_TEXT_FILL),this.drawingContext.fillText(w,M,E))),b.pop(),b}},{key:"textWidth",value:function(b){return this._isOpenType()?this._textFont._textWidth(b,this._textSize):this.drawingContext.measureText(b).width}},{key:"_applyTextProperties",value:function(){var b,w=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),b=this._textFont,this._isOpenType()&&(b=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(b||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===h.CENTER?this.drawingContext.textBaseline=h._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,w}},{key:"push",value:function(){return this.drawingContext.save(),r(i(x.prototype),"push",this).call(this)}},{key:"pop",value:function(b){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r(i(x.prototype),"pop",this).call(this,b)}}])&&f(c.prototype,o),y&&f(c,y),x}(d.default.Renderer),a=(u.prototype.text=function(o,c,y,w,x){w!==void 0&&this.drawingContext.textBaseline===h.BASELINE&&(b=!0,this.drawingContext.textBaseline=h.TOP);var b,w=d.default.Renderer.prototype.text.apply(this,arguments);return b&&(this.drawingContext.textBaseline=h.BASELINE),w},d.default.Renderer2D=u,d.default.Renderer2D);k.default=a},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var v=(t=t("./main"))&&t.__esModule?t:{default:t};v.default.prototype._promisePreloads=[];function p(){return{}}T(p,"p");var d=!(v.default.prototype.registerPromisePreload=function(h){v.default.prototype._promisePreloads.push(h)});v.default.prototype._setupPromisePreloads=function(){var h=!0,m=!1,f=void 0;try{for(var r,s=this._promisePreloads[Symbol.iterator]();!(h=(r=s.next()).done);h=!0){var l=r.value,i=this,n=l.method,u=l.addCallbacks,a=l.legacyPreloadSetup,o=l.target||this,c=o[n].bind(o);if(o===v.default.prototype){if(d)continue;i=null,c=o[n]}o[n]=this._wrapPromisePreload(i,c,u),a&&(o[a.method]=this._legacyPreloadGenerator(i,a,o[n]))}}catch(y){m=!0,f=y}finally{try{h||s.return==null||s.return()}finally{if(m)throw f}}d=!0},v.default.prototype._wrapPromisePreload=function(h,m,f){var r=T(function(){for(var s=this,l=(this._incrementPreload(),null),i=null,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];if(f)for(var o=u.length-1;0<=o&&!i&&typeof u[o]=="function";o--)i=l,l=u.pop();var c=Promise.resolve(m.apply(this,u));return l&&c.then(l),i&&c.catch(i),c.then(function(){return s._decrementPreload()}),c},"r");return r=h?r.bind(h):r},v.default.prototype._legacyPreloadGenerator=function(h,s,f){var r=s.createBaseObject||p,s=T(function(){var l=this;this._incrementPreload();for(var i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];var a=r.apply(this,n);return f.apply(this,n).then(function(o){Object.assign(a,o),l._decrementPreload()}),a},"a");return s=h?s.bind(h):s}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(t,Y,k){"use strict";function v(s){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=(r=t("./main"))&&r.__esModule?r:{default:r},d=function(s){if(s&&s.__esModule)return s;if(s===null||m(s)!=="object"&&typeof s!="function")return{default:s};var l=h();if(l&&l.has(s))return l.get(s);var i,n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var a;Object.prototype.hasOwnProperty.call(s,i)&&((a=u?Object.getOwnPropertyDescriptor(s,i):null)&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=s[i])}return n.default=s,l&&l.set(s,n),n}(t("./constants"));function h(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,h=T(function(){return s},"f"),s)}T(h,"f");function m(s){return(m=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(l){return v(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}T(m,"y"),t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var f="defaultCanvas0",r=(p.default.prototype.createCanvas=function(s,l,i,n){var u,a,o;if(p.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(i=d.P2D,n=arguments[2]):u=i||d.P2D,n)(o=document.getElementById(f))&&o.parentNode.removeChild(o),o=n,this._defaultGraphicsCreated=!1;else{if(u===d.WEBGL)(o=document.getElementById(f))&&(o.parentNode.removeChild(o),a=this._renderer,this._elements=this._elements.filter(function(y){return y!==a})),(o=document.createElement("canvas")).id=f,o.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)o=this.canvas;else{o=n||document.createElement("canvas");for(var c=0;document.getElementById("defaultCanvas".concat(c));)c++;f="defaultCanvas".concat(c),o.id=f,o.classList.add("p5Canvas")}this._setupDone||(o.dataset.hidden=!0,o.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(i=document.createElement("main"),document.body.appendChild(i)),document.getElementsByTagName("main")[0])).appendChild(o)}return u===d.WEBGL?(this._setProperty("_renderer",new p.default.RendererGL(o,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new p.default.Renderer2D(o,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(s,l),this._renderer._applyDefaults(),this._renderer},p.default.prototype.resizeCanvas=function(s,l,i){if(p.default._validateParameters("resizeCanvas",arguments),this._renderer){var n,u,a={};for(n in this.drawingContext){var o=this.drawingContext[n];m(o)!=="object"&&typeof o!="function"&&(a[n]=o)}for(u in this.width=s,this.height=l,this._renderer.resize(s,l),a)try{this.drawingContext[u]=a[u]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},p.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},p.default.prototype.createGraphics=function(s,l){for(var i=arguments.length,n=new Array(2<i?i-2:0),u=2;u<i;u++)n[u-2]=arguments[u];return n[0]instanceof HTMLCanvasElement&&(n[1]=n[0],n[0]=d.P2D),p.default._validateParameters("createGraphics",arguments),new p.default.Graphics(s,l,n[0],this,n[1])},p.default.prototype.createFramebuffer=function(s){return new p.default.Framebuffer(this,s)},p.default.prototype.blendMode=function(s){p.default._validateParameters("blendMode",arguments),s===d.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),s=d.BLEND),this._renderer.blendMode(s)},p.default);k.default=r},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(t,Y,k){"use strict";function v(l){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}T(v,"m");function p(l){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(i){return v(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(l)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=r(t("../main")),h=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var i=f();if(i&&i.has(l))return i.get(l);var n,u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in l){var o;Object.prototype.hasOwnProperty.call(l,n)&&((o=a?Object.getOwnPropertyDescriptor(l,n):null)&&(o.get||o.set)?Object.defineProperty(u,n,o):u[n]=l[n])}return u.default=l,i&&i.set(l,u),u}(t("../constants")),m=r(t("../helpers"));function f(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,f=T(function(){return l},"g"),l)}T(f,"g");function r(l){return l&&l.__esModule?l:{default:l}}T(r,"r");function s(l){return function(i){if(Array.isArray(i)){for(var n=0,u=new Array(i.length);n<i.length;n++)u[n]=i[n];return u}}(l)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(s,"a"),t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),d.default.prototype._normalizeArcAngles=function(l,i,n,u,a){var o;return l-=h.TWO_PI*Math.floor(l/h.TWO_PI),i-=h.TWO_PI*Math.floor(i/h.TWO_PI),o=Math.min(Math.abs(l-i),h.TWO_PI-Math.abs(l-i)),a&&(l=l<=h.HALF_PI?Math.atan(n/u*Math.tan(l)):l>h.HALF_PI&&l<=3*h.HALF_PI?Math.atan(n/u*Math.tan(l))+h.PI:Math.atan(n/u*Math.tan(l))+h.TWO_PI,i=i<=h.HALF_PI?Math.atan(n/u*Math.tan(i)):i>h.HALF_PI&&i<=3*h.HALF_PI?Math.atan(n/u*Math.tan(i))+h.PI:Math.atan(n/u*Math.tan(i))+h.TWO_PI),i<l&&(i+=h.TWO_PI),{start:l,stop:i,correspondToSamePoint:o<1e-5}},d.default.prototype.arc=function(l,i,n,u,a,o,c,y){return d.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&a!==o&&(a=this._toRadians(a),o=this._toRadians(o),n=Math.abs(n),u=Math.abs(u),l=m.default.modeAdjust(l,i,n,u,this._renderer._ellipseMode),(i=this._normalizeArcAngles(a,o,l.w,l.h,!0)).correspondToSamePoint?this._renderer.ellipse([l.x,l.y,l.w,l.h,y]):(this._renderer.arc(l.x,l.y,l.w,l.h,i.start,i.stop,c,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[l.x,l.y,l.w,l.h,i.start,i.stop,c]))),this},d.default.prototype.ellipse=function(l,i,n,u,a){return d.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},d.default.prototype.circle=function(){d.default._validateParameters("circle",arguments);var l=Array.prototype.slice.call(arguments,0,2);return l.push(arguments[2]),l.push(arguments[2]),this._renderEllipse.apply(this,s(l))},d.default.prototype._renderEllipse=function(l,i,n,u,a){return(this._renderer._doStroke||this._renderer._doFill)&&(n<0&&(n=Math.abs(n)),u===void 0?u=n:u<0&&(u=Math.abs(u)),l=m.default.modeAdjust(l,i,n,u,this._renderer._ellipseMode),this._renderer.ellipse([l.x,l.y,l.w,l.h,a]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h])),this},d.default.prototype.line=function(){for(var l,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return d.default._validateParameters("line",n),this._renderer._doStroke&&(l=this._renderer).line.apply(l,n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",n),this},d.default.prototype.point=function(){for(var l,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return d.default._validateParameters("point",n),this._renderer._doStroke&&(n.length===1&&n[0]instanceof d.default.Vector?this._renderer.point.call(this._renderer,n[0].x,n[0].y,n[0].z):((l=this._renderer).point.apply(l,n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",n))),this},d.default.prototype.quad=function(){for(var l,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return d.default._validateParameters("quad",n),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&n.length<12?this._renderer.quad.call(this._renderer,n[0],n[1],0,n[2],n[3],0,n[4],n[5],0,n[6],n[7],0,n[8],n[9]):((l=this._renderer).quad.apply(l,n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",n))),this},d.default.prototype.rect=function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return d.default._validateParameters("rect",i),this._renderRect.apply(this,i)},d.default.prototype.square=function(l,i,n,u,a,o,c){return d.default._validateParameters("square",arguments),this._renderRect.call(this,l,i,n,n,u,a,o,c)},d.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var l=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=[l.x,l.y,l.w,l.h],n=4;n<arguments.length;n++)i[n]=arguments[n];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[l.x,l.y,l.w,l.h])}return this},d.default.prototype.triangle=function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return d.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},t=d.default,k.default=t},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(f=t("../main"))&&f.__esModule?f:{default:f},h=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=T(function(){return r},"y"),r)}T(m,"y"),d.default.prototype.ellipseMode=function(r){return d.default._validateParameters("ellipseMode",arguments),r!==h.CORNER&&r!==h.CORNERS&&r!==h.RADIUS&&r!==h.CENTER||(this._renderer._ellipseMode=r),this},d.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},d.default.prototype.rectMode=function(r){return d.default._validateParameters("rectMode",arguments),r!==h.CORNER&&r!==h.CORNERS&&r!==h.RADIUS&&r!==h.CENTER||(this._renderer._rectMode=r),this},d.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},d.default.prototype.strokeCap=function(r){return d.default._validateParameters("strokeCap",arguments),r!==h.ROUND&&r!==h.SQUARE&&r!==h.PROJECT||this._renderer.strokeCap(r),this},d.default.prototype.strokeJoin=function(r){return d.default._validateParameters("strokeJoin",arguments),r!==h.ROUND&&r!==h.BEVEL&&r!==h.MITER||this._renderer.strokeJoin(r),this},d.default.prototype.strokeWeight=function(r){return d.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(r),this};var f=d.default;k.default=f},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(p=t("../main"))&&p.__esModule?p:{default:p};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var d,h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];return v.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(d=this._renderer).bezier.apply(d,m),this},v.default.prototype.bezierDetail=function(d){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=d,this},v.default.prototype.bezierPoint=function(d,h,m,f,r){v.default._validateParameters("bezierPoint",arguments);var s=1-r;return Math.pow(s,3)*d+3*Math.pow(s,2)*r*h+3*s*Math.pow(r,2)*m+Math.pow(r,3)*f},v.default.prototype.bezierTangent=function(d,h,m,f,r){v.default._validateParameters("bezierTangent",arguments);var s=1-r;return 3*f*Math.pow(r,2)-3*m*Math.pow(r,2)+6*m*s*r-6*h*s*r+3*h*Math.pow(s,2)-3*d*Math.pow(s,2)},v.default.prototype.curve=function(){for(var d,h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];return v.default._validateParameters("curve",m),this._renderer._doStroke&&(d=this._renderer).curve.apply(d,m),this},v.default.prototype.curveDetail=function(d){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=d<3?3:d,this},v.default.prototype.curveTightness=function(d){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=d,this},v.default.prototype.curvePoint=function(d,h,m,f,r){v.default._validateParameters("curvePoint",arguments);var s=this._renderer._curveTightness,l=r*r*r,i=r*r;return d*((s-1)/2*l+(1-s)*i+(s-1)/2*r)+h*((s+3)/2*l+(-5-s)/2*i+1)+m*((-3-s)/2*l+(s+2)*i+(1-s)/2*r)+f*((1-s)/2*l+(s-1)/2*i)},v.default.prototype.curveTangent=function(d,h,m,f,i){v.default._validateParameters("curveTangent",arguments);var s=this._renderer._curveTightness,l=i*i*3,i=2*i;return d*((s-1)/2*l+(1-s)*i+(s-1)/2)+h*((s+3)/2*l+(-5-s)/2*i)+m*((-3-s)/2*l+(s+2)*i+(1-s)/2)+f*((1-s)/2*l+(s-1)/2*i)};var p=v.default;k.default=p},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(t,Y,k){"use strict";function v(c){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}T(v,"m");function p(c){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(y){return v(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(c)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(o=t("../main"))&&o.__esModule?o:{default:o},h=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var y=m();if(y&&y.has(c))return y.get(c);var _,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var w;Object.prototype.hasOwnProperty.call(c,_)&&((w=b?Object.getOwnPropertyDescriptor(c,_):null)&&(w.get||w.set)?Object.defineProperty(x,_,w):x[_]=c[_])}return x.default=c,y&&y.set(c,x),x}(t("../constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=T(function(){return c},"y"),c)}T(m,"y");var f=null,r=[],s=[],l=!1,i=!1,n=!1,u=!1,a=!0,o=(d.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(s=[],u=!0),this},d.default.prototype.beginShape=function(c){var y;return d.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(y=this._renderer).beginShape.apply(y,arguments):(f=c===h.POINTS||c===h.LINES||c===h.TRIANGLES||c===h.TRIANGLE_FAN||c===h.TRIANGLE_STRIP||c===h.QUADS||c===h.QUAD_STRIP?c:null,r=[],s=[]),this},d.default.prototype.bezierVertex=function(){for(var c,y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];if(d.default._validateParameters("bezierVertex",_),this._renderer.isP3D)(c=this._renderer).bezierVertex.apply(c,_);else if(r.length===0)d.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{l=!0;for(var b=[],w=0;w<_.length;w++)b[w]=_[w];b.isVert=!1,(u?s:r).push(b)}return this},d.default.prototype.curveVertex=function(){for(var c,y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];return d.default._validateParameters("curveVertex",_),this._renderer.isP3D?(c=this._renderer).curveVertex.apply(c,_):(i=!0,this.vertex(_[0],_[1])),this},d.default.prototype.endContour=function(){if(!this._renderer.isP3D){var c=s[0].slice();c.isVert=s[0].isVert,c.moveTo=!1,s.push(c),a&&(r.push(r[0]),a=!1);for(var y=0;y<s.length;y++)r.push(s[y])}return this},d.default.prototype.endShape=function(c){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(d.default._validateParameters("endShape",arguments),y<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),y=1),this._renderer.isP3D)this._renderer.endShape(c,i,l,n,u,f,y);else{if(y!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),r.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;y=c===h.CLOSE,y&&!u&&r.push(r[0]),this._renderer.endShape(c,r,i,l,n,u,f),a=!(u=n=l=i=!1),y&&r.pop()}return this},d.default.prototype.quadraticVertex=function(){for(var c,y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];if(d.default._validateParameters("quadraticVertex",_),this._renderer.isP3D)(c=this._renderer).quadraticVertex.apply(c,_);else{if(this._contourInited)return(c={}).x=_[0],c.y=_[1],c.x3=_[2],c.y3=_[3],c.type=h.QUADRATIC,this._contourVertices.push(c),this;if(0<r.length){n=!0;for(var b=[],w=0;w<_.length;w++)b[w]=_[w];b.isVert=!1,(u?s:r).push(b)}else d.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},d.default.prototype.vertex=function(c,y,_,x,b){var w;return this._renderer.isP3D?(w=this._renderer).vertex.apply(w,arguments):((w=[]).isVert=!0,w[0]=c,w[1]=y,w[2]=0,w[3]=0,w[4]=0,w[5]=this._renderer._getFill(),w[6]=this._renderer._getStroke(),_&&(w.moveTo=_),(u?(s.length===0&&(w.moveTo=!0),s):r).push(w)),this},d.default.prototype.normal=function(c,y,_){var x;return this._assert3d("normal"),d.default._validateParameters("normal",arguments),(x=this._renderer).normal.apply(x,arguments),this},d.default);k.default=o},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return function(s){if(Array.isArray(s)){for(var l=0,i=new Array(s.length);l<s.length;l++)i[l]=s[l];return i}}(r)||function(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(p,"p");function d(r){return(d=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(d,"i");var h,m,f;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r,s){window.setTimeout(r,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(h=Object.keys,t=Object.defineProperty,m=typeof Symbol=="function"&&d(Symbol())==="symbol",f=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(r,s){if(r==null)throw new TypeError("target must be an object");for(var l,i=Object(r),n=1;n<arguments.length;++n){var u=Object(arguments[n]),a=h(u);for(m&&Object.getOwnPropertySymbols&&a.push.apply(a,p(Object.getOwnPropertySymbols(u).filter(function(o){return function(c){return f.call(o,c)}}(u)))),l=0;l<a.length;++l)i[a[l]]=u[a[l]]}return i},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(t,Y,k){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var p=parseInt(v),d=((isNaN(p)||p<1)&&(p=1),this._isGlobal?window:this);if(typeof d.draw=="function"){d.setup===void 0&&d.scale(d._pixelDensity,d._pixelDensity);for(var h=0;h<p;h++){d.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),d._renderer.isP3D&&d._renderer._update(),d._setProperty("frameCount",d.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{d.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,k.default=t},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("./main"))&&t.__esModule?t:{default:t};function p(d){return function(h){if(Array.isArray(h)){for(var m=0,f=new Array(h.length);m<h.length;m++)f[m]=h[m];return f}}(d)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(p,"p"),v.default.prototype.applyMatrix=function(){var d=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||d?(d=this._renderer).applyMatrix.apply(d,p(arguments.length<=0?void 0:arguments[0])):(d=this._renderer).applyMatrix.apply(d,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(d,h){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(d),h),this},v.default.prototype.rotateX=function(d){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(d)),this},v.default.prototype.rotateY=function(d){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(d)),this},v.default.prototype.rotateZ=function(d){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(d)),this},v.default.prototype.scale=function(d,h,m){var f;return v.default._validateParameters("scale",arguments),d instanceof v.default.Vector?(d=(f=d).x,h=f.y,m=f.z):d instanceof Array&&(d=(f=d)[0],h=f[1],m=f[2]||1),isNaN(h)?h=m=d:isNaN(m)&&(m=1),this._renderer.scale.call(this._renderer,d,h,m),this},v.default.prototype.shearX=function(d){return v.default._validateParameters("shearX",arguments),d=this._toRadians(d),this._renderer.applyMatrix(1,0,Math.tan(d),1,0,0),this},v.default.prototype.shearY=function(d){return v.default._validateParameters("shearY",arguments),d=this._toRadians(d),this._renderer.applyMatrix(1,Math.tan(d),0,1,0,0),this},v.default.prototype.translate=function(d,h,m){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(d,h,m):this._renderer.translate(d,h),this},t=v.default,k.default=t},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(t,Y,k){"use strict";function v(m){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var p=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(m){return function(f){if(Array.isArray(f)){for(var r=0,s=new Array(f.length);r<f.length;r++)s[r]=f[r];return s}}(m)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(d,"i");function h(m){return(h=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(f){return v(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(m)}T(h,"f"),p.default.prototype.storeItem=function(m,f){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),f===void 0&&console.log("You cannot store undefined variables using storeItem().");var r=h(f);switch(r){case"number":case"boolean":f=f.toString();break;case"object":f instanceof p.default.Color?r="p5.Color":f instanceof p.default.Vector&&(r="p5.Vector",f=[f.x,f.y,f.z]),f=JSON.stringify(f)}localStorage.setItem(m,f),m="".concat(m,"p5TypeID"),localStorage.setItem(m,r)},p.default.prototype.getItem=function(m){var f=localStorage.getItem(m),r=localStorage.getItem("".concat(m,"p5TypeID"));if(r===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(f!==null)switch(r){case"number":f=parseFloat(f);break;case"boolean":f=f==="true";break;case"object":f=JSON.parse(f);break;case"p5.Color":f=JSON.parse(f),f=this.color.apply(this,d(f.levels));break;case"p5.Vector":f=JSON.parse(f),f=this.createVector.apply(this,d(f))}return f},p.default.prototype.clearStorage=function(){localStorage.clear()},p.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(t,Y,k){"use strict";function v(n){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}T(v,"m");function p(n){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(u){return v(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(n)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),u&&m(n,u)}T(h,"f");function m(n,u){return(m=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a})(n,u)}T(m,"y");function f(n){return function(){var u,a=r(n),a=(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=r(this).constructor,Reflect.construct(a,arguments,u)):a.apply(this,arguments),this);if(!u||p(u)!=="object"&&typeof u!="function"){if(a!==void 0)return a;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u}}T(f,"g");function r(n){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(n)}T(r,"r");function s(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}T(s,"a");function l(n,u){for(var a=0;a<u.length;a++){var o=u[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}T(l,"s");function i(n,u,a){u&&l(n.prototype,u),a&&l(n,a)}T(i,"n"),d.default.prototype.createStringDict=function(n,u){return d.default._validateParameters("createStringDict",arguments),new d.default.StringDict(n,u)},d.default.prototype.createNumberDict=function(n,u){return d.default._validateParameters("createNumberDict",arguments),new d.default.NumberDict(n,u)},d.default.TypedDict=function(){function n(u,a){return s(this,n),u instanceof Object?this.data=u:(this.data={},this.data[u]=a),this}return T(n,"l"),i(n,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(u){return this.data.hasOwnProperty(u)}},{key:"get",value:function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))}},{key:"set",value:function(u,a){this._validate(a)?this.data[u]=a:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(u){for(var a in u)this.set(a,u[a])}},{key:"create",value:function(u,a){u instanceof Object&&a===void 0?this._addObj(u):u!==void 0?this.set(u,a):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]}},{key:"print",value:function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))}},{key:"saveTable",value:function(u){var a,o="";for(a in this.data)o+="".concat(a,",").concat(this.data[a],`
`);var c=new Blob([o],{type:"text/csv"});d.default.prototype.downloadFile(c,u||"mycsv","csv")}},{key:"saveJSON",value:function(u,a){d.default.prototype.saveJSON(this.data,u,a)}},{key:"_validate",value:function(u){return!0}}]),n}(),d.default.StringDict=function(){h(u,d.default.TypedDict);var n=f(u);function u(){s(this,u);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n.call.apply(n,[this].concat(o))}return T(u,"u"),i(u,[{key:"_validate",value:function(a){return typeof a=="string"}}]),u}(),d.default.NumberDict=function(){h(u,d.default.TypedDict);var n=f(u);function u(){s(this,u);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n.call.apply(n,[this].concat(o))}return T(u,"u"),i(u,[{key:"_validate",value:function(a){return typeof a=="number"}},{key:"add",value:function(a,o){this.data.hasOwnProperty(a)?this.data[a]+=o:console.log("The key - ".concat(a," does not exist in this dictionary."))}},{key:"sub",value:function(a,o){this.add(a,-o)}},{key:"mult",value:function(a,o){this.data.hasOwnProperty(a)?this.data[a]*=o:console.log("The key - ".concat(a," does not exist in this dictionary."))}},{key:"div",value:function(a,o){this.data.hasOwnProperty(a)?this.data[a]/=o:console.log("The key - ".concat(a," does not exist in this dictionary."))}},{key:"_valueTest",value:function(a){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var o,c=this.data[Object.keys(this.data)[0]];for(o in this.data)this.data[o]*a<c*a&&(c=this.data[o]);return c}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(a){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var o=Object.keys(this.data)[0],c=1;c<Object.keys(this.data).length;c++)Object.keys(this.data)[c]*a<o*a&&(o=Object.keys(this.data)[c]);return o}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),u}(),t=d.default.TypedDict,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(t,Y,k){"use strict";function v(o){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(o,c){for(var y=0;y<c.length;y++){var _=c[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}T(d,"i");function h(o,c,y){c&&d(o.prototype,c),y&&d(o,y)}T(h,"f");function m(o,c){return(m=Object.setPrototypeOf||function(y,_){return y.__proto__=_,y})(o,c)}T(m,"y");function f(o){return function(){var c,y,_=s(o);return c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=s(this).constructor,Reflect.construct(_,arguments,c)):_.apply(this,arguments),_=this,!(y=c)||i(y)!=="object"&&typeof y!="function"?r(_):y}}T(f,"g");function r(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}T(r,"r");function s(o){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}T(s,"a");function l(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}T(l,"s");function i(o){return(i=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(c){return v(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(o)}T(i,"n");function n(o,c,y){return(c._userNode||document.body).appendChild(o),y=new(y?p.default.MediaElement:p.default.Element)(o,c),c._elements.push(y),y}T(n,"l");function u(o,w,y,_){var x=document.createElement(w),b=(typeof(y=y||"")=="string"&&(y=[y]),!0),w=!1,M=void 0;try{for(var E,A=y[Symbol.iterator]();!(b=(E=A.next()).done);b=!0){var C=E.value,I=document.createElement("source");I.setAttribute("src",C),x.appendChild(I)}}catch(R){w=!0,M=R}finally{try{b||A.return==null||A.return()}finally{if(w)throw M}}typeof _=="function"&&x.addEventListener("canplaythrough",T(function R(){_(),x.removeEventListener("canplaythrough",R)},"L"));var F=n(x,o,!0);return F.loadedmetadata=!1,x.addEventListener("loadedmetadata",function(){F.width=x.videoWidth,F.height=x.videoHeight,F.elt.width===0&&(F.elt.width=x.videoWidth),F.elt.height===0&&(F.elt.height=x.videoHeight),F.presetPlaybackRate&&(F.elt.playbackRate=F.presetPlaybackRate,delete F.presetPlaybackRate),F.loadedmetadata=!0}),F}T(u,"u"),p.default.prototype.select=function(o,c){return p.default._validateParameters("select",arguments),c=this._getContainer(c).querySelector(o),c?this._wrapElement(c):null},p.default.prototype.selectAll=function(o,c){p.default._validateParameters("selectAll",arguments);var y=[],_=this._getContainer(c).querySelectorAll(o);if(_)for(var x=0;x<_.length;x++){var b=this._wrapElement(_[x]);y.push(b)}return y},p.default.prototype._getContainer=function(o){var c=document;return typeof o=="string"?c=document.querySelector(o)||document:o instanceof p.default.Element?c=o.elt:o instanceof HTMLElement&&(c=o),c},p.default.prototype._wrapElement=function(o){var c,y=Array.prototype.slice.call(o.children);return o.tagName==="INPUT"&&o.type==="checkbox"?((c=new p.default.Element(o,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},c):o.tagName==="VIDEO"||o.tagName==="AUDIO"?new p.default.MediaElement(o,this):o.tagName==="SELECT"?this.createSelect(new p.default.Element(o,this)):0<y.length&&y.every(function(_){return _.tagName==="INPUT"||_.tagName==="LABEL"})?this.createRadio(new p.default.Element(o,this)):new p.default.Element(o,this)},p.default.prototype.removeElements=function(o){p.default._validateParameters("removeElements",arguments),this._elements.filter(function(c){return!(c.elt instanceof HTMLCanvasElement)}).map(function(c){return c.remove()})},p.default.Element.prototype.changed=function(o){return p.default.Element._adjustListener("change",o,this),this},p.default.Element.prototype.input=function(o){return p.default.Element._adjustListener("input",o,this),this},p.default.prototype.createDiv=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=document.createElement("div");return c.innerHTML=o,n(c,this)},p.default.prototype.createP=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=document.createElement("p");return c.innerHTML=o,n(c,this)},p.default.prototype.createSpan=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=document.createElement("span");return c.innerHTML=o,n(c,this)},p.default.prototype.createImg=function(){p.default._validateParameters("createImg",arguments);var o,c=document.createElement("img"),y=arguments;return 1<y.length&&typeof y[1]=="string"&&(c.alt=y[1]),2<y.length&&typeof y[2]=="string"&&(c.crossOrigin=y[2]),c.src=y[0],o=n(c,this),c.addEventListener("load",function(){o.width=c.offsetWidth||c.width,o.height=c.offsetHeight||c.height;var _=y[y.length-1];typeof _=="function"&&_(o)}),o},p.default.prototype.createA=function(o,c,y){p.default._validateParameters("createA",arguments);var _=document.createElement("a");return _.href=o,_.innerHTML=c,y&&(_.target=y),n(_,this)},p.default.prototype.createSlider=function(o,c,y,_){p.default._validateParameters("createSlider",arguments);var x=document.createElement("input");return x.type="range",x.min=o,x.max=c,_===0?x.step=1e-18:_&&(x.step=_),typeof y=="number"&&(x.value=y),n(x,this)},p.default.prototype.createButton=function(o,c){p.default._validateParameters("createButton",arguments);var y=document.createElement("button");return y.innerHTML=o,c&&(y.value=c),n(y,this)},p.default.prototype.createCheckbox=function(){for(var o=arguments.length,c=new Array(o),y=0;y<o;y++)c[y]=arguments[y];p.default._validateParameters("createCheckbox",c);var _=document.createElement("div"),x=document.createElement("input"),b=(x.type="checkbox",document.createElement("label")),w=(b.appendChild(x),_.appendChild(b),n(_,this));return w.checked=function(){var M=w.elt.firstElementChild.getElementsByTagName("input")[0];if(M){if(arguments.length===0)return M.checked;M.checked=!(arguments.length<=0||!arguments[0])}return w},this.value=function(M){return w.value=M,this},c[0]&&(w.value(c[0]),(_=document.createElement("span")).innerHTML=c[0],b.appendChild(_)),c[1]&&(x.checked=!0),w},p.default.prototype.createSelect=function(){for(var o,c=arguments.length,y=new Array(c),_=0;_<c;_++)y[_]=arguments[_];p.default._validateParameters("createSelect",y);var x,b=y[0];return b instanceof p.default.Element&&b.elt instanceof HTMLSelectElement?this.elt=(o=b).elt:b instanceof HTMLSelectElement?(o=n(b,this),this.elt=b):(x=document.createElement("select"),b&&typeof b=="boolean"&&x.setAttribute("multiple","true"),o=n(x,this),this.elt=x),o.option=function(w,M){var E;if(w!==void 0){for(var A,C=0;C<this.elt.length;C+=1)if(this.elt[C].textContent===w){E=C;break}E!==void 0?M===!1?this.elt.remove(E):this.elt[E].value=M:((A=document.createElement("option")).textContent=w,A.value=M===void 0?w:M,this.elt.appendChild(A),this._pInst._elements.push(A))}},o.selected=function(w){if(w!==void 0){for(var M=0;M<this.elt.length;M+=1)this.elt[M].value.toString()===w.toString()&&(this.elt.selectedIndex=M);return this}if(this.elt.getAttribute("multiple")){var E=[],A=!0,C=!1,I=void 0;try{for(var F,R=this.elt.selectedOptions[Symbol.iterator]();!(A=(F=R.next()).done);A=!0){var U=F.value;E.push(U.value)}}catch(z){C=!0,I=z}finally{try{A||R.return==null||R.return()}finally{if(C)throw I}}return E}return this.elt.value},o.disable=function(w){if(typeof w=="string")for(var M=0;M<this.elt.length;M++)this.elt[M].value.toString()===w&&(this.elt[M].disabled=!0,this.elt[M].selected=!1);else this.elt.disabled=!0;return this},o.enable=function(w){if(typeof w=="string")for(var M=0;M<this.elt.length;M++)this.elt[M].value.toString()===w&&(this.elt[M].disabled=!1,this.elt[M].selected=!1);else{this.elt.disabled=!1;for(var E=0;E<this.elt.length;E++)this.elt[E].disabled=!1,this.elt[E].selected=!1}return this},o},p.default.prototype.createRadio=function(){function o(w){return w instanceof HTMLInputElement&&w.type==="radio"}T(o,"o");function c(w){return w instanceof HTMLLabelElement}T(c,"d");var y,_,x,b=arguments.length<=0?void 0:arguments[0];return b instanceof p.default.Element&&(b.elt instanceof HTMLDivElement||b.elt instanceof HTMLSpanElement)?(y=b,this.elt=b.elt):b instanceof HTMLDivElement||b instanceof HTMLSpanElement?(y=n(b,this),_=this.elt=b,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(x=arguments.length<=1?void 0:arguments[1])):(typeof b=="string"&&(x=b),_=document.createElement("div"),y=n(_,this),this.elt=_),y._name=x||"radioOption",y._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(w){return o(w)||c(w)&&o(w.firstElementChild)}).map(function(w){return o(w)?w:w.firstElementChild})},y.option=function(w,M){var E,A,C,I=!0,F=!1,R=void 0;try{for(var U,z=y._getOptionsArray()[Symbol.iterator]();!(I=(U=z.next()).done);I=!0){var P=U.value;if(P.value===w){E=P;break}}}catch(W){F=!0,R=W}finally{try{I||z.return==null||z.return()}finally{if(F)throw R}}return E===void 0&&((E=document.createElement("input")).setAttribute("type","radio"),E.setAttribute("value",w)),E.setAttribute("name",y._name),c(E.parentElement)?A=E.parentElement:(A=document.createElement("label")).insertAdjacentElement("afterbegin",E),A.lastElementChild instanceof HTMLSpanElement?C=A.lastElementChild:(C=document.createElement("span"),E.insertAdjacentElement("afterend",C)),C.innerHTML=M===void 0?w:M,this.elt.appendChild(A),E},y.remove=function(w){var M=!0,E=!1,A=void 0;try{for(var C,I=y._getOptionsArray()[Symbol.iterator]();!(M=(C=I.next()).done);M=!0){var F=C.value;if(F.value===w)return void(c(F.parentElement)?F.parentElement:F).remove()}}catch(R){E=!0,A=R}finally{try{M||I.return==null||I.return()}finally{if(E)throw A}}},y.value=function(){var w="",M=!0,E=!1,A=void 0;try{for(var C,I=y._getOptionsArray()[Symbol.iterator]();!(M=(C=I.next()).done);M=!0){var F=C.value;if(F.checked){w=F.value;break}}}catch(R){E=!0,A=R}finally{try{M||I.return==null||I.return()}finally{if(E)throw A}}return w},y.selected=function(w){var M=null;if(w===void 0){var E=!0,A=!1,C=void 0;try{for(var I,F=y._getOptionsArray()[Symbol.iterator]();!(E=(I=F.next()).done);E=!0){var R=I.value;if(R.checked){M=R;break}}}catch(Q){A=!0,C=Q}finally{try{E||F.return==null||F.return()}finally{if(A)throw C}}}else{y._getOptionsArray().forEach(function(j){j.checked=!1,j.removeAttribute("checked")});var U=!0,A=!1,C=void 0;try{for(var z,P=y._getOptionsArray()[Symbol.iterator]();!(U=(z=P.next()).done);U=!0){var W=z.value;W.value===w&&(W.setAttribute("checked",!0),W.checked=!0,M=W)}}catch(j){A=!0,C=j}finally{try{U||P.return==null||P.return()}finally{if(A)throw C}}}return M},y.disable=function(){var w=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],M=!0,E=!1,A=void 0;try{for(var C,I=y._getOptionsArray()[Symbol.iterator]();!(M=(C=I.next()).done);M=!0)C.value.setAttribute("disabled",w)}catch(F){E=!0,A=F}finally{try{M||I.return==null||I.return()}finally{if(E)throw A}}},y},p.default.prototype.createColorPicker=function(o){p.default._validateParameters("createColorPicker",arguments);var c=document.createElement("input");return c.type="color",o?o instanceof p.default.Color?c.value=o.toString("#rrggbb"):(p.default.prototype._colorMode="rgb",p.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},c.value=p.default.prototype.color(o).toString("#rrggbb")):c.value="#000000",(c=n(c,this)).color=function(){return o&&(o.mode&&(p.default.prototype._colorMode=o.mode),o.maxes&&(p.default.prototype._colorMaxes=o.maxes)),p.default.prototype.color(this.elt.value)},c},p.default.prototype.createInput=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",y=(p.default._validateParameters("createInput",arguments),document.createElement("input"));return y.setAttribute("value",o),y.setAttribute("type",c),n(y,this)},p.default.prototype.createFileInput=function(o){var c,y=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(p.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(c=document.createElement("input")).setAttribute("type","file"),y&&c.setAttribute("multiple",!0),c.addEventListener("change",function(_){var x=!0,b=!1,w=void 0;try{for(var M,E=_.target.files[Symbol.iterator]();!(x=(M=E.next()).done);x=!0){var A=M.value;p.default.File._load(A,o)}}catch(C){b=!0,w=C}finally{try{x||E.return==null||E.return()}finally{if(b)throw w}}},!1),n(c,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},p.default.prototype.createVideo=function(o,c){return p.default._validateParameters("createVideo",arguments),u(this,"video",o,c)},p.default.prototype.createAudio=function(o,c){return p.default._validateParameters("createAudio",arguments),u(this,"audio",o,c)},p.default.prototype.VIDEO="video",p.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(o){var c=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return c?new Promise(function(y,_){c.call(navigator,o,y,_)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),p.default.prototype.createCapture=function(){for(var o=arguments.length,c=new Array(o),y=0;y<o;y++)c[y]=arguments[y];if(p.default._validateParameters("createCapture",c),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var _,x=!0,b=!0,w=0,M=c;w<M.length;w++){var E=M[w];E===p.default.prototype.VIDEO?b=!1:E===p.default.prototype.AUDIO?x=!1:i(E)==="object"?A=E:typeof E=="function"&&(_=E)}var A=A||{video:x,audio:b},C=document.createElement("video"),I=(C.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(A).then(function(F){try{"srcObject"in C?C.srcObject=F:C.src=window.URL.createObjectURL(F)}catch{C.src=F}},console.log),n(C,this,!0));return I.loadedmetadata=!1,C.addEventListener("loadedmetadata",function(){C.play(),C.width?(I.width=C.width,I.height=C.height):(I.width=I.elt.width=C.videoWidth,I.height=I.elt.height=C.videoHeight),I.loadedmetadata=!0,_&&_(C.srcObject)}),I},p.default.prototype.createElement=function(o,c){return p.default._validateParameters("createElement",arguments),o=document.createElement(o),c!==void 0&&(o.innerHTML=c),n(o,this)},p.default.Element.prototype.addClass=function(o){return this.elt.className?this.hasClass(o)||(this.elt.className=this.elt.className+" "+o):this.elt.className=o,this},p.default.Element.prototype.removeClass=function(o){return this.elt.classList.remove(o),this},p.default.Element.prototype.hasClass=function(o){return this.elt.classList.contains(o)},p.default.Element.prototype.toggleClass=function(o){return this.elt.classList.contains(o)?this.elt.classList.remove(o):this.elt.classList.add(o),this},p.default.Element.prototype.child=function(o){return o===void 0?this.elt.childNodes:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof p.default.Element&&(o=o.elt),o instanceof HTMLElement&&this.elt.appendChild(o),this)},p.default.Element.prototype.center=function(o){var c=this.elt.style.display,y=this.elt.style.display==="none",_=this.parent().style.display==="none",x={x:this.elt.offsetLeft,y:this.elt.offsetTop},b=(y&&this.show(),_&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),w=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return o==="both"||o===void 0?this.position(b/2+this.parent().offsetLeft,w/2+this.parent().offsetTop):o==="horizontal"?this.position(b/2+this.parent().offsetLeft,x.y):o==="vertical"&&this.position(x.x,w/2+this.parent().offsetTop),this.style("display",c),y&&this.hide(),_&&this.parent().hide(),this},p.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},p.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},p.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var o="";return this.elt.style.transform&&(o=(o=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=o,this},p.default.Element.prototype._rotate=function(){var o="";return this.elt.style.transform&&(o=(o=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=o,this},p.default.Element.prototype.style=function(o,c){if((c=c instanceof p.default.Color?"rgba("+c.levels[0]+","+c.levels[1]+","+c.levels[2]+","+c.levels[3]/255+")":c)===void 0){if(o.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(o);for(var y=o.split(";"),_=0;_<y.length;_++){var x=y[_].split(":");x[0]&&x[1]&&(this.elt.style[x[0].trim()]=x[1].trim())}}else this.elt.style[o]=c,o!=="width"&&o!=="height"&&o!=="left"&&o!=="top"||(c=window.getComputedStyle(this.elt).getPropertyValue(o).replace(/[^\d.]/g,""),this[o]=Math.round(parseFloat(c,10)));return this},p.default.Element.prototype.attribute=function(o,c){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return c===void 0?this.elt.getAttribute(o):(this.elt.setAttribute(o,c),this);if(c===void 0)return this.elt.firstChild.getAttribute(o);for(var y=0;y<this.elt.childNodes.length;y++)this.elt.childNodes[y].setAttribute(o,c)},p.default.Element.prototype.removeAttribute=function(o){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var c=0;c<this.elt.childNodes.length;c++)this.elt.childNodes[c].removeAttribute(o);return this.elt.removeAttribute(o),this},p.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},p.default.Element.prototype.show=function(){return this.elt.style.display="block",this},p.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},p.default.Element.prototype.size=function(o,c){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var y=o,_=c,x=p.default.prototype.AUTO;if(y!==x||_!==x){if(y===x?y=c*this.width/this.height:_===x&&(_=o*this.height/this.width),this.elt instanceof HTMLCanvasElement){var b,w={},M=this.elt.getContext("2d");for(b in M)w[b]=M[b];for(b in this.elt.setAttribute("width",y*this._pInst._pixelDensity),this.elt.setAttribute("height",_*this._pInst._pixelDensity),this.elt.style.width=y+"px",this.elt.style.height=_+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),w)this.elt.getContext("2d")[b]=w[b]}else this.elt.style.width=y+"px",this.elt.style.height=_+"px",this.elt.width=y,this.elt.height=_;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},p.default.Element.prototype.remove=function(){this instanceof p.default.MediaElement&&(this.stop(),(c=this.elt.srcObject)!==null&&c.getTracks().forEach(function(y){y.stop()}));var o,c=this._pInst._elements.indexOf(this);for(o in c!==-1&&this._pInst._elements.splice(c,1),this._events)this.elt.removeEventListener(o,this._events[o]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},p.default.Element.prototype.drop=function(o,c){var y;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",y=T(function(_){_.preventDefault()},"b")),this.elt.addEventListener("dragleave",y)),p.default.Element._attachListener("drop",function(x){x.preventDefault(),typeof c=="function"&&c.call(this,x);var x=x.dataTransfer.files,b=!0,w=!1,M=void 0;try{for(var E,A=x[Symbol.iterator]();!(b=(E=A.next()).done);b=!0){var C=E.value;p.default.File._load(C,o)}}catch(I){w=!0,M=I}finally{try{b||A.return==null||A.return()}finally{if(w)throw M}}},this)):console.log("The File APIs are not fully supported in this browser."),this},p.default.Element.prototype.draggable=function(o){var c,y="ontouchstart"in window,_=0,x=0,b=0,w=0,M=y?"touchend":"mouseup",E=y?"touchmove":"mousemove";function A(I){var F;I=I||window.event,w=y?(F=I.changedTouches,_=b-parseInt(F[0].clientX),x=w-parseInt(F[0].clientY),b=parseInt(F[0].clientX),parseInt(F[0].clientY)):(_=b-parseInt(I.clientX),x=w-parseInt(I.clientY),b=parseInt(I.clientX),parseInt(I.clientY)),o.style.left=o.offsetLeft-_+"px",o.style.top=o.offsetTop-x+"px"}T(A,"A");function C(){document.removeEventListener(M,C,!1),document.removeEventListener(E,A,!1)}return T(C,"E"),o===void 0?c=o=this.elt:o!==this.elt&&o.elt!==this.elt&&(o=o.elt,c=this.elt),c.addEventListener(y?"touchstart":"mousedown",function(I){{var F;I=I||window.event,w=y?(F=I.changedTouches,b=parseInt(F[0].clientX),parseInt(F[0].clientY)):(b=parseInt(I.clientX),parseInt(I.clientY))}return document.addEventListener(M,C,!1),document.addEventListener(E,A,!1),!1},!1),c.style.cursor="move",this};function a(o,c,y,_){l(this,a),this.callback=o,this.time=c,this.id=y,this.val=_}T(a,"h"),t=function(o){var c=_;if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),o&&m(c,o);var y=f(_);function _(x,b){l(this,_);var w=r(b=y.call(this,x,b));return b.elt.crossOrigin="anonymous",b._prevTime=0,b._cueIDCounter=0,b._cues=[],b.pixels=[],b._pixelsState=r(b),b._pixelDensity=1,b._modified=!1,b._frameOnCanvas=-1,Object.defineProperty(w,"src",{get:function(){var M=w.elt.children[0].src,E=w.elt.src===window.location.href?"":w.elt.src;return M===window.location.href?E:M},set:function(M){for(var E=0;E<w.elt.children.length;E++)w.elt.removeChild(w.elt.children[E]);var A=document.createElement("source");A.src=M,x.appendChild(A),w.elt.src=M,w.modified=!0}}),w._onended=function(){},w.elt.onended=function(){w._onended(w)},b}return T(_,"M"),h(_,[{key:"play",value:function(){var x;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(x=this.elt.play())&&x.catch&&x.catch(function(b){b.name==="NotAllowedError"?console.error(b):console.error("Media play method encountered an unexpected error",b)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var x=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(x)},{passive:!0,once:!0})}},{key:"autoplay",value:function(x){var b=this,w=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",x),x&&!w&&(x=T(function(){return b._setupAutoplayFailDetection()},"T"),this.elt.readyState===4?x():this.elt.addEventListener("canplay",x,{passive:!0,once:!0})),this}},{key:"volume",value:function(x){if(x===void 0)return this.elt.volume;this.elt.volume=x}},{key:"speed",value:function(x){if(x===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=x:this.presetPlaybackRate=x}},{key:"time",value:function(x){return x===void 0?this.elt.currentTime:(this.elt.currentTime=x,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var x=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&x&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var x=arguments.length,b=new Array(x),w=0;w<x;w++)b[w]=arguments[w];return p.default.Renderer2D.prototype.loadPixels.apply(this,b)}},{key:"updatePixels",value:function(x,b,w,M){return this.loadedmetadata&&(this._ensureCanvas(),p.default.Renderer2D.prototype.updatePixels.call(this,x,b,w,M)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var x=arguments.length,b=new Array(x),w=0;w<x;w++)b[w]=arguments[w];return p.default.Renderer2D.prototype.get.apply(this,b)}},{key:"_getPixel",value:function(){this.loadPixels();for(var x=arguments.length,b=new Array(x),w=0;w<x;w++)b[w]=arguments[w];return p.default.Renderer2D.prototype._getPixel.apply(this,b)}},{key:"set",value:function(x,b,w){this.loadedmetadata&&(this._ensureCanvas(),p.default.Renderer2D.prototype.set.call(this,x,b,w),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var x=arguments.length,b=new Array(x),w=0;w<x;w++)b[w]=arguments[w];p.default.prototype.copy.apply(this,b)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var x=arguments.length,b=new Array(x),w=0;w<x;w++)b[w]=arguments[w];p.default.Image.prototype.mask.apply(this,b)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(x){this._modified=x}},{key:"onended",value:function(x){return this._onended=x,this}},{key:"connect",value:function(x){var b,w;if(typeof p.default.prototype.getAudioContext=="function")b=p.default.prototype.getAudioContext(),w=p.default.soundOut.input;else try{w=(b=x.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=b.createMediaElementSource(this.elt),this.audioSourceNode.connect(w)),x?x.input?this.audioSourceNode.connect(x.input):this.audioSourceNode.connect(x):this.audioSourceNode.connect(w)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(x,E,w){var M=this._cueIDCounter++,E=new a(E,x,M,w);return this._cues.push(E),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),M}},{key:"removeCue",value:function(x){for(var b=0;b<this._cues.length;b++)this._cues[b].id===x&&(console.log(x),this._cues.splice(b,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var x=this.time(),b=0;b<this._cues.length;b++){var w=this._cues[b].time,M=this._cues[b].val;this._prevTime<w&&w<=x&&this._cues[b].callback(M)}this._prevTime=x}}]),_}(p.default.Element),p.default.MediaElement=t,t=function(){function o(c,y){l(this,o),this.file=c,this._pInst=y,y=c.type.split("/"),this.type=y[0],this.subtype=y[1],this.name=c.name,this.size=c.size,this.data=void 0}return T(o,"o"),h(o,null,[{key:"_createLoader",value:function(c,y){var _=new FileReader;return _.onload=function(x){var b,w=new p.default.File(c);w.file.type==="application/json"?w.data=JSON.parse(x.target.result):w.file.type==="text/xml"?(b=new DOMParser().parseFromString(x.target.result,"text/xml"),w.data=new p.default.XML(b.documentElement)):w.data=x.target.result,y(w)},_}},{key:"_load",value:function(c,y){var _;/^text\//.test(c.type)||c.type==="application/json"?p.default.File._createLoader(c,y).readAsText(c):/^(video|audio)\//.test(c.type)?((_=new p.default.File(c)).data=URL.createObjectURL(c),y(_)):p.default.File._createLoader(c,y).readAsDataURL(c)}}]),o}(),p.default.File=t,t=p.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(t,Y,k){"use strict";function v(c){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}T(v,"m");function p(c){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(y){return v(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(c)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(o=t("../core/main"))&&o.__esModule?o:{default:o},h=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var y=m();if(y&&y.has(c))return y.get(c);var _,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var w;Object.prototype.hasOwnProperty.call(c,_)&&((w=b?Object.getOwnPropertyDescriptor(c,_):null)&&(w.get||w.set)?Object.defineProperty(x,_,w):x[_]=c[_])}return x.default=c,y&&y.set(c,x),x}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=T(function(){return c},"y"),c)}T(m,"y"),d.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",d.default.prototype.accelerationX=0,d.default.prototype.accelerationY=0,d.default.prototype.accelerationZ=0,d.default.prototype.pAccelerationX=0,d.default.prototype.pAccelerationY=0,d.default.prototype.pAccelerationZ=0,d.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},d.default.prototype.rotationX=0,d.default.prototype.rotationY=0,d.default.prototype.rotationZ=0,d.default.prototype.pRotationX=0,d.default.prototype.pRotationY=0;var f=d.default.prototype.pRotationZ=0,r=0,s=0,l="clockwise",i="clockwise",n="clockwise",u=(d.default.prototype.pRotateDirectionX=void 0,d.default.prototype.pRotateDirectionY=void 0,d.default.prototype.pRotateDirectionZ=void 0,d.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},d.default.prototype.turnAxis=void 0,.5),a=30,o=(d.default.prototype.setMoveThreshold=function(c){d.default._validateParameters("setMoveThreshold",arguments),u=c},d.default.prototype.setShakeThreshold=function(c){d.default._validateParameters("setShakeThreshold",arguments),a=c},d.default.prototype._ondeviceorientation=function(c){this._updatePRotations(),this._angleMode===h.radians&&(c.beta=c.beta*(_PI/180),c.gamma=c.gamma*(_PI/180),c.alpha=c.alpha*(_PI/180)),this._setProperty("rotationX",c.beta),this._setProperty("rotationY",c.gamma),this._setProperty("rotationZ",c.alpha),this._handleMotion()},d.default.prototype._ondevicemotion=function(c){this._updatePAccelerations(),this._setProperty("accelerationX",2*c.acceleration.x),this._setProperty("accelerationY",2*c.acceleration.y),this._setProperty("accelerationZ",2*c.acceleration.z),this._handleMotion()},d.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var c,y,_,x,b,w=this._isGlobal?window:this;typeof w.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>u||Math.abs(this.accelerationY-this.pAccelerationY)>u||Math.abs(this.accelerationZ-this.pAccelerationZ)>u)&&w.deviceMoved(),typeof w.deviceTurned=="function"&&(y=this.rotationX+180,c=this.pRotationX+180,_=f+180,0<y-c&&y-c<270||y-c<-270?l="clockwise":(y-c<0||270<y-c)&&(l="counter-clockwise"),l!==this.pRotateDirectionX&&(_=y),90<Math.abs(y-_)&&Math.abs(y-_)<270&&(_=y,this._setProperty("turnAxis","X"),w.deviceTurned()),this.pRotateDirectionX=l,f=_-180,c=this.rotationY+180,y=this.pRotationY+180,_=r+180,0<c-y&&c-y<270||c-y<-270?i="clockwise":(c-y<0||270<c-this.pRotationY)&&(i="counter-clockwise"),i!==this.pRotateDirectionY&&(_=c),90<Math.abs(c-_)&&Math.abs(c-_)<270&&(_=c,this._setProperty("turnAxis","Y"),w.deviceTurned()),this.pRotateDirectionY=i,r=_-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?n="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(n="counter-clockwise"),n!==this.pRotateDirectionZ&&(s=this.rotationZ),90<Math.abs(this.rotationZ-s)&&Math.abs(this.rotationZ-s)<270&&(s=this.rotationZ,this._setProperty("turnAxis","Z"),w.deviceTurned()),this.pRotateDirectionZ=n,this._setProperty("turnAxis",void 0)),typeof w.deviceShaken=="function"&&(this.pAccelerationX!==null&&(x=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),a<x+b&&w.deviceShaken())},d.default);k.default=o},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(p){var d;this._downKeys[p.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",p.which),this._downKeys[p.which]=!0,this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),typeof(d=this._isGlobal?window:this).keyPressed!="function"||p.charCode||d.keyPressed(p)===!1&&p.preventDefault())},v.default.prototype._onkeyup=function(p){this._downKeys[p.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),this._setProperty("keyCode",p.which);var d=this._isGlobal?window:this;typeof d.keyReleased=="function"&&d.keyReleased(p)===!1&&p.preventDefault()},v.default.prototype._onkeypress=function(p){var d;p.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",p.which),this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),typeof(d=this._isGlobal?window:this).keyTyped=="function"&&d.keyTyped(p)===!1&&p.preventDefault())},v.default.prototype._onblur=function(p){this._downKeys={}},v.default.prototype.keyIsDown=function(p){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[p]||!1},v.default.prototype._areDownKeys=function(){for(var p in this._downKeys)if(this._downKeys.hasOwnProperty(p)&&this._downKeys[p]===!0)return!0;return!1},t=v.default,k.default=t},{"../core/main":275}],294:[function(t,Y,k){"use strict";function v(f){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(f)}T(v,"m");function p(f){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(r){return v(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":v(r)})(f)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(d=t("../core/main"))&&d.__esModule?d:{default:d},h=function(f){if(f&&f.__esModule)return f;if(f===null||p(f)!=="object"&&typeof f!="function")return{default:f};var r=m();if(r&&r.has(f))return r.get(f);var s,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in f){var n;Object.prototype.hasOwnProperty.call(f,s)&&((n=i?Object.getOwnPropertyDescriptor(f,s):null)&&(n.get||n.set)?Object.defineProperty(l,s,n):l[s]=f[s])}return l.default=f,r&&r.set(f,l),l}(t("../core/constants"));function m(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,m=T(function(){return f},"y"),f)}T(m,"y"),d.default.prototype.movedX=0,d.default.prototype.movedY=0,d.default.prototype._hasMouseInteracted=!1,d.default.prototype.mouseX=0,d.default.prototype.mouseY=0,d.default.prototype.pmouseX=0,d.default.prototype.pmouseY=0,d.default.prototype.winMouseX=0,d.default.prototype.winMouseY=0,d.default.prototype.pwinMouseX=0,d.default.prototype.pwinMouseY=0,d.default.prototype.mouseButton=0,d.default.prototype.mouseIsPressed=!1,d.default.prototype._updateNextMouseCoords=function(f){var r,s,l,i,n;this._curElement!==null&&(!f.touches||0<f.touches.length)&&(r=this._curElement.elt,s=this.width,l=this.height,(i=f)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),n=r.getBoundingClientRect(),s=r.scrollWidth/s||1,r=r.scrollHeight/l||1,l={x:(i.clientX-n.left)/s,y:(i.clientY-n.top)/r,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",f.movementX),this._setProperty("movedY",f.movementY),this._setProperty("mouseX",l.x),this._setProperty("mouseY",l.y),this._setProperty("winMouseX",l.winX),this._setProperty("winMouseY",l.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},d.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},d.default.prototype._setMouseButton=function(f){f.button===1?this._setProperty("mouseButton",h.CENTER):f.button===2?this._setProperty("mouseButton",h.RIGHT):this._setProperty("mouseButton",h.LEFT)},d.default.prototype._onmousemove=function(f){var r=this._isGlobal?window:this;this._updateNextMouseCoords(f),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(f)===!1&&f.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(f)===!1&&f.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(f)===!1&&f.preventDefault()},d.default.prototype._onmousedown=function(f){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(f),this._updateNextMouseCoords(f),typeof r.mousePressed=="function"?r.mousePressed(f)===!1&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof r.touchStarted=="function"&&r.touchStarted(f)===!1&&f.preventDefault()},d.default.prototype._onmouseup=function(f){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof r.mouseReleased=="function"?r.mouseReleased(f)===!1&&f.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(f)===!1&&f.preventDefault()},d.default.prototype._ondragend=d.default.prototype._onmouseup,d.default.prototype._ondragover=d.default.prototype._onmousemove,d.default.prototype._onclick=function(f){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(f)===!1&&f.preventDefault()},d.default.prototype._ondblclick=function(f){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(f)===!1&&f.preventDefault()},d.default.prototype._mouseWheelDeltaY=0,d.default.prototype._pmouseWheelDeltaY=0,d.default.prototype._onwheel=function(f){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",f.deltaY),typeof r.mouseWheel=="function"&&(f.delta=f.deltaY,r.mouseWheel(f)===!1&&f.preventDefault())},d.default.prototype.requestPointerLock=function(){var f=this._curElement.elt;return f.requestPointerLock=f.requestPointerLock||f.mozRequestPointerLock,f.requestPointerLock?(f.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},d.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=d.default,k.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(t,Y,k){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(v){if(this._curElement!==null){for(var p=[],d=0;d<v.touches.length;d++)p[d]=function(n,i,u,r){var s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,l=n.getBoundingClientRect(),i=n.scrollWidth/i||1,n=n.scrollHeight/u||1,u=r.touches[s]||r.changedTouches[s];return{x:(u.clientX-l.left)/i,y:(u.clientY-l.top)/n,winX:u.clientX,winY:u.clientY,id:u.identifier}}(this._curElement.elt,this.width,this.height,v,d);this._setProperty("touches",p)}},t.default.prototype._ontouchstart=function(v){var p=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),typeof p.touchStarted=="function"?p.touchStarted(v)===!1&&v.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof p.mousePressed=="function"&&p.mousePressed(v)===!1&&v.preventDefault()},t.default.prototype._ontouchmove=function(v){var p=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),typeof p.touchMoved=="function"?p.touchMoved(v)===!1&&v.preventDefault():typeof p.mouseDragged=="function"&&p.mouseDragged(v)===!1&&v.preventDefault()},t.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var p=this._isGlobal?window:this;typeof p.touchEnded=="function"?p.touchEnded(v)===!1&&v.preventDefault():typeof p.mouseReleased=="function"&&p.mouseReleased(v)===!1&&v.preventDefault()},t=t.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(t,Y,k){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v,p,d,h,m={_toPixels:function(f){var r,s;return f instanceof ImageData?f.data:f.getContext("2d")?f.getContext("2d").getImageData(0,0,f.width,f.height).data:f.getContext("webgl")?(s=(r=f.getContext("webgl")).drawingBufferWidth*r.drawingBufferHeight*4,s=new Uint8Array(s),r.readPixels(0,0,f.width,f.height,r.RGBA,r.UNSIGNED_BYTE,s),s):void 0},_getARGB:function(f,r){return r*=4,f[3+r]<<24&4278190080|f[r]<<16&16711680|f[1+r]<<8&65280|255&f[2+r]},_setPixels:function(f,r){for(var s,l=0,i=f.length;l<i;l++)f[0+(s=4*l)]=(16711680&r[l])>>>16,f[1+s]=(65280&r[l])>>>8,f[2+s]=255&r[l],f[3+s]=(4278190080&r[l])>>>24},_toImageData:function(f){return f instanceof ImageData?f:f.getContext("2d").getImageData(0,0,f.width,f.height)},_createImageData:function(f,r){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(f,r)},apply:function(f,n,s){var l=f.getContext("2d"),i=l.getImageData(0,0,f.width,f.height),n=n(i,s);n instanceof ImageData?l.putImageData(n,0,0,0,0,f.width,f.height):l.putImageData(i,0,0,0,0,f.width,f.height)},threshold:function(f,r){for(var s=m._toPixels(f),l=(r===void 0&&(r=.5),Math.floor(255*r)),i=0;i<s.length;i+=4){var n=void 0,n=l<=.2126*s[i]+.7152*s[i+1]+.0722*s[i+2]?255:0;s[i]=s[i+1]=s[i+2]=n}},gray:function(f){for(var r=m._toPixels(f),s=0;s<r.length;s+=4){var l=r[s],i=r[s+1],n=r[s+2];r[s]=r[s+1]=r[s+2]=.2126*l+.7152*i+.0722*n}},opaque:function(f){for(var r=m._toPixels(f),s=0;s<r.length;s+=4)r[s+3]=255;return r},invert:function(f){for(var r=m._toPixels(f),s=0;s<r.length;s+=4)r[s]=255-r[s],r[s+1]=255-r[s+1],r[s+2]=255-r[s+2]},posterize:function(f,r){var s=m._toPixels(f);if((r=r===void 0?4:r)<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var l=r-1,i=0;i<s.length;i+=4){var n=s[i],u=s[i+1],a=s[i+2];s[i]=255*(n*r>>8)/l,s[i+1]=255*(u*r>>8)/l,s[i+2]=255*(a*r>>8)/l}},dilate:function(f){for(var r,s,l,i,n,u,a,o,c,y=m._toPixels(f),_=0,x=y.length?y.length/4:0,b=new Int32Array(x);_<x;)for(s=(r=_)+f.width;_<s;)i=l=m._getARGB(y,_),(c=_-1)<r&&(c=_),s<=(o=_+1)&&(o=_),(n=_-f.width)<0&&(n=0),x<=(u=_+f.width)&&(u=_),n=m._getARGB(y,n),c=m._getARGB(y,c),u=m._getARGB(y,u),(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(a=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(l=c,i=a),i<(a=77*((c=m._getARGB(y,o))>>16&255)+151*(c>>8&255)+28*(255&c))&&(l=c,i=a),i<(o=77*(n>>16&255)+151*(n>>8&255)+28*(255&n))&&(l=n,i=o),i<(c=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(l=u,i=c),b[_++]=l;m._setPixels(y,b)},erode:function(f){for(var r,s,l,i,n,u,a,o,c,y=m._toPixels(f),_=0,x=y.length?y.length/4:0,b=new Int32Array(x);_<x;)for(s=(r=_)+f.width;_<s;)i=l=m._getARGB(y,_),(c=_-1)<r&&(c=_),s<=(o=_+1)&&(o=_),(n=_-f.width)<0&&(n=0),x<=(u=_+f.width)&&(u=_),n=m._getARGB(y,n),c=m._getARGB(y,c),u=m._getARGB(y,u),(a=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(l=c,i=a),(a=77*((c=m._getARGB(y,o))>>16&255)+151*(c>>8&255)+28*(255&c))<i&&(l=c,i=a),(o=77*(n>>16&255)+151*(n>>8&255)+28*(255&n))<i&&(l=n,i=o),(c=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<i&&(l=u,i=c),b[_++]=l;m._setPixels(y,b)},blur:function(f,r){for(var s,l,i,n,u,a,o,c,y,_,x=m._toPixels(f),b=f.width,w=f.height,M=b*w,E=new Int32Array(M),A=0;A<M;A++)E[A]=m._getARGB(x,A);var C,I,F,R,U,z,P,W,Q=new Int32Array(M),ae=new Int32Array(M),j=new Int32Array(M),L=new Int32Array(M),G=0,N=3.5*r|0;if(v!==(N=N<1?1:N<248?N:248)){p=1+(v=N)<<1,d=new Int32Array(p),h=new Array(p);for(var Z=0;Z<p;Z++)h[Z]=new Int32Array(256);for(var oe=1,ie=N-1;oe<N;oe++){d[N+oe]=d[ie]=z=ie*ie,P=h[N+oe],W=h[ie--];for(var ce=0;ce<256;ce++)P[ce]=W[ce]=z*ce}U=d[N]=N*N,P=h[N];for(var ue=0;ue<256;ue++)P[ue]=U*ue}for(I=0;I<w;I++){for(C=0;C<b;C++){if(n=i=l=u=s=0,(a=C-v)<0)_=-a,a=0;else{if(b<=a)break;_=0}for(F=_;F<p&&!(b<=a);F++){var be=E[a+G];R=h[F],u+=R[(-16777216&be)>>>24],l+=R[(16711680&be)>>16],i+=R[(65280&be)>>8],n+=R[255&be],s+=d[F],a++}Q[o=G+C]=u/s,ae[o]=l/s,j[o]=i/s,L[o]=n/s}G+=b}for(y=(c=-v)*b,I=G=0;I<w;I++){for(C=0;C<b;C++){if(n=i=l=u=s=0,c<0)_=o=-c,a=C;else{if(w<=c)break;_=0,o=c,a=C+y}for(F=_;F<p&&!(w<=o);F++)R=h[F],u+=R[Q[a]],l+=R[ae[a]],i+=R[j[a]],n+=R[L[a]],s+=d[F],o++,a+=b;E[C+G]=u/s<<24|l/s<<16|i/s<<8|n/s}G+=b,y+=b,c++}m._setPixels(x,E)}};k.default=m},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=d(t("../core/main")),p=d(t("omggif"));function d(m){return m&&m.__esModule?m:{default:m}}T(d,"i");function h(m){return function(f){if(Array.isArray(f)){for(var r=0,s=new Array(f.length);r<f.length;r++)s[r]=f[r];return s}}(m)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(h,"f"),v.default.prototype.createImage=function(m,f){return v.default._validateParameters("createImage",arguments),new v.default.Image(m,f)},v.default.prototype.saveCanvas=function(){v.default._validateParameters("saveCanvas",arguments);var m,f,r,s,l,i,n=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(m=arguments[0],n.shift()):arguments[0]instanceof v.default.Element?(m=arguments[0].elt,n.shift()):arguments[0]instanceof v.default.Framebuffer?((l=this.createGraphics((s=arguments[0]).width,s.height)).pixelDensity(pixelDensity()),s.loadPixels(),l.loadPixels(),l.pixels.set(s.pixels),l.updatePixels(),m=l.elt,n.shift()):m=this._curElement&&this._curElement.elt,1<=n.length&&(f=n[0]),r=(r=2<=n.length?n[1]:r)||v.default.prototype._checkFileExtension(f,r)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}m.toBlob(function(u){v.default.prototype.downloadFile(u,f,r),l&&l.remove()},i)},v.default.prototype.encodeAndDownloadGif=function(m,f){for(var r=m.gifProperties,s=r.loopLimit,l=(s===1?s=null:s===null&&(s=0),new Uint8Array(m.width*m.height*r.numFrames)),i=[],n={},u=0;u<r.numFrames;u++){for(var a=new Set,o=r.frames[u].image.data,c=o.length,y=new Uint32Array(m.width*m.height),_=0,x=0;_<c;_+=4,x++){var b=o[_+0]<<16|o[_+1]<<8|o[_+2]<<0;a.add(b),y[x]=b}var w=h(a).sort().toString();n[w]===void 0?n[w]={freq:1,frames:[u]}:(n[w].freq+=1,n[w].frames.push(u)),i.push(y)}for(var A=[],M=Object.keys(n).sort(function(j,L){return n[L].freq-n[j].freq}),E=M[0].split(",").map(function(j){return parseInt(j)}),A=A.concat(n[E].frames),C=new Set(E),I=1;I<M.length;I++){var F=M[I].split(",").map(function(j){return parseInt(j)}).filter(function(j){return!C.has(j)});if(E.length+F.length<=256){for(var R=0;R<F.length;R++)E.push(F[R]),C.add(F[R]);A=A.concat(n[M[I]].frames)}}A=new Set(A);for(var U={},z=0;z<E.length;z++)U[E[z]]||(U[E[z]]=z);for(var P=1;P<E.length;)P<<=1;E.length=P;for(var s={loop:s,palette:new Uint32Array(E)},W=new p.default.GifWriter(l,m.width,m.height,s),Q={},ae=0;ae<r.numFrames;ae++)(function(L){var G=!A.has(L),N=G?[]:E,Z=new Uint8Array(m.width*m.height),oe={},ie=new Set,ce=(i[L].forEach(function(xe,Se){G?(oe[xe]===void 0&&(oe[xe]=N.length,N.push(xe)),Z[Se]=oe[xe]):Z[Se]=U[xe],0<L&&i[L-1][Se]!==xe&&ie.add(xe)}),{}),ue=N.filter(function(xe){return!ie.has(xe)});if(0<ue.length){var ue=ue[0],be=(G?oe:U)[ue];if(0<L){for(var ye=0;ye<i[L].length;ye++)i[L-1][ye]===i[L][ye]&&(Z[ye]=be);ce.transparent=be,Q.frameOpts.disposal=1}}if(ce.delay=r.frames[L].delay/10,G){for(var se=1;se<N.length;)se<<=1;N.length=se,ce.palette=new Uint32Array(N)}0<L&&W.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:Z,frameOpts:ce}})(ae);Q.frameOpts.disposal=1,W.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),s=new Blob([l.slice(0,W.end())],{type:"image/gif"}),v.default.prototype.downloadFile(s,f,"gif")},v.default.prototype.saveFrames=function(m,f,r,i,l){v.default._validateParameters("saveFrames",arguments),r=v.default.prototype.constrain(r=r||3,0,15),r*=1e3;var i=v.default.prototype.constrain(i||15,0,22),n=0,u=v.default.prototype._makeFrame,a=this._curElement.elt,o=[],c=setInterval(function(){o.push(u(m+n,f,a)),n++},1e3/i);setTimeout(function(){if(clearInterval(c),l)l(o);else for(var y=0,_=o;y<_.length;y++){var x=_[y];v.default.prototype.downloadFile(x.imageData,x.filename,x.ext)}o=[]},.01+r)},v.default.prototype._makeFrame=function(m,f,l){var s,l=this?this._curElement.elt:l;if(f)switch(f.toLowerCase()){case"png":s="image/png";break;case"jpeg":case"jpg":s="image/jpeg";break;default:s="image/png"}else f="png",s="image/png";var l=(l=l.toDataURL(s)).replace(s,"image/octet-stream"),i={};return i.imageData=l,i.filename=m,i.ext=f,i},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(t,Y,k){"use strict";function v(a){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}T(v,"m");function p(a){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(o){return v(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":v(o)})(a)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t("regenerator-runtime/runtime");var d=l(t("../core/main")),h=l(t("../core/helpers")),m=function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var o=s();if(o&&o.has(a))return o.get(a);var c,y={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var x;Object.prototype.hasOwnProperty.call(a,c)&&((x=_?Object.getOwnPropertyDescriptor(a,c):null)&&(x.get||x.set)?Object.defineProperty(y,c,x):y[c]=a[c])}return y.default=a,o&&o.set(a,y),y}(t("../core/constants")),f=l(t("omggif")),r=t("gifenc");function s(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,s=T(function(){return a},"a"),a)}T(s,"a");function l(a){return a&&a.__esModule?a:{default:a}}T(l,"s");function i(a,o,c,y,_,x,b){try{var w=a[x](b),M=w.value}catch(E){return void c(E)}w.done?o(M):Promise.resolve(M).then(y,_)}T(i,"n");function n(a,o,c,y,_,x,b,w,M,E,A){var C,I,F,R,U,z,P,W,Q;return a===m.COVER&&(C=o,F=c,P=x,W=b,z=w,Q=M,I=E,R=A,U=Math.max(P/I,W/R),P/=U,W/=U,U=z,z=Q,C===m.CENTER?U+=(I-P)/2:C===m.RIGHT&&(U+=I-P),F===m.CENTER?z+=(R-W)/2:F===m.BOTTOM&&(z+=R-W),w=(Q={x:U,y:z,w:P,h:W}).x,M=Q.y,E=Q.w,A=Q.h),a===m.CONTAIN&&(C=o,I=c,F=y,R=_,U=x,z=b,P=E,W=A,Q=Math.max(P/U,W/z),P/=Q,W/=Q,Q=F,F=R,C===m.CENTER?Q+=(U-P)/2:C===m.RIGHT&&(Q+=U-P),I===m.CENTER?F+=(z-W)/2:I===m.BOTTOM&&(F+=z-W),y=(a={x:Q,y:F,w:P,h:W}).x,_=a.y,x=a.w,b=a.h),{sx:w,sy:M,sw:E,sh:A,dx:y,dy:_,dw:x,dh:b}}T(n,"l");function u(a,o){return 0<a&&a<o?a:o}T(u,"u"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),d.default.prototype.loadImage=function(a,o,c){d.default._validateParameters("loadImage",arguments);var y=new d.default.Image(1,1,this),_=this,x=new Request(a,{method:"GET",mode:"cors"});return fetch(a,x).then(function(b){var w,M=b.headers.get("content-type");M===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),M&&M.includes("image/gif")?b.arrayBuffer().then(function(E){if(E){for(var E=new Uint8Array(E),A=y,C=o,I=c,F=function(G){_._decrementPreload()}.bind(_),R=new f.default.GifReader(E),U=(A.width=A.canvas.width=R.width,A.height=A.canvas.height=R.height,[]),z=R.numFrames(),P=new Uint8ClampedArray(A.width*A.height*4),W=0;W<z;W++){var Q=R.frameInfo(W),ae=A.drawingContext.getImageData(0,0,A.width,A.height),j=(P=ae.data.slice(),function(G,N){try{N.decodeAndBlitFrameRGBA(G,P)}catch(Z){d.default._friendlyFileLoadError(8,A.src),typeof I=="function"?I(Z):console.error(Z)}}(W,R),new ImageData(P,A.width,A.height)),j=(A.drawingContext.putImageData(j,0,0),Q.delay);j===0&&(j=10),U.push({image:A.drawingContext.getImageData(0,0,A.width,A.height),delay:10*j}),Q.disposal===2?A.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&A.drawingContext.putImageData(ae,0,0,Q.x,Q.y,Q.width,Q.height)}(E=R.loopCount())===null?E=1:E===0&&(E=null),A.drawingContext.putImageData(U[0].image,0,0),1<U.length&&(A.gifProperties={displayIndex:0,loopLimit:E,loopCount:0,frames:U,numFrames:z,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof C=="function"&&C(A),F()}},function(E){typeof c=="function"?(c(E),_._decrementPreload()):console.error(E)}):((w=new Image).onload=function(){y.width=y.canvas.width=w.width,y.height=y.canvas.height=w.height,y.drawingContext.drawImage(w,0,0),y.modified=!0,typeof o=="function"&&o(y),_._decrementPreload()},w.onerror=function(E){d.default._friendlyFileLoadError(0,w.src),typeof c=="function"?(c(E),_._decrementPreload()):console.error(E)},a.indexOf("data:image/")!==0&&(w.crossOrigin="Anonymous"),w.src=a),y.modified=!0}).catch(function(b){d.default._friendlyFileLoadError(0,a),typeof c=="function"?(c(b),_._decrementPreload()):console.error(b)}),y},d.default.prototype.saveGif=function(){a=regeneratorRuntime.mark(T(function c(y,_){var x,b,w,M,E,A,C,I,F,R,U,z,P,W,Q,ae,j,L,G,N,Z,oe,ie,ce,ue,be,ye=arguments;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(x=2<ye.length&&ye[2]!==void 0?ye[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof y!="string")throw TypeError("fileName parameter must be a string");se.next=3;break;case 3:if(typeof _!="number")throw TypeError("Duration parameter must be a number");se.next=5;break;case 5:if(b=x&&x.delay||0,w=x&&x.units||"seconds",M=x&&x.silent||!1,E=x&&x.notificationDuration||0,A=x&&x.notificationID||"progressBar",typeof b!="number")throw TypeError("Delay parameter must be a number");se.next=12;break;case 12:if(w!=="seconds"&&w!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');se.next=14;break;case 14:if(typeof M!="boolean")throw TypeError("Silent parameter must be a boolean");se.next=16;break;case 16:if(typeof E!="number")throw TypeError("Notification duration parameter must be a number");se.next=18;break;case 18:if(typeof A!="string")throw TypeError("Notification ID parameter must be a string");se.next=20;break;case 20:return this._recording=!0,R=this._targetFrameRate,C=(C=1/(R=R!==1/0&&R!==void 0&&R!==0?R:60)*1e3)<20?20:C,F=(I=w==="seconds"?_*R:_)+(R=w==="seconds"?b*R:b),R=R,this.frameCount=R,U=this._pixelDensity,this.pixelDensity(1),z=[],document.getElementById(A)!==null&&document.getElementById(A).remove(),M||((P=this.createP("")).id(A),P.style("font-size","16px"),P.style("font-family","Montserrat"),P.style("background-color","#ffffffa0"),P.style("padding","8px"),P.style("border-radius","10px"),P.position(0,0)),this._renderer instanceof d.default.RendererGL&&(Q=this.drawingContext,W=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),se.next=39,Promise.resolve();case 39:if(R<F)return this.redraw(),ce=void 0,ce=this._renderer instanceof d.default.RendererGL?(W=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,W),function(xe){for(var Se=parseInt(height/2),Ie=4*width,Me=new Uint8Array(4*width),q=0;q<Se;++q){var we=q*Ie,ve=(height-q-1)*Ie;Me.set(xe.subarray(we,we+Ie)),xe.copyWithin(we,ve,ve+Ie),xe.set(Me,ve)}return xe}(W)):this.drawingContext.getImageData(0,0,this.width,this.height).data,z.push(ce),R++,M||P.html("Saved frame <b>"+z.length.toString()+"</b> out of "+I.toString()),se.next=48,new Promise(function(xe){return setTimeout(xe,0)});se.next=50;break;case 48:se.next=39;break;case 50:M||P.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(U),ae=(0,r.GIFEncoder)(),j=function(xe){for(var Se=new Uint8Array(xe.length*xe[0].length),Ie=0;Ie<xe.length;Ie++)Se.set(xe[Ie],Ie*xe[0].length);var Me=(0,r.quantize)(Se,256,{format:"rgba4444",oneBitAlpha:!0});return Me.length===256?Me[Me.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Me.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Me}(z),L={},G=T(function(xe){for(var Se=xe.length/4,Ie=new Uint8Array(Se),Me=0;Me<Se;Me++){var q=xe[4*Me]<<24|xe[4*Me+1]<<16|xe[4*Me+2]<<8|xe[4*Me+3];L[q]===void 0&&(L[q]=(0,r.nearestColorIndex)(j,xe.slice(4*Me,4*(Me+1)))),Ie[Me]=L[q]}return Ie},"I"),N=j.length-1,Z=[],oe=0;case 60:if(!(oe<z.length)){se.next=71;break}if(ie=G(z[oe]),ce=ie.slice(),oe===0)ae.writeFrame(ie,this.width,this.height,{palette:j,delay:C,dispose:1});else{for(ue=0;ue<ie.length;ue++)ie[ue]===Z[ue]&&(ie[ue]=N);ae.writeFrame(ie,this.width,this.height,{delay:C,transparent:!0,transparentIndex:N,dispose:1})}return Z=ce,M||P.html("Rendered frame <b>"+oe.toString()+"</b> out of "+I.toString()),se.next=68,new Promise(function(xe){return setTimeout(xe,0)});case 68:oe++,se.next=60;break;case 71:ae.finish(),be=ae.bytesView(),be=new Blob([be],{type:"image/gif"}),z=[],this._recording=!1,this.loop(),M||(P.html("Done. Downloading your gif!\u{1F338}"),0<E&&setTimeout(function(){return P.remove()},1e3*E)),d.default.prototype.downloadFile(be,y,"gif");case 80:case"end":return se.stop()}},c,this)},"d"));var a,o=T(function(){var c=this,y=arguments;return new Promise(function(_,x){var b=a.apply(c,y);function w(E){i(b,_,x,w,M,"next",E)}T(w,"_");function M(E){i(b,_,x,w,M,"throw",E)}T(M,"C"),w(void 0)})},"o");return function(c,y){return o.apply(this,arguments)}}(),d.default.prototype.image=function(a,o,c,y,R,U,z,P,Q,E,A,C){d.default._validateParameters("image",arguments);var W=a.width,I=a.height,F=(C=C||m.CENTER,A=A||m.CENTER,a.elt&&(W=W!==void 0?W:a.elt.width,I=I!==void 0?I:a.elt.height),a.elt&&a.elt.videoWidth&&!a.canvas&&(W=W!==void 0?W:a.elt.videoWidth,I=I!==void 0?I:a.elt.videoHeight),y||W),R=R||I,U=U||0,z=z||0,P=u(P!==void 0?P:W,W),W=u(Q!==void 0?Q:I,I),Q=1;a.elt&&!a.canvas&&a.elt.style.width&&(Q=a.elt.videoWidth&&!y?a.elt.videoWidth:a.elt.width,Q/=parseInt(a.elt.style.width,10)),U*=Q,z*=Q,W*=Q,P*=Q,I=n(E,A,C,(I=h.default.modeAdjust(o,c,F,R,this._renderer._imageMode)).x,I.y,I.w,I.h,U,z,P,W),this._renderer.image(a,I.sx,I.sy,I.sw,I.sh,I.dx,I.dy,I.dw,I.dh)},d.default.prototype.tint=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];d.default._validateParameters("tint",o);var y=this.color.apply(this,o);this._renderer._tint=y.levels},d.default.prototype.noTint=function(){this._renderer._tint=null},d.default.prototype._getTintedImageCanvas=d.default.Renderer2D.prototype._getTintedImageCanvas,d.default.prototype.imageMode=function(a){d.default._validateParameters("imageMode",arguments),a!==m.CORNER&&a!==m.CORNERS&&a!==m.CENTER||(this._renderer._imageMode=a)},t=d.default,k.default=t},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=d(t("../core/main")),p=d(t("./filters"));function d(m){return m&&m.__esModule?m:{default:m}}T(d,"i");function h(m,f){for(var r=0;r<f.length;r++){var s=f[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(m,s.key,s)}}T(h,"f"),v.default.Image=function(){function m(l,i){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.width=l,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}T(m,"y");var f,r,s;return f=m,(r=[{key:"pixelDensity",value:function(l){return l!==void 0?(l<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),l=1),this._pixelDensity=l,this.width/=l,this.height/=l,this):this._pixelDensity}},{key:"_animateGif",value:function(u){var i,n=this.gifProperties,u=u._lastRealFrameTime;n.lastChangeTime===0&&(n.lastChangeTime=u),n.playing&&(n.timeDisplayed=u-n.lastChangeTime,i=n.frames[n.displayIndex].delay,n.timeDisplayed>=i&&(i=Math.floor(n.timeDisplayed/i),n.timeDisplayed=0,n.lastChangeTime=u,n.displayIndex+=i,n.loopCount=Math.floor(n.displayIndex/n.numFrames),n.loopLimit!==null&&n.loopCount>=n.loopLimit?n.playing=!1:(u=n.displayIndex%n.numFrames,this.drawingContext.putImageData(n.frames[u].image,0,0),n.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(l,i){this[l]=i,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(l,i,n,u){v.default.Renderer2D.prototype.updatePixels.call(this,l,i,n,u),this.setModified(!0)}},{key:"get",value:function(l,i,n,u){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return v.default.Renderer2D.prototype._getPixel.apply(this,i)}},{key:"set",value:function(l,i,n){v.default.Renderer2D.prototype.set.call(this,l,i,n),this.setModified(!0)}},{key:"resize",value:function(l,i){l===0&&i===0?(l=this.canvas.width,i=this.canvas.height):l===0?l=this.canvas.width*i/this.canvas.height:i===0&&(i=this.canvas.height*l/this.canvas.width),l=Math.floor(l),i=Math.floor(i);var n=document.createElement("canvas");if(n.width=l,n.height=i,this.gifProperties)for(var u=this.gifProperties,a=0;a<u.numFrames;a++){for(var o=this.drawingContext.createImageData(l,i),c=(w=w=b=x=_=void 0,u.frames[a].image),y=o,_=0,x=0;x<y.height;x++)for(var b=0;b<y.width;b++){var w=Math.floor(b*c.width/y.width),w=4*(Math.floor(x*c.height/y.height)*c.width+w);y.data[_++]=c.data[w++],y.data[_++]=c.data[w++],y.data[_++]=c.data[w++],y.data[_++]=c.data[+w]}u.frames[a].image=o}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=l,this.canvas.height=this.height=i,this.drawingContext.drawImage(n,0,0,l,i,0,0,l,i),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];v.default.prototype.copy.apply(this,i)}},{key:"mask",value:function(l){var i=this.drawingContext.globalCompositeOperation,n=1,u=[l=l===void 0?this:l,0,0,(n=l instanceof v.default.Renderer?l._pInst._pixelDensity:n)*l.width,n*l.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var a=0;a<this.gifProperties.frames.length;a++)this.drawingContext.putImageData(this.gifProperties.frames[a].image,0,0),this.copy.apply(this,u),this.gifProperties.frames[a].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,u);this.drawingContext.globalCompositeOperation=i,this.setModified(!0)}},{key:"filter",value:function(l,i){p.default.apply(this.canvas,p.default[l],i),this.setModified(!0)}},{key:"blend",value:function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,i),this.setModified(!0)}},{key:"setModified",value:function(l){this._modified=l}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(l,i){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,l):v.default.prototype.saveCanvas(this.canvas,l,i)}},{key:"reset",value:function(){var l;this.gifProperties&&((l=this.gifProperties).playing=!0,l.timeSinceStart=0,l.timeDisplayed=0,l.lastChangeTime=0,l.loopCount=0,l.displayIndex=0,this.drawingContext.putImageData(l.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var l;if(this.gifProperties)return(l=this.gifProperties).displayIndex%l.numFrames}},{key:"setFrame",value:function(l){var i;this.gifProperties&&(l<(i=this.gifProperties).numFrames&&0<=l?(i.timeDisplayed=0,i.lastChangeTime=0,i.displayIndex=l,this.drawingContext.putImageData(i.frames[l].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(l,i){if(this.gifProperties){var n=this.gifProperties;if(i<n.numFrames&&0<=i)n.frames[i].delay=l;else{var u=!0,i=!1,a=void 0;try{for(var o,c=n.frames[Symbol.iterator]();!(u=(o=c.next()).done);u=!0)o.value.delay=l}catch(_){i=!0,a=_}finally{try{u||c.return==null||c.return()}finally{if(i)throw a}}}}}}])&&h(f.prototype,r),s&&h(f,s),m}(),t=v.default.Image,k.default=t},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(t,Y,k){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=d(t("../core/main")),p=d(t("./filters"));function d(h){return h&&h.__esModule?h:{default:h}}T(d,"i"),t("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var h,m=arguments.length,f=new Array(m),r=0;r<m;r++)f[r]=arguments[r];v.default._validateParameters("blend",f),this._renderer?(h=this._renderer).blend.apply(h,f):v.default.Renderer2D.prototype.blend.apply(this,f)},v.default.prototype.copy=function(){for(var h,m,f,r,s,l,i,n,u,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];if(v.default._validateParameters("copy",o),o.length===9)h=o[0],m=o[1],f=o[2],r=o[3],s=o[4],l=o[5],i=o[6],n=o[7],u=o[8];else{if(o.length!==8)throw new Error("Signature not supported");h=this,m=o[0],f=o[1],r=o[2],s=o[3],l=o[4],i=o[5],n=o[6],u=o[7]}v.default.prototype._copyHelper(this,h,m,f,r,s,l,i,n,u)},v.default.prototype._copyHelper=function(h,m,f,r,s,l,i,n,u,a){var o=m.canvas.width/m.width,c=0,y=0;m._renderer&&m._renderer.isP3D&&(c=m.width/2,y=m.height/2),h._renderer&&h._renderer.isP3D?v.default.RendererGL.prototype.image.call(h._renderer,m,f+c,r+y,s,l,i,n,u,a):h.drawingContext.drawImage(m.canvas,o*(f+c),o*(r+y),o*s,o*l,i,n,u,a)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];v.default._validateParameters("filter",arguments);var i=function(){var n,u={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?u.shader=arguments.length<=0?void 0:arguments[0]:(u.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(u.value=arguments.length<=1?void 0:arguments[1]),((n=arguments.length-1)<0||arguments.length<=n?void 0:arguments[n])===!1&&(u.useWebGL=!1)),u}.apply(void 0,m),r=i.shader,s=i.operation,l=i.value,i=i.useWebGL;this._renderer.isP3D&&r?v.default.RendererGL.prototype.filter.call(this._renderer,r):i||this._renderer.isP3D?(!i&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,s,l):((r=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),r.filter.apply(r,m),this._renderer._pInst.image(r,0,0),r.clear())):this.canvas!==void 0?p.default.apply(this.canvas,p.default[s],l):p.default.apply(this.elt,p.default[s],l)},v.default.prototype.get=function(h,m,f,r){var s;return v.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},v.default.prototype.loadPixels=function(){for(var h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];v.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},v.default.prototype.set=function(h,m,f){this._renderer.set(h,m,f)},v.default.prototype.updatePixels=function(h,m,f,r){v.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(h,m,f,r)},t=v.default,k.default=t},{"../color/p5.Color":262,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155}],301:[function(t,Y,k){"use strict";function v(l){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=m(t("../core/main")),d=(t("whatwg-fetch"),t("es6-promise/auto"),m(t("fetch-jsonp"))),h=m(t("file-saver"));function m(l){return l&&l.__esModule?l:{default:l}}T(m,"y");function f(l){return(f=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(i){return v(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(l)}T(f,"g");function r(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}T(r,"r");function s(l,i){i&&i!==!0&&i!=="true"||(i="");var n="";return(l=l||"untitled")&&l.includes(".")&&(n=l.split(".").pop()),i&&n!==i&&(n=i,l="".concat(l,".").concat(n)),[l,n]}T(s,"a"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),p.default.prototype.loadJSON=function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];p.default._validateParameters("loadJSON",i);for(var u,a,o,c=i[0],y={},_="json",x=1;x<i.length;x++){var b=i[x];typeof b=="string"?b!=="jsonp"&&b!=="json"||(_=b):typeof b=="function"?u?a=b:u=b:f(b)==="object"&&(b.hasOwnProperty("jsonpCallback")||b.hasOwnProperty("jsonpCallbackFunction"))&&(_="jsonp",o=b)}var w=this;return this.httpDo(c,"GET",o,_,function(M){for(var E in M)y[E]=M[E];u!==void 0&&u(M),w._decrementPreload()},function(M){if(p.default._friendlyFileLoadError(5,c),!a)throw M;a(M)}),y},p.default.prototype.loadStrings=function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];p.default._validateParameters("loadStrings",i);for(var u,a,o=[],c=1;c<i.length;c++){var y=i[c];typeof y=="function"&&(u===void 0?u=y:a===void 0&&(a=y))}var _=this;return p.default.prototype.httpDo.call(this,i[0],"GET","text",function(x){for(var b=x.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),w=0,M=b.length;w<M;w+=32768)Array.prototype.push.apply(o,b.slice(w,Math.min(w+32768,M)));u!==void 0&&u(o),_._decrementPreload()},function(x){if(p.default._friendlyFileLoadError(3,x),!a)throw x;a(x)}),o},p.default.prototype.loadTable=function(l){var i,n,u,a=[],o=!1,c=l.substring(l.lastIndexOf(".")+1,l.length);c==="csv"?u=",":c==="ssv"?u=";":c==="tsv"&&(u="	");for(var y=1;y<arguments.length;y++)typeof arguments[y]=="function"?i===void 0?i=arguments[y]:n===void 0&&(n=arguments[y]):typeof arguments[y]=="string"&&(a.push(arguments[y]),arguments[y]==="header"&&(o=!0),arguments[y]==="csv"?u=",":arguments[y]==="ssv"?u=";":arguments[y]==="tsv"&&(u="	"));var _=new p.default.Table,x=this;return this.httpDo(l,"GET","table",function(b){for(var w,M,E={},A=0,C=[],I=0,F=null,R=function(){E.currentState=A,E.token=""},U=function(){F.push(E.token),R()},z=function(){E.currentState=4,C.push(F),F=null};;){if((w=b[I++])==null){if(E.escaped)throw new Error("Unclosed quote in file.");if(F){U(),z();break}}if(F===null&&(E.escaped=!1,F=[],R()),E.currentState===A){if(w==='"'){E.escaped=!0,E.currentState=1;continue}E.currentState=1}if(E.currentState===1&&E.escaped)if(w==='"')b[I]==='"'?(E.token+='"',I++):(E.escaped=!1,E.currentState=2);else{if(w==="\r")continue;E.token+=w}else w==="\r"?(b[I]===`
`&&I++,U(),z()):w===`
`?(U(),z()):w===u?U():E.currentState===1&&(E.token+=w)}if(o)_.columns=C.shift();else for(var P=0;P<C[0].length;P++)_.columns[P]="null";for(var W=0;W<C.length;W++)(C[W].length!==1||C[W][0]!=="undefined"&&C[W][0]!=="")&&((M=new p.default.TableRow).arr=C[W],M.obj=function(Q,ae){if((ae=ae||[])===void 0)for(var j=0;j<Q.length;j++)ae[j.toString()]=j;return Object.fromEntries(ae.map(function(L,G){return[L,Q[G]]}))}(C[W],_.columns),_.addRow(M));typeof i=="function"&&i(_),x._decrementPreload()},function(b){p.default._friendlyFileLoadError(2,l),n?n(b):console.error(b)}),_},p.default.prototype.loadXML=function(){for(var l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];for(var u,a,o=new p.default.XML,c=1;c<i.length;c++){var y=i[c];typeof y=="function"&&(u===void 0?u=y:a===void 0&&(a=y))}var _=this;return this.httpDo(i[0],"GET","xml",function(x){for(var b in x)o[b]=x[b];u!==void 0&&u(o),_._decrementPreload()},function(x){if(p.default._friendlyFileLoadError(1,x),!a)throw x;a(x)}),o},p.default.prototype.loadBytes=function(l,i,n){var u={},a=this;return this.httpDo(l,"GET","arrayBuffer",function(o){u.bytes=new Uint8Array(o),typeof i=="function"&&i(u),a._decrementPreload()},function(o){if(p.default._friendlyFileLoadError(6,l),!n)throw o;n(o)}),u},p.default.prototype.httpGet=function(){p.default._validateParameters("httpGet",arguments);var l=Array.prototype.slice.call(arguments);return l.splice(1,0,"GET"),p.default.prototype.httpDo.apply(this,l)},p.default.prototype.httpPost=function(){p.default._validateParameters("httpPost",arguments);var l=Array.prototype.slice.call(arguments);return l.splice(1,0,"POST"),p.default.prototype.httpDo.apply(this,l)},p.default.prototype.httpDo=function(){for(var l,i,n,u={},a=0,o="text/plain",c=arguments.length-1;0<c&&typeof(c<0||arguments.length<=c?void 0:arguments[c])=="function";c--)a++;var y=arguments.length-a,_=arguments.length<=0?void 0:arguments[0];if(y==2&&typeof _=="string"&&f(arguments.length<=1?void 0:arguments[1])==="object")A=new Request(_,arguments.length<=1?void 0:arguments[1]),i=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3];else{for(var x,b="GET",w=1;w<arguments.length;w++){var M=w<0||arguments.length<=w?void 0:arguments[w];if(typeof M=="string")M==="GET"||M==="POST"||M==="PUT"||M==="DELETE"?b=M:M==="json"||M==="jsonp"||M==="binary"||M==="arrayBuffer"||M==="xml"||M==="text"||M==="table"?l=M:x=M;else if(typeof M=="number")x=M.toString();else if(f(M)==="object")if(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))for(var E in M)u[E]=M[E];else o=M instanceof p.default.XML?(x=M.serialize(),"application/xml"):(x=JSON.stringify(M),"application/json");else typeof M=="function"&&(i?n=M:i=M)}var y=b==="GET"?new Headers:new Headers({"Content-Type":o}),A=new Request(_,{method:b,mode:"cors",body:x,headers:y})}return(y=(y=(l=l||(_.includes("json")?"json":_.includes("xml")?"xml":"text"))==="jsonp"?(0,d.default)(_,u):fetch(A)).then(function(C){if(!C.ok)throw(I=new Error(C.body)).status=C.status,I.ok=!1,I;var I=0;switch((I=l!=="jsonp"?C.headers.get("content-length"):I)&&64e6<I&&p.default._friendlyFileLoadError(7,_),l){case"json":case"jsonp":return C.json();case"binary":return C.blob();case"arrayBuffer":return C.arrayBuffer();case"xml":return C.text().then(function(F){return F=new DOMParser().parseFromString(F,"text/xml"),new p.default.XML(F.documentElement)});default:return C.text()}})).then(i||function(){}),y.catch(n||console.error),y},window.URL=window.URL||window.webkitURL,p.default.prototype._pWriters=[],p.default.prototype.createWriter=function(l,i){var n,u;for(u in p.default.prototype._pWriters)if(p.default.prototype._pWriters[u].name===l)return n=new p.default.PrintWriter(l+this.millis(),i),p.default.prototype._pWriters.push(n),n;return n=new p.default.PrintWriter(l,i),p.default.prototype._pWriters.push(n),n},p.default.PrintWriter=function(l,i){var n=this;this.name=l,this.content="",this.write=function(u){this.content+=u},this.print=function(u){this.content+="".concat(u,`
`)},this.clear=function(){this.content=""},this.close=function(){var u,a=[];for(u in a.push(this.content),p.default.prototype.writeFile(a,l,i),p.default.prototype._pWriters)p.default.prototype._pWriters[u].name===this.name&&p.default.prototype._pWriters.splice(u,1);n.clear(),n={}}},p.default.prototype.save=function(l,i,n){var u=arguments,a=(this._curElement||this).elt;if(u.length===0)p.default.prototype.saveCanvas(a);else if(u[0]instanceof p.default.Renderer||u[0]instanceof p.default.Graphics)p.default.prototype.saveCanvas(u[0].elt,u[1],u[2]);else if(u.length===1&&typeof u[0]=="string")p.default.prototype.saveCanvas(a,u[0]);else switch(s(u[1],u[2])[1]){case"json":return void p.default.prototype.saveJSON(u[0],u[1],u[2]);case"txt":return void p.default.prototype.saveStrings(u[0],u[1],u[2]);default:u[0]instanceof Array?p.default.prototype.saveStrings(u[0],u[1],u[2]):u[0]instanceof p.default.Table?p.default.prototype.saveTable(u[0],u[1],u[2]):u[0]instanceof p.default.Image?p.default.prototype.saveCanvas(u[0].canvas,u[1]):u[0]instanceof p.default.SoundFile&&p.default.prototype.saveSound(u[0],u[1],u[2],u[3])}},p.default.prototype.saveJSON=function(l,i,n){p.default._validateParameters("saveJSON",arguments),n=n?JSON.stringify(l):JSON.stringify(l,void 0,2),this.saveStrings(n.split(`
`),i,"json")},p.default.prototype.saveJSONObject=p.default.prototype.saveJSON,p.default.prototype.saveJSONArray=p.default.prototype.saveJSON,p.default.prototype.saveStrings=function(l,i,n,u){p.default._validateParameters("saveStrings",arguments);for(var a=this.createWriter(i,n||"txt"),o=0;o<l.length;o++)u?a.write(l[o]+`\r
`):a.write(l[o]+`
`);a.close(),a.clear()},p.default.prototype.saveTable=function(l,i,n){p.default._validateParameters("saveTable",arguments),u=n===void 0?i.substring(i.lastIndexOf(".")+1,i.length):n;var u,a=this.createWriter(i,u),o=l.columns,c=u==="tsv"?"	":",";if(u!=="html"){if(o[0]!=="0"){for(var y=0;y<o.length;y++)y<o.length-1?a.write(o[y]+c):a.write(o[y]);a.write(`
`)}for(var _=0;_<l.rows.length;_++){for(var x=void 0,x=0;x<l.rows[_].arr.length;x++)x<l.rows[_].arr.length-1?u==="csv"&&String(l.rows[_].arr[x]).includes(",")?a.write('"'+l.rows[_].arr[x]+'"'+c):a.write(l.rows[_].arr[x]+c):u==="csv"&&String(l.rows[_].arr[x]).includes(",")?a.write('"'+l.rows[_].arr[x]+'"'):a.write(l.rows[_].arr[x]);a.write(`
`)}}else{if(a.print("<html>"),a.print("<head>"),a.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),a.print("</head>"),a.print("<body>"),a.print("  <table>"),o[0]!=="0"){a.print("    <tr>");for(var b=0;b<o.length;b++){var w=r(o[b]);a.print("      <td>".concat(w)),a.print("      </td>")}a.print("    </tr>")}for(var M=0;M<l.rows.length;M++){a.print("    <tr>");for(var E=0;E<l.columns.length;E++){var A=r(l.rows[M].getString(E));a.print("      <td>".concat(A)),a.print("      </td>")}a.print("    </tr>")}a.print("  </table>"),a.print("</body>"),a.print("</html>")}a.close(),a.clear()},p.default.prototype.writeFile=function(a,i,n){var u="application/octet-stream",a=(p.default.prototype._isSafari()&&(u="text/plain"),new Blob(a,{type:u}));p.default.prototype.downloadFile(a,i,n)},p.default.prototype.downloadFile=function(l,a,o){var u,a=s(a,o),o=a[0];l instanceof Blob?h.default.saveAs(l,o):((u=document.createElement("a")).href=l,u.download=o,u.onclick=function(c){document.body.removeChild(c.target),c.stopPropagation()},u.style.display="none",document.body.appendChild(u),p.default.prototype._isSafari()&&(l=(l=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(a[1],'"'),alert(l)),u.click())},p.default.prototype._checkFileExtension=s,p.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=p.default,k.default=t},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(d,h){for(var m=0;m<h.length;m++){var f=h[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}T(p,"p"),v.default.Table=function(){function d(r){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}T(d,"i");var h,m,f;return h=d,(m=[{key:"addRow",value:function(r){if(r=r||new v.default.TableRow,r.arr===void 0||r.obj===void 0)throw new Error("invalid TableRow: ".concat(r));return(r.table=this).rows.push(r),r}},{key:"removeRow",value:function(r){this.rows[r].table=null,r=this.rows.splice(r+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(r)}},{key:"getRow",value:function(r){return this.rows[r]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(r,s){if(typeof s=="string"){for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[s]===r)return this.rows[l]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[s]===r)return this.rows[i];return null}},{key:"findRows",value:function(r,s){var l=[];if(typeof s=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[s]===r&&l.push(this.rows[i]);else for(var n=0;n<this.rows.length;n++)this.rows[n].arr[s]===r&&l.push(this.rows[n]);return l}},{key:"matchRow",value:function(r,s){if(typeof s=="number"){for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[s].match(r))return this.rows[l]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[s].match(r))return this.rows[i];return null}},{key:"matchRows",value:function(r,s){var l=[];if(typeof s=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[s].match(r)&&l.push(this.rows[i]);else for(var n=0;n<this.rows.length;n++)this.rows[n].obj[s].match(r)&&l.push(this.rows[n]);return l}},{key:"getColumn",value:function(r){var s=[];if(typeof r=="string")for(var l=0;l<this.rows.length;l++)s.push(this.rows[l].obj[r]);else for(var i=0;i<this.rows.length;i++)s.push(this.rows[i].arr[r]);return s}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(r){this.columns.push(r||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(r,s){for(var l=[],i=0;i<r.length;i++)l.push(r.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var n=new RegExp(l.join("|"),"g");if(s===void 0)for(var u=0;u<this.columns.length;u++)for(var a=0;a<this.rows.length;a++){var o=(o=this.rows[a].arr[u]).replace(n,"");this.rows[a].arr[u]=o,this.rows[a].obj[this.columns[u]]=o}else if(typeof s=="string")for(var c=0;c<this.rows.length;c++){var y=(y=this.rows[c].obj[s]).replace(n,""),_=(this.rows[c].obj[s]=y,this.columns.indexOf(s));this.rows[c].arr[_]=y}else for(var x=0;x<this.rows.length;x++){var b=(b=this.rows[x].arr[s]).replace(n,"");this.rows[x].arr[s]=b,this.rows[x].obj[this.columns[s]]=b}}},{key:"trim",value:function(r){var s=new RegExp(" ","g");if(r===void 0)for(var l=0;l<this.columns.length;l++)for(var i=0;i<this.rows.length;i++){var n=(n=this.rows[i].arr[l]).replace(s,"");this.rows[i].arr[l]=n,this.rows[i].obj[this.columns[l]]=n}else if(typeof r=="string")for(var u=0;u<this.rows.length;u++){var a=(a=this.rows[u].obj[r]).replace(s,""),o=(this.rows[u].obj[r]=a,this.columns.indexOf(r));this.rows[u].arr[o]=a}else for(var c=0;c<this.rows.length;c++){var y=(y=this.rows[c].arr[r]).replace(s,"");this.rows[c].arr[r]=y,this.rows[c].obj[this.columns[r]]=y}}},{key:"removeColumn",value:function(i){typeof i=="string"?l=this.columns.indexOf(s=i):s=this.columns[l=i];var s,l,i=this.columns.splice(l+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var n=0;n<this.rows.length;n++){var u=this.rows[n].arr,a=u.splice(l+1,u.length);u.pop(),this.rows[n].arr=u.concat(a),delete this.rows[n].obj[s]}}},{key:"set",value:function(r,s,l){this.rows[r].set(s,l)}},{key:"setNum",value:function(r,s,l){this.rows[r].setNum(s,l)}},{key:"setString",value:function(r,s,l){this.rows[r].setString(s,l)}},{key:"get",value:function(r,s){return this.rows[r].get(s)}},{key:"getNum",value:function(r,s){return this.rows[r].getNum(s)}},{key:"getString",value:function(r,s){return this.rows[r].getString(s)}},{key:"getObject",value:function(r){for(var s,l={},i=0;i<this.rows.length;i++)if(s=this.rows[i].obj,typeof r=="string"){if(!(0<=this.columns.indexOf(r)))throw new Error('This table has no column named "'.concat(r,'"'));l[s[r]]=s}else l[i]=this.rows[i].obj;return l}},{key:"getArray",value:function(){for(var r=[],s=0;s<this.rows.length;s++)r.push(this.rows[s].arr);return r}}])&&p(h.prototype,m),f&&p(h,f),d}(),t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(t,Y,k){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function v(p,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}T(v,"m"),t.default.TableRow=function(){function p(f,r){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var s=[];f&&(s=f.split(r=r||",")),this.arr=s,this.obj=Object.fromEntries(s.entries()),this.table=null}T(p,"p");var d,h,m;return d=p,(h=[{key:"set",value:function(f,r){if(typeof f=="string"){var s=this.table.columns.indexOf(f);if(!(0<=s))throw new Error('This table has no column named "'.concat(f,'"'));this.obj[f]=r,this.arr[s]=r}else{if(!(f<this.table.columns.length))throw new Error("Column #".concat(f," is out of the range of this table"));this.arr[f]=r,s=this.table.columns[f],this.obj[s]=r}}},{key:"setNum",value:function(f,r){r=parseFloat(r),this.set(f,r)}},{key:"setString",value:function(f,r){r=r.toString(),this.set(f,r)}},{key:"get",value:function(f){return(typeof f=="string"?this.obj:this.arr)[f]}},{key:"getNum",value:function(f){var r=parseFloat(typeof f=="string"?this.obj[f]:this.arr[f]);if(r.toString()==="NaN")throw"Error: ".concat(this.obj[f]," is NaN (Not a Number)");return r}},{key:"getString",value:function(f){return(typeof f=="string"?this.obj:this.arr)[f].toString()}}])&&v(d.prototype,h),m&&v(d,m),p}(),t=t.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(h,m){for(var f=0;f<m.length;f++){var r=m[f];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(h,r.key,r)}}T(p,"p");function d(h){for(var m=[],f=0;f<h.length;f++)m.push(new v.default.XML(h[f]));return m}T(d,"i"),v.default.XML=function(){function h(s){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))}T(h,"f");var m,f,r;return m=h,(f=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(s){var l=this.DOM.innerHTML,i=this.DOM.attributes,n=document.implementation.createDocument(null,"default").createElement(s);n.innerHTML=l;for(var u=0;u<i.length;u++)n.setAttribute(i[u].nodeName,i.nodeValue);this.DOM=n}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var s=[],l=0;l<this.DOM.childNodes.length;l++)s.push(this.DOM.childNodes[l].nodeName);return s}},{key:"getChildren",value:function(s){return d(s?this.DOM.getElementsByTagName(s):this.DOM.children)}},{key:"getChild",value:function(s){if(typeof s!="string")return new v.default.XML(this.DOM.children[s]);var l=!0,i=!1,n=void 0;try{for(var u,a=this.DOM.children[Symbol.iterator]();!(l=(u=a.next()).done);l=!0){var o=u.value;if(o.tagName===s)return new v.default.XML(o)}}catch(c){i=!0,n=c}finally{try{l||a.return==null||a.return()}finally{if(i)throw n}}}},{key:"addChild",value:function(s){s instanceof v.default.XML&&this.DOM.appendChild(s.DOM)}},{key:"removeChild",value:function(s){var l=-1;if(typeof s=="string"){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===s){l=i;break}}else l=s;l!==-1&&this.DOM.removeChild(this.DOM.children[l])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var s=[],l=!0,i=!1,n=void 0;try{for(var u,a=this.DOM.attributes[Symbol.iterator]();!(l=(u=a.next()).done);l=!0){var o=u.value;s.push(o.nodeName)}}catch(c){i=!0,n=c}finally{try{l||a.return==null||a.return()}finally{if(i)throw n}}return s}},{key:"hasAttribute",value:function(s){var l={},i=!0,n=!1,u=void 0;try{for(var a,o=this.DOM.attributes[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var c=a.value;l[c.nodeName]=c.nodeValue}}catch(y){n=!0,u=y}finally{try{i||o.return==null||o.return()}finally{if(n)throw u}}return!!l[s]}},{key:"getNum",value:function(s,l){var i={},n=!0,u=!1,a=void 0;try{for(var o,c=this.DOM.attributes[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var y=o.value;i[y.nodeName]=y.nodeValue}}catch(_){u=!0,a=_}finally{try{n||c.return==null||c.return()}finally{if(u)throw a}}return Number(i[s])||l||0}},{key:"getString",value:function(s,l){var i={},n=!0,u=!1,a=void 0;try{for(var o,c=this.DOM.attributes[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var y=o.value;i[y.nodeName]=y.nodeValue}}catch(_){u=!0,a=_}finally{try{n||c.return==null||c.return()}finally{if(u)throw a}}return i[s]?String(i[s]):l||null}},{key:"setAttribute",value:function(s,l){this.DOM.setAttribute(s,l)}},{key:"getContent",value:function(s){var l=this.DOM.textContent;return(l=l.replace(/\s\s+/g,","))||s||null}},{key:"setContent",value:function(s){this.DOM.children.length||(this.DOM.textContent=s)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&p(m.prototype,f),r&&p(m,r),h}(),t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(p,d,h){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(p,h),d)},v.default.prototype.dist=function(){for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];return v.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(p,d,h){return v.default._validateParameters("lerp",arguments),h*(d-p)+p},v.default.prototype.log=Math.log,v.default.prototype.mag=function(p,d){return v.default._validateParameters("mag",arguments),Math.hypot(p,d)},v.default.prototype.map=function(p,d,h,m,f,r){return v.default._validateParameters("map",arguments),p=(p-d)/(h-d)*(f-m)+m,r?m<f?this.constrain(p,m,f):this.constrain(p,f,m):p},v.default.prototype.max=function(){for(var p=function(f){var r=-1/0,s=!0,l=!1,i=void 0;try{for(var n,u=f[Symbol.iterator]();!(s=(n=u.next()).done);s=!0)var a=n.value,r=r<a?a:r}catch(o){l=!0,i=o}finally{try{s||u.return==null||u.return()}finally{if(l)throw i}}return r},d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return h[0]instanceof Array?p(h[0]):p(h)},v.default.prototype.min=function(){for(var p=function(f){var r=1/0,s=!0,l=!1,i=void 0;try{for(var n,u=f[Symbol.iterator]();!(s=(n=u.next()).done);s=!0)var a=n.value,r=a<r?a:r}catch(o){l=!0,i=o}finally{try{s||u.return==null||u.return()}finally{if(l)throw i}}return r},d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return h[0]instanceof Array?p(h[0]):p(h)},v.default.prototype.norm=function(p,d,h){return v.default._validateParameters("norm",arguments),this.map(p,d,h,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(p,d){return d?(d=Math.pow(10,d),Math.round(p*d)/d):Math.round(p)},v.default.prototype.sq=function(p){return p*p},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(m){v.default._validateParameters("fract",arguments);var d,h=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,h=1),String(m).includes(".")&&!String(m).includes("e")?(d=String(m),d=+("0"+d.slice(d.indexOf("."))),Math.abs(h-d)):m<1?Math.abs(h-m):0)},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(h,m,f){return(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(r,s,l){var i=[null];return i.push.apply(i,s),s=new(Function.bind.apply(r,i)),l&&d(s,l.prototype),s}).apply(null,arguments)}T(p,"p");function d(h,m){return(d=Object.setPrototypeOf||function(f,r){return f.__proto__=r,f})(h,m)}T(d,"i"),v.default.prototype.createVector=function(h,m,f){return this instanceof v.default?p(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(h,m,f)},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(f,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,f=(f=f("../core/main"))&&f.__esModule?f:{default:f};function v(r){return .5*(1-Math.cos(r*Math.PI))}T(v,"m");var p,d=4095,h=4,m=.5,f=(f.default.prototype.noise=function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(p==null){p=new Array(4096);for(var i=0;i<4096;i++)p[i]=Math.random()}r<0&&(r=-r),s<0&&(s=-s),l<0&&(l=-l);for(var n,u,a=Math.floor(r),o=Math.floor(s),c=Math.floor(l),y=r-a,_=s-o,x=l-c,b=0,w=.5,M=0;M<h;M++){var E=a+(o<<4)+(c<<8),A=v(y),C=v(_),I=p[E&d];I+=A*(p[E+1&d]-I),n=p[E+16&d],I+=C*((n+=A*(p[E+16+1&d]-n))-I),n=p[(E+=256)&d],n+=A*(p[E+1&d]-n),u=p[E+16&d],n+=C*((u+=A*(p[E+16+1&d]-u))-n),b+=(I+=v(x)*(n-I))*w,w*=m,a<<=1,o<<=1,c<<=1,1<=(y*=2)&&(a++,y--),1<=(_*=2)&&(o++,_--),1<=(x*=2)&&(c++,x--)}return b},f.default.prototype.noiseDetail=function(r,s){0<r&&(h=r),0<s&&(m=s)},f.default.prototype.noiseSeed=function(r){i=4294967296;var s,l,i,n={setSeed:function(a){l=s=(a??Math.random()*i)>>>0},getSeed:function(){return s},rand:function(){return(l=(1664525*l+1013904223)%i)/i}};n.setSeed(r),p=new Array(4096);for(var u=0;u<4096;u++)p[u]=n.rand()},f.default);k.default=f},{"../core/main":275}],308:[function(t,Y,k){"use strict";function v(i){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}T(v,"m");function p(i){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(n){return v(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":v(n)})(i)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(l=t("../core/main"))&&l.__esModule?l:{default:l},h=function(i){if(i&&i.__esModule)return i;if(i===null||p(i)!=="object"&&typeof i!="function")return{default:i};var n=m();if(n&&n.has(i))return n.get(i);var u,a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var c;Object.prototype.hasOwnProperty.call(i,u)&&((c=o?Object.getOwnPropertyDescriptor(i,u):null)&&(c.get||c.set)?Object.defineProperty(a,u,c):a[u]=i[u])}return a.default=i,n&&n.set(i,a),a}(t("../core/constants"));function m(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,m=T(function(){return i},"y"),i)}T(m,"y");function f(i,n){for(var u=0;u<n.length;u++){var a=n[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}T(f,"g");function r(i,n){return i!==0&&(this.x=this.x%i),n!==0&&(this.y=this.y%n),this}T(r,"r");function s(i,n,u){return i!==0&&(this.x=this.x%i),n!==0&&(this.y=this.y%n),u!==0&&(this.z=this.z%u),this}T(s,"a"),d.default.Vector=function(){function i(){var _=this,o=i;if(!(_ instanceof o))throw new TypeError("Cannot call a class as a function");var c,y,_=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],c=(arguments.length<=2?void 0:arguments[2])||0,y=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(c=(arguments.length<=0?void 0:arguments[0])||0,y=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=c,this.y=y,this.z=_}T(i,"n");var n,u,a;return n=i,a=[{key:"fromAngle",value:function(o,c){return new d.default.Vector((c=c===void 0?1:c)*Math.cos(o),c*Math.sin(o),0)}},{key:"fromAngles",value:function(w,x,y){y===void 0&&(y=1);var _=Math.cos(x),x=Math.sin(x),b=Math.cos(w),w=Math.sin(w);return new d.default.Vector(y*w*x,-y*b,y*w*_)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*h.TWO_PI)}},{key:"random3D",value:function(){var o=Math.random()*h.TWO_PI,c=2*Math.random()-1,_=Math.sqrt(1-c*c),y=_*Math.cos(o),_=_*Math.sin(o);return new d.default.Vector(y,_,c)}},{key:"copy",value:function(o){return o.copy(o)}},{key:"add",value:function(o,c,y){return y?y.set(o):(y=o.copy(),arguments.length===3&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),y.add(c),y}},{key:"rem",value:function(o,c){if(o instanceof d.default.Vector&&c instanceof d.default.Vector)return(o=o.copy()).rem(c),o}},{key:"sub",value:function(o,c,y){return y?y.set(o):(y=o.copy(),arguments.length===3&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),y.sub(c),y}},{key:"mult",value:function(o,c,y){return y?y.set(o):(y=o.copy(),arguments.length===3&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),y.mult(c),y}},{key:"rotate",value:function(o,c,y){return arguments.length===2?y=o.copy():(y instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),y.set(o)),y.rotate(c),y}},{key:"div",value:function(o,c,y){return y?y.set(o):(y=o.copy(),arguments.length===3&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),y.div(c),y}},{key:"dot",value:function(o,c){return o.dot(c)}},{key:"cross",value:function(o,c){return o.cross(c)}},{key:"dist",value:function(o,c){return o.dist(c)}},{key:"lerp",value:function(o,c,y,_){return _?_.set(o):(_=o.copy(),arguments.length===4&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),_.lerp(c,y),_}},{key:"slerp",value:function(o,c,y,_){return _?_.set(o):(_=o.copy(),arguments.length===4&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),_.slerp(c,y),_}},{key:"mag",value:function(o){return o.mag()}},{key:"magSq",value:function(o){return o.magSq()}},{key:"normalize",value:function(o,c){return arguments.length<2?c=o.copy():(c instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),c.set(o)),c.normalize()}},{key:"limit",value:function(o,c,y){return arguments.length<3?y=o.copy():(y instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),y.set(o)),y.limit(c)}},{key:"setMag",value:function(o,c,y){return arguments.length<3?y=o.copy():(y instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),y.set(o)),y.setMag(c)}},{key:"heading",value:function(o){return o.heading()}},{key:"angleBetween",value:function(o,c){return o.angleBetween(c)}},{key:"reflect",value:function(o,c,y){return arguments.length<3?y=o.copy():(y instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),y.set(o)),y.reflect(c)}},{key:"array",value:function(o){return o.array()}},{key:"equals",value:function(o,c){var y;return o instanceof d.default.Vector?y=o:o instanceof Array?y=new d.default.Vector().set(o):d.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),y.equals(c)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(o,c,y){return o instanceof d.default.Vector?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):Array.isArray(o)?(this.x=o[0]||0,this.y=o[1]||0,this.z=o[2]||0):(this.x=o||0,this.y=c||0,this.z=y||0),this}},{key:"copy",value:function(){return this.isPInst?new d.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new d.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(o,c,y){return o instanceof d.default.Vector?(this.x+=o.x||0,this.y+=o.y||0,this.z+=o.z||0):Array.isArray(o)?(this.x+=o[0]||0,this.y+=o[1]||0,this.z+=o[2]||0):(this.x+=o||0,this.y+=c||0,this.z+=y||0),this}},{key:"rem",value:function(o,c,y){var _;if(o instanceof d.default.Vector){if([o.x,o.y,o.z].every(Number.isFinite))return x=parseFloat(o.x),b=parseFloat(o.y),_=parseFloat(o.z),s.call(this,x,b,_)}else if(Array.isArray(o)){if(o.every(function(w){return Number.isFinite(w)}))return o.length===2?r.call(this,o[0],o[1]):o.length===3?s.call(this,o[0],o[1],o[2]):void 0}else if(arguments.length===1){if(Number.isFinite(o)&&o!==0)return this.x=this.x%o,this.y=this.y%o,this.z=this.z%o,this}else if(arguments.length===2){var x=Array.prototype.slice.call(arguments);if(x.every(function(w){return Number.isFinite(w)})&&x.length===2)return r.call(this,x[0],x[1])}else if(arguments.length===3){var b=Array.prototype.slice.call(arguments);if(b.every(function(w){return Number.isFinite(w)})&&b.length===3)return s.call(this,b[0],b[1],b[2])}}},{key:"sub",value:function(o,c,y){return o instanceof d.default.Vector?(this.x-=o.x||0,this.y-=o.y||0,this.z-=o.z||0):Array.isArray(o)?(this.x-=o[0]||0,this.y-=o[1]||0,this.z-=o[2]||0):(this.x-=o||0,this.y-=c||0,this.z-=y||0),this}},{key:"mult",value:function(o,c,y){var _;return o instanceof d.default.Vector?Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"?(this.x*=o.x,this.y*=o.y,this.z*=o.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(o)?o.every(function(x){return Number.isFinite(x)})&&o.every(function(x){return typeof x=="number"})?o.length===1?(this.x*=o[0],this.y*=o[0],this.z*=o[0]):o.length===2?(this.x*=o[0],this.y*=o[1]):o.length===3&&(this.x*=o[0],this.y*=o[1],this.z*=o[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(_=Array.prototype.slice.call(arguments)).every(function(x){return Number.isFinite(x)})&&_.every(function(x){return typeof x=="number"})?(arguments.length===1&&(this.x*=o,this.y*=o,this.z*=o),arguments.length===2&&(this.x*=o,this.y*=c),arguments.length===3&&(this.x*=o,this.y*=c,this.z*=y)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(o,c,y){if(o instanceof d.default.Vector)if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"){var _=o.z===0&&this.z===0;if(o.x===0||o.y===0||!_&&o.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=o.x,this.y/=o.y,_||(this.z/=o.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(o))if(o.every(function(x){return Number.isFinite(x)})&&o.every(function(x){return typeof x=="number"})){if(o.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;o.length===1?(this.x/=o[0],this.y/=o[0],this.z/=o[0]):o.length===2?(this.x/=o[0],this.y/=o[1]):o.length===3&&(this.x/=o[0],this.y/=o[1],this.z/=o[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(_=Array.prototype.slice.call(arguments),_.every(function(x){return Number.isFinite(x)})&&_.every(function(x){return typeof x=="number"})){if(_.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=o,this.y/=o,this.z/=o),arguments.length===2&&(this.x/=o,this.y/=c),arguments.length===3&&(this.x/=o,this.y/=c,this.z/=y)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var o=this.x,c=this.y,y=this.z;return o*o+c*c+y*y}},{key:"dot",value:function(o,c,y){return o instanceof d.default.Vector?this.dot(o.x,o.y,o.z):this.x*(o||0)+this.y*(c||0)+this.z*(y||0)}},{key:"cross",value:function(_){var c=this.y*_.z-this.z*_.y,y=this.z*_.x-this.x*_.z,_=this.x*_.y-this.y*_.x;return this.isPInst?new d.default.Vector(this._fromRadians,this._toRadians,c,y,_):new d.default.Vector(c,y,_)}},{key:"dist",value:function(o){return o.copy().sub(this).mag()}},{key:"normalize",value:function(){var o=this.mag();return o!==0&&this.mult(1/o),this}},{key:"limit",value:function(o){var c=this.magSq();return o*o<c&&this.div(Math.sqrt(c)).mult(o),this}},{key:"setMag",value:function(o){return this.normalize().mult(o)}},{key:"heading",value:function(){var o=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(o):o}},{key:"setHeading",value:function(o){this.isPInst&&(o=this._toRadians(o));var c=this.mag();return this.x=c*Math.cos(o),this.y=c*Math.sin(o),this}},{key:"rotate",value:function(c){var c=this.heading()+c,y=(this.isPInst&&(c=this._toRadians(c)),this.mag());return this.x=Math.cos(c)*y,this.y=Math.sin(c)*y,this}},{key:"angleBetween",value:function(o){var c;return this.magSq()*o.magSq()==0?NaN:(c=this.cross(o),o=Math.atan2(c.mag(),this.dot(o))*Math.sign(c.z||1),this.isPInst?this._fromRadians(o):o)}},{key:"lerp",value:function(o,c,y,_){return o instanceof d.default.Vector?this.lerp(o.x,o.y,o.z,c):(this.x+=(o-this.x)*_||0,this.y+=(c-this.y)*_||0,this.z+=(y-this.z)*_||0,this)}},{key:"slerp",value:function(o,c){if(c!==0){if(c===1)return this.set(o);var y=this.mag(),_=o.mag();if(y*_==0)this.mult(1-c).add(o.x*c,o.y*c,o.z*c);else{var x=this.cross(o),b=x.mag(),w=Math.atan2(b,this.dot(o));if(0<b)x.x/=b,x.y/=b,x.z/=b;else{if(w<.5*Math.PI)return this.mult(1-c).add(o.x*c,o.y*c,o.z*c),this;this.z===0&&o.z===0?x.set(0,0,1):this.x!==0?x.set(this.y,-this.x,0).normalize():x.set(1,0,0)}b=x.cross(this),o=1-c+c*_/y,x=o*Math.cos(c*w),_=o*Math.sin(c*w),this.x=this.x*x+b.x*_,this.y=this.y*x+b.y*_,this.z=this.z*x+b.z*_}}return this}},{key:"reflect",value:function(o){return o.normalize(),this.sub(o.mult(2*this.dot(o)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(b,c,y){var _,x,b=b instanceof d.default.Vector?(_=b.x||0,x=b.y||0,b.z||0):Array.isArray(b)?(_=b[0]||0,x=b[1]||0,b[2]||0):(_=b||0,x=c||0,y||0);return this.x===_&&this.y===x&&this.z===b}}])&&f(n.prototype,u),a&&f(n,a),i}();var l=d.default.Vector;k.default=l},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(m,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(m=m("../core/main"))&&m.__esModule?m:{default:m},p="_lcg_random_state",d=4294967296,h=0,m=(v.default.prototype._lcg=function(f){return this[f]=(1664525*this[f]+1013904223)%d,this[f]/d},v.default.prototype._lcgSetSeed=function(f,r){this[f]=(r??Math.random()*d)>>>0},v.default.prototype.randomSeed=function(f){this._lcgSetSeed(p,f),this._gaussian_previous=!1},v.default.prototype.random=function(f,r){var s,l;return v.default._validateParameters("random",arguments),s=this[p]!=null?this._lcg(p):Math.random(),f===void 0?s:r===void 0?f instanceof Array?f[Math.floor(s*f.length)]:s*f:(r<f&&(l=f,f=r,r=l),s*(r-f)+f)},v.default.prototype.randomGaussian=function(f){var r,s,l,i,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=h,this._gaussian_previous=!1;else{for(;1<=(i=(s=this.random(2)-1)*s+(l=this.random(2)-1)*l););r=s*(i=Math.sqrt(-2*Math.log(i)/i)),h=l*i,this._gaussian_previous=!0}return r*n+(f||0)},v.default);k.default=m},{"../core/main":275}],310:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(f=t("../core/main"))&&f.__esModule?f:{default:f},h=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=T(function(){return r},"y"),r)}T(m,"y"),d.default.prototype._angleMode=h.RADIANS,d.default.prototype.acos=function(r){return this._fromRadians(Math.acos(r))},d.default.prototype.asin=function(r){return this._fromRadians(Math.asin(r))},d.default.prototype.atan=function(r){return this._fromRadians(Math.atan(r))},d.default.prototype.atan2=function(r,s){return this._fromRadians(Math.atan2(r,s))},d.default.prototype.cos=function(r){return Math.cos(this._toRadians(r))},d.default.prototype.sin=function(r){return Math.sin(this._toRadians(r))},d.default.prototype.tan=function(r){return Math.tan(this._toRadians(r))},d.default.prototype.degrees=function(r){return r*h.RAD_TO_DEG},d.default.prototype.radians=function(r){return r*h.DEG_TO_RAD},d.default.prototype.angleMode=function(r){if(d.default._validateParameters("angleMode",arguments),r===void 0)return this._angleMode;r!==h.DEGREES&&r!==h.RADIANS||(this._angleMode=r)},d.default.prototype._toRadians=function(r){return this._angleMode===h.DEGREES?r*h.DEG_TO_RAD:r},d.default.prototype._toDegrees=function(r){return this._angleMode===h.RADIANS?r*h.RAD_TO_DEG:r},d.default.prototype._fromRadians=function(r){return this._angleMode===h.DEGREES?r*h.RAD_TO_DEG:r};var f=d.default;k.default=f},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(t,Y,k){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};v.default.prototype.textAlign=function(p,d){var h;return v.default._validateParameters("textAlign",arguments),(h=this._renderer).textAlign.apply(h,arguments)},v.default.prototype.textLeading=function(p){var d;return v.default._validateParameters("textLeading",arguments),(d=this._renderer).textLeading.apply(d,arguments)},v.default.prototype.textSize=function(p){var d;return v.default._validateParameters("textSize",arguments),(d=this._renderer).textSize.apply(d,arguments)},v.default.prototype.textStyle=function(p){var d;return v.default._validateParameters("textStyle",arguments),(d=this._renderer).textStyle.apply(d,arguments)},v.default.prototype.textWidth=function(){for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];if(d[0]+="",v.default._validateParameters("textWidth",d),d[0].length===0)return 0;for(var m=d[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),f=[],r=0;r<m.length;r++)f.push(this._renderer.textWidth(m[r]));return Math.max.apply(Math,f)},v.default.prototype.textAscent=function(){for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];return v.default._validateParameters("textAscent",d),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];return v.default._validateParameters("textDescent",d),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(p){if(p!=="WORD"&&p!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(p)},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(t,Y,k){"use strict";function v(l){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}T(v,"m");function p(l){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(i){return v(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(l)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=r(t("../core/constants")),m=r(t("opentype.js"));function f(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,f=T(function(){return l},"g"),l)}T(f,"g");function r(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var i=f();if(i&&i.has(l))return i.get(l);var n,u,a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&((u=o?Object.getOwnPropertyDescriptor(l,n):null)&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=l[n]);return a.default=l,i&&i.set(l,a),a}T(r,"r"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),d.default.prototype.loadFont=function(l,i,n){d.default._validateParameters("loadFont",arguments);var u=new d.default.Font(this),a=this;return m.load(l,function(y,_){if(y)return d.default._friendlyFileLoadError(4,l),n!==void 0?n(y):void console.error(y,l);u.font=_,i!==void 0&&i(u),a._decrementPreload();var y=l.split("\\").pop().split("/").pop(),_=y.lastIndexOf("."),x=_<1?null:y.slice(_+1);["ttf","otf","woff","woff2"].includes(x)&&(x=y.slice(0,_!==-1?_:0),(y=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(x,`;
src: url(`).concat(l,`);
}
`))),document.head.appendChild(y))}),u},d.default.prototype.text=function(l,i,n,u,a){var o;return d.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(o=this._renderer).text.apply(o,arguments):this},d.default.prototype.textFont=function(l,i){if(d.default._validateParameters("textFont",arguments),arguments.length){if(l)return this._renderer._setProperty("_textFont",l),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var s=d.default;k.default=s},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(t,Y,k){"use strict";function v(b){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(b){if(b&&b.__esModule)return b;if(b===null||m(b)!=="object"&&typeof b!="function")return{default:b};var w=h();if(w&&w.has(b))return w.get(b);var M,E={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in b){var C;Object.prototype.hasOwnProperty.call(b,M)&&((C=A?Object.getOwnPropertyDescriptor(b,M):null)&&(C.get||C.set)?Object.defineProperty(E,M,C):E[M]=b[M])}return E.default=b,w&&w.set(b,E),E}(t("../core/constants"));function h(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,h=T(function(){return b},"f"),b)}T(h,"f");function m(b){return(m=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(w){return v(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(b)}T(m,"y");function f(b,w){for(var M=0;M<w.length;M++){var E=w[M];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}T(f,"g");function r(b,w){var M=b.length;return b[w<0?w%M+M:w%M]}T(r,"r");function s(b,w,M,E){var A,C,I;return E?(s.tmpPoint1===void 0&&(s.tmpPoint1=[],s.tmpPoint2=[]),C=s.tmpPoint1,I=s.tmpPoint2,C.x=w.x-b.x,C.y=w.y-b.y,I.x=M.x-w.x,I.y=M.y-w.y,A=C.x*I.x+C.y*I.y,C=Math.sqrt(C.x*C.x+C.y*C.y),I=Math.sqrt(I.x*I.x+I.y*I.y),Math.acos(A/(C*I))<E):(w[0]-b[0])*(M[1]-b[1])-(M[0]-b[0])*(w[1]-b[1])==0}T(s,"a");function l(L,N,G,Z,oe,C,I,F,R){var U=1-R,P=Math.pow(U,3),W=Math.pow(U,2),j=R*R,Q=j*R,z=P*L+3*W*R*G+3*U*R*R*oe+Q*I,P=P*N+3*W*R*Z+3*U*R*R*C+Q*F,W=L+2*R*(G-L)+j*(oe-2*G+L),Q=N+2*R*(Z-N)+j*(C-2*Z+N),ae=G+2*R*(oe-G)+j*(I-2*oe+G),j=Z+2*R*(C-Z)+j*(F-2*C+Z),L=U*L+R*G,G=U*N+R*Z,N=U*oe+R*I,Z=U*C+R*F,oe=90-180*Math.atan2(W-ae,Q-j)/Math.PI;return(ae<W||Q<j)&&(oe+=180),{x:z,y:P,m:{x:W,y:Q},n:{x:ae,y:j},start:{x:L,y:G},end:{x:N,y:Z},alpha:oe}}T(l,"s");function i(b,w,M,E,A,C,I,F,R){return R==null?_(b,w,M,E,A,C,I,F):l(b,w,M,E,A,C,I,F,function(U,z,P,W,Q,ae,j,L,G){if(!(G<0||_(U,z,P,W,Q,ae,j,L)<G)){var N,Z=.5,oe=1-Z;for(N=_(U,z,P,W,Q,ae,j,L,oe);.01<Math.abs(N-G);)N=_(U,z,P,W,Q,ae,j,L,oe+=(N<G?1:-1)*(Z/=2));return oe}}(b,w,M,E,A,C,I,F,R))}T(i,"n");function n(b,w,M){for(var E,A,C,I,F,R=0,U=0,z=(b=function(P,W){function Q(Me,q,we){var ve,re;if(!Me)return["C",q.x,q.y,q.x,q.y,q.x,q.y];switch(Me[0]in{T:1,Q:1}||(q.qx=q.qy=null),Me[0]){case"M":q.X=Me[1],q.Y=Me[2];break;case"A":Me=["C"].concat(a.apply(0,[q.x,q.y].concat(Me.slice(1))));break;case"S":re=we==="C"||we==="S"?(ve=2*q.x-q.bx,2*q.y-q.by):(ve=q.x,q.y),Me=["C",ve,re].concat(Me.slice(1));break;case"T":we==="Q"||we==="T"?(q.qx=2*q.x-q.qx,q.qy=2*q.y-q.qy):(q.qx=q.x,q.qy=q.y),Me=["C"].concat(y(q.x,q.y,q.qx,q.qy,Me[1],Me[2]));break;case"Q":q.qx=Me[1],q.qy=Me[2],Me=["C"].concat(y(q.x,q.y,Me[1],Me[2],Me[3],Me[4]));break;case"L":Me=["C"].concat(c(q.x,q.y,Me[1],Me[2]));break;case"H":Me=["C"].concat(c(q.x,q.y,Me[1],q.y));break;case"V":Me=["C"].concat(c(q.x,q.y,q.x,Me[1]));break;case"Z":Me=["C"].concat(c(q.x,q.y,q.X,q.Y))}return Me}T(Q,"X");function ae(Me,q){if(7<Me[q].length){Me[q].shift();for(var we=Me[q];we.length;)ie[q]="A",N&&(ce[q]="A"),Me.splice(q++,0,["C"].concat(we.splice(0,6)));Me.splice(q,1),L=Math.max(G.length,N&&N.length||0)}}T(ae,"ie");function j(Me,q,we,ve,re){Me&&q&&Me[re][0]==="M"&&q[re][0]!=="M"&&(q.splice(re,0,["M",ve.x,ve.y]),we.bx=0,we.by=0,we.x=Me[re][1],we.y=Me[re][2],L=Math.max(G.length,N&&N.length||0))}T(j,"j");var L,G=u(P),N=W&&u(W),Z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],ce=[],ue="",be="";L=Math.max(G.length,N&&N.length||0);for(var ye=0;ye<L;ye++){(ue=G[ye]?G[ye][0]:ue)!=="C"&&(ie[ye]=ue,ye&&(be=ie[ye-1])),G[ye]=Q(G[ye],Z,be),ie[ye]!=="A"&&ue==="C"&&(ie[ye]="C"),ae(G,ye),N&&((ue=N[ye]?N[ye][0]:ue)!=="C"&&(ce[ye]=ue,ye&&(be=ce[ye-1])),N[ye]=Q(N[ye],oe,be),ce[ye]!=="A"&&ue==="C"&&(ce[ye]="C"),ae(N,ye)),j(G,N,Z,oe,ye),j(N,G,oe,Z,ye);var se=G[ye],xe=N&&N[ye],Se=se.length,Ie=N&&xe.length;Z.x=se[Se-2],Z.y=se[Se-1],Z.bx=parseFloat(se[Se-4])||Z.x,Z.by=parseFloat(se[Se-3])||Z.y,oe.bx=N&&(parseFloat(xe[Ie-4])||oe.x),oe.by=N&&(parseFloat(xe[Ie-3])||oe.y),oe.x=N&&xe[Ie-2],oe.y=N&&xe[Ie-1]}return N?[G,N]:G}(b)).length;U<z;U++){if((C=b[U])[0]==="M")E=+C[1],A=+C[2];else{if(w<R+(I=i(E,A,C[1],C[2],C[3],C[4],C[5],C[6]))&&!M)return{x:(F=i(E,A,C[1],C[2],C[3],C[4],C[5],C[6],w-R)).x,y:F.y,alpha:F.alpha};R+=I,E=+C[5],A=+C[6]}C.shift()}return F=(F=M?R:l(E,A,C[0],C[1],C[2],C[3],C[4],C[5],1)).alpha?{x:F.x,y:F.y,alpha:F.alpha}:F}T(n,"l");function u(b){var w=[],M=0,E=0,A=0,C=0,I=0;if(b){b[0][0]==="M"&&(A=M=+b[0][1],C=E=+b[0][2],I++,w[0]=["M",M,E]);for(var F,R,U=b.length===3&&b[0][0]==="M"&&b[1][0].toUpperCase()==="R"&&b[2][0].toUpperCase()==="Z",z=I,P=b.length;z<P;z++){if(w.push(F=[]),(R=b[z])[0]!==String.prototype.toUpperCase.call(R[0]))switch(F[0]=String.prototype.toUpperCase.call(R[0]),F[0]){case"A":F[1]=R[1],F[2]=R[2],F[3]=R[3],F[4]=R[4],F[5]=R[5],F[6]=+(R[6]+M),F[7]=+(R[7]+E);break;case"V":F[1]=+R[1]+E;break;case"H":F[1]=+R[1]+M;break;case"R":for(var W,Q=2,ae=(W=[M,E].concat(R.slice(1))).length;Q<ae;Q++)W[Q]=+W[Q]+M,W[++Q]=+W[Q]+E;w.pop(),w=w.concat(o(W,U));break;case"M":A=+R[1]+M,C=+R[2]+E;break;default:for(var j=1,L=R.length;j<L;j++)F[j]=+R[j]+(j%2?M:E)}else if(R[0]==="R")W=[M,E].concat(R.slice(1)),w.pop(),w=w.concat(o(W,U)),F=["R"].concat(R.slice(-2));else for(var G=0,N=R.length;G<N;G++)F[G]=R[G];switch(F[0]){case"Z":M=A,E=C;break;case"H":M=F[1];break;case"V":E=F[1];break;case"M":A=F[F.length-2],C=F[F.length-1];break;default:M=F[F.length-2],E=F[F.length-1]}}}return w}T(u,"u");function a(b,w,M,E,N,ie,Z,F,R,U){function z(Ie,Me,q){return{x:Ie*Math.cos(q)-Me*Math.sin(q),y:Ie*Math.sin(q)+Me*Math.cos(q)}}T(z,"U");var P,L=Math.PI,G=120*L/180,W=L/180*(+N||0),Q=[],ae=(U?(ye=U[0],P=U[1],ue=U[2],be=U[3]):(b=(oe=z(b,w,-W)).x,w=oe.y,1<(ae=(j=(b-(F=(oe=z(F,R,-W)).x))/2)*j/(M*M)+(oe=(w-(R=oe.y))/2)*oe/(E*E))&&(M*=ae=Math.sqrt(ae),E*=ae),ae=M*M,ce=E*E,ue=(ie=(ie===Z?-1:1)*Math.sqrt(Math.abs((ae*ce-ae*oe*oe-ce*j*j)/(ae*oe*oe+ce*j*j))))*M*oe/E+(b+F)/2,be=ie*-E*j/M+(w+R)/2,ye=Math.asin(((w-be)/E).toFixed(9)),P=Math.asin(((R-be)/E).toFixed(9)),(ye=b<ue?L-ye:ye)<0&&(ye=2*L+ye),(P=F<ue?L-P:P)<0&&(P=2*L+P),Z&&P<ye&&(ye-=2*L),!Z&&ye<P&&(P-=2*L)),P-ye),j=(Math.abs(ae)>G&&(ce=P,oe=F,ie=R,P=ye+G*(Z&&ye<P?1:-1),Q=a(F=ue+M*Math.cos(P),R=be+E*Math.sin(P),M,E,N,0,Z,oe,ie,[P,ce,ue,be])),ae=P-ye,Math.cos(ye)),L=Math.sin(ye),G=Math.cos(P),N=Math.sin(P),Z=Math.tan(ae/4),oe=4/3*M*Z,ie=4/3*E*Z,ce=[b,w],ue=[b+oe*L,w-ie*j],be=[F+oe*N,R-ie*G],ye=[F,R];if(ue[0]=2*ce[0]-ue[0],ue[1]=2*ce[1]-ue[1],U)return[ue,be,ye].concat(Q);for(var se=[],xe=0,Se=(Q=[ue,be,ye].concat(Q).join().split(",")).length;xe<Se;xe++)se[xe]=xe%2?z(Q[xe-1],Q[xe],W).y:z(Q[xe],Q[xe+1],W).x;return se}T(a,"h");function o(b,w){for(var M=[],E=0,A=b.length;E<A-2*!w;E+=2){var C=[{x:+b[E-2],y:+b[E-1]},{x:+b[E],y:+b[E+1]},{x:+b[E+2],y:+b[E+3]},{x:+b[E+4],y:+b[E+5]}];w?E?A-4===E?C[3]={x:+b[0],y:+b[1]}:A-2===E&&(C[2]={x:+b[0],y:+b[1]},C[3]={x:+b[2],y:+b[3]}):C[0]={x:+b[A-2],y:+b[A-1]}:A-4===E?C[3]=C[2]:E||(C[0]={x:+b[E],y:+b[E+1]}),M.push(["C",(-C[0].x+6*C[1].x+C[2].x)/6,(-C[0].y+6*C[1].y+C[2].y)/6,(C[1].x+6*C[2].x-C[3].x)/6,(C[1].y+6*C[2].y-C[3].y)/6,C[2].x,C[2].y])}return M}T(o,"o");function c(b,w,M,E){return[b,w,M,E,M,E]}T(c,"d");function y(b,w,M,E,A,C){return[1/3*b+2/3*M,1/3*w+2/3*E,1/3*A+2/3*M,1/3*C+2/3*E,A,C]}T(y,"b");function _(b,w,M,E,A,C,I,F,R){for(var U=(R=1<(R=R??1)?1:R<0?0:R)/2,z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],P=0,W=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var j=U*z[Q]+U,ae=x(j,b,M,A,I),j=x(j,w,E,C,F);P+=W[Q]*Math.sqrt(ae*ae+j*j)}return U*P}T(_,"M");function x(b,w,M,E,A){return b*(b*(-3*w+9*M-9*E+3*A)+6*w-12*M+6*E)-3*w+3*M}T(x,"T"),p.default.Font=function(){function b(A){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.parent=A,this.cache={},this.font=void 0}T(b,"x");var w,M,E;return w=b,(M=[{key:"textBounds",value:function(A){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,z=3<arguments.length?arguments[3]:void 0,F=4<arguments.length?arguments[4]:void 0,R=F&&F.renderer&&F.renderer._pInst||this.parent,U=R._renderer.drawingContext,z=(U.textAlign||d.LEFT,U.textBaseline||d.BASELINE,z||R._renderer._textSize);if(!ie){for(var P=[],W=[],Q=[],ae=(Q[0]=[],[]),j=this._scale(z),L=R._renderer.textLeading(),G=0,N=(this.font.forEachGlyph(A,C,I,z,F,function(be,ye,se,xe){var Se=be.getMetrics();be.index===0||be.index===10?Q[G+=1]=[]:(Q[G].push(ye+Se.xMin*j),Q[G].push(ye+Se.xMax*j),ae.push(se+G*L+-Se.yMin*j),ae.push(se+G*L+-Se.yMax*j))}),0<Q[G].length&&(P[G]=Math.min.apply(null,Q[G]),W[G]=Math.max.apply(null,Q[G])),0),Z=0;Z<=G;Z++){P[Z]=Math.min.apply(null,Q[Z]),W[Z]=Math.max.apply(null,Q[Z]);var oe=W[Z]-P[Z];N<oe&&(N=oe)}var U=Math.min.apply(null,P),ie={x:U,y:I=Math.min.apply(null,ae),h:Math.max.apply(null,ae)-I,w:N,advance:U-C},z=this._handleAlignment(R._renderer,A,ie.x,ie.y,ie.w+ie.advance);ie.x=z.x,ie.y=z.y}return ie}},{key:"textToPoints",value:function(A,C,I,F,R){var U=C,z=[],P=A.split(/\r?\n|\r|\n/g);F=F||this.parent._renderer._textSize;for(var W,Q,ae,j=0;j<P.length;j++){var L=0;C=U;for(var G=(G=P[j]).replace("	","  "),N=this._getGlyphs(G),Z=0;Z<N.length;Z++){if(Q=G,!((ae=N)[W=Z].name&&ae[W].name==="space"||Q.length===ae.length&&Q[W]===" "))for(var oe=function(be){for(var ye,se=[],xe=0;xe<be.length;xe++)be[xe].type==="M"&&(ye&&se.push(ye),ye=[]),ye.push(function(Se){var Ie=[Se.type];return Se.type==="M"||Se.type==="L"?Ie.push(Se.x,Se.y):Se.type==="C"?Ie.push(Se.x1,Se.y1,Se.x2,Se.y2,Se.x,Se.y):Se.type==="Q"&&Ie.push(Se.x1,Se.y1,Se.x,Se.y),Ie}(be[xe]));return se.push(ye),se}(N[Z].getPath(C,I,F).commands),ie=0;ie<oe.length;ie++)for(var ce=function(be,ye){for(var ye=function(q,we){if(m(q)!=="object")q=we;else for(var ve in we)q[ve]===void 0&&(q[ve]=we[ve]);return q}(ye,{sampleFactor:.1,simplifyThreshold:0}),se=n(be,0,1),xe=se/(se*ye.sampleFactor),Se=[],Ie=0;Ie<se;Ie+=xe)Se.push(n(be,Ie));return ye.simplifyThreshold&&function(Me){for(var q=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,we=0,ve=Me.length-1;3<Me.length&&0<=ve;--ve)s(r(Me,ve-1),r(Me,ve),r(Me,ve+1),q)&&(Me.splice(ve%Me.length,1),we++)}(Se,ye.simplifyThreshold),Se}(oe[ie],R),ue=0;ue<ce.length;ue++)ce[ue].x+=L,z.push(ce[ue]);L+=N[Z].advanceWidth*this._scale(F)}I+=this.parent._renderer._textLeading}return z}},{key:"_getGlyphs",value:function(A){return this.font.stringToGlyphs(A)}},{key:"_getPath",value:function(A,U,I,F){var R=(F&&F.renderer&&F.renderer._pInst||this.parent)._renderer,U=this._handleAlignment(R,A,U,I);return this.font.getPath(A,U.x,U.y,R._textSize,F)}},{key:"_getPathData",value:function(A,C,I,F){var R=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,C,I,F):m(C)==="object"&&(F=C),F&&typeof F.decimals=="number"&&(R=F.decimals),A.toPathData(R)}},{key:"_getSVG",value:function(A,C,I,F){var R=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,C,I,F):m(C)==="object"&&(F=C),F&&(typeof F.decimals=="number"&&(R=F.decimals),typeof F.strokeWidth=="number"&&(A.strokeWidth=F.strokeWidth),F.fill!==void 0&&(A.fill=F.fill),F.stroke!==void 0&&(A.stroke=F.stroke)),A.toSVG(R)}},{key:"_renderPath",value:function(z,W,Q,F){var R=F&&F.renderer||this.parent._renderer,U=R.drawingContext,z=(m(z)==="object"&&z.commands?z:this._getPath(z,W,Q,F)).commands,P=(U.beginPath(),!0),W=!1,Q=void 0;try{for(var ae,j=z[Symbol.iterator]();!(P=(ae=j.next()).done);P=!0){var L=ae.value;L.type==="M"?U.moveTo(L.x,L.y):L.type==="L"?U.lineTo(L.x,L.y):L.type==="C"?U.bezierCurveTo(L.x1,L.y1,L.x2,L.y2,L.x,L.y):L.type==="Q"?U.quadraticCurveTo(L.x1,L.y1,L.x,L.y):L.type==="Z"&&U.closePath()}}catch(G){W=!0,Q=G}finally{try{P||j.return==null||j.return()}finally{if(W)throw Q}}return R._doStroke&&R._strokeSet&&!R._clipping&&U.stroke(),R._doFill&&!R._clipping&&(R._fillSet||R._setFill(d._DEFAULT_TEXT_FILL),U.fill()),this}},{key:"_textWidth",value:function(A,C){return this.font.getAdvanceWidth(A,C)}},{key:"_textAscent",value:function(A){return this.font.ascender*this._scale(A)}},{key:"_textDescent",value:function(A){return-this.font.descender*this._scale(A)}},{key:"_scale",value:function(A){return 1/this.font.unitsPerEm*(A||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(A,C,I,F,R){var U=A._textSize;switch(R===void 0&&(R=this._textWidth(C,U)),A._textAlign){case d.CENTER:I-=R/2;break;case d.RIGHT:I-=R}switch(A._textBaseline){case d.TOP:F+=this._textAscent(U);break;case d.CENTER:F+=this._textAscent(U)/2;break;case d.BOTTOM:F-=this._textDescent(U)}return{x:I,y:F}}}])&&f(w.prototype,M),E&&f(w,E),b}(),t=p.default,k.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(v,p){return v.push(p),v},t.default.prototype.arrayCopy=function(v,p,d,h,m){var f,r;v=m!==void 0?(r=Math.min(m,v.length),f=h,v.slice(p,r+p)):(r=d!==void 0?(r=d,Math.min(r,v.length)):v.length,d=p,v.slice(f=0,r)),Array.prototype.splice.apply(d,[f,r].concat(v))},t.default.prototype.concat=function(v,p){return v.concat(p)},t.default.prototype.reverse=function(v){return v.reverse()},t.default.prototype.shorten=function(v){return v.pop(),v},t.default.prototype.shuffle=function(v,p){for(var d,h,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),f=(v=p||m?v:v.slice()).length;1<f;)d=this.random(0,1)*f|0,h=v[--f],v[f]=v[d],v[d]=h;return v},t.default.prototype.sort=function(v,h){var d=h?v.slice(0,Math.min(h,v.length)):v,h=h?v.slice(Math.min(h,v.length)):[];return(d=typeof d[0]=="string"?d.sort():d.sort(function(m,f){return m-f})).concat(h)},t.default.prototype.splice=function(v,p,d){return Array.prototype.splice.apply(v,[d,0].concat(p)),v},t.default.prototype.subset=function(v,p,d){return d!==void 0?v.slice(p,p+d):v.slice(p,v.length)},t=t.default,k.default=t},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(t,Y,k){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};v.default.prototype.float=function(p){return p instanceof Array?p.map(parseFloat):parseFloat(p)},v.default.prototype.int=function(p){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return p===1/0||p==="Infinity"?1/0:p===-1/0||p==="-Infinity"?-1/0:typeof p=="string"?parseInt(p,d):typeof p=="number"?0|p:typeof p=="boolean"?p?1:0:p instanceof Array?p.map(function(h){return v.default.prototype.int(h,d)}):void 0},v.default.prototype.str=function(p){return p instanceof Array?p.map(v.default.prototype.str):String(p)},v.default.prototype.boolean=function(p){return typeof p=="number"?p!==0:typeof p=="string"?p.toLowerCase()==="true":typeof p=="boolean"?p:p instanceof Array?p.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(p){return p=v.default.prototype.int(p,10),typeof p=="number"?(p+128)%256-128:p instanceof Array?p.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(p){return typeof p!="number"||isNaN(p)?p instanceof Array?p.map(v.default.prototype.char):typeof p=="string"?v.default.prototype.char(parseInt(p,10)):void 0:String.fromCharCode(p)},v.default.prototype.unchar=function(p){return typeof p=="string"&&p.length===1?p.charCodeAt(0):p instanceof Array?p.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(p,d){if(d=d??8,p instanceof Array)return p.map(function(m){return v.default.prototype.hex(m,d)});if(p===1/0||p===-1/0)return(p===1/0?"F":"0").repeat(d);if(typeof p=="number"){p<0&&(p=4294967295+p+1);for(var h=Number(p).toString(16).toUpperCase();h.length<d;)h="0".concat(h);return h=h.length>=d?h.substring(h.length-d,h.length):h}},v.default.prototype.unhex=function(p){return p instanceof Array?p.map(v.default.prototype.unhex):parseInt("0x".concat(p),16)},t=v.default,k.default=t},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(r=t("../core/main"))&&r.__esModule?r:{default:r};function p(s,l){return function(i){if(Array.isArray(i))return i}(s)||function(i,n){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]"){var u=[],a=!0,o=!1,c=void 0;try{for(var y,_=i[Symbol.iterator]();!(a=(y=_.next()).done)&&(u.push(y.value),!n||u.length!==n);a=!0);}catch(x){o=!0,c=x}finally{try{a||_.return==null||_.return()}finally{if(o)throw c}}return u}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}T(p,"p");function d(s,l,i){var u=p(s.toString().split("."),2),n=u[0],u=u[1];return i===void 0?(n=n.padStart(l,"0"),u?n+"."+u:n):(n=(s=p(s.toFixed(i).toString().split("."),2))[0],u=s[1],n=n.padStart(l,"0"),u===void 0?n:n+"."+u)}T(d,"i");function h(u,l){var i=(u=u.toString()).indexOf("."),n=i!==-1?u.substring(i):"",u=(u=i!==-1?u.substring(0,i):u).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(l===0)n="";else if(l!==void 0)if(l>n.length)for(var a=l-(n+=i===-1?".":"").length+1,o=0;o<a;o++)n+="0";else n=n.substring(0,l+1);return u+n}T(h,"f");function m(s){return 0<parseFloat(s)?"+".concat(s.toString()):s.toString()}T(m,"y");function f(s){return 0<=parseFloat(s)?" ".concat(s.toString()):s.toString()}T(f,"g"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),v.default.prototype.join=function(s,l){return v.default._validateParameters("join",arguments),s.join(l)},v.default.prototype.match=function(s,l){return v.default._validateParameters("match",arguments),s.match(l)},v.default.prototype.matchAll=function(s,l){v.default._validateParameters("matchAll",arguments);for(var i=new RegExp(l,"g"),n=i.exec(s),u=[];n!==null;)u.push(n),n=i.exec(s);return u},v.default.prototype.nf=function(s,l,i){return v.default._validateParameters("nf",arguments),s instanceof Array?s.map(function(n){return d(n,l,i)}):Object.prototype.toString.call(s)==="[object Arguments]"?s.length===3?this.nf(s[0],s[1],s[2]):s.length===2?this.nf(s[0],s[1]):this.nf(s[0]):d(s,l,i)},v.default.prototype.nfc=function(s,l){return v.default._validateParameters("nfc",arguments),s instanceof Array?s.map(function(i){return h(i,l)}):h(s,l)},v.default.prototype.nfp=function(){for(var s=arguments.length,l=new Array(s),i=0;i<s;i++)l[i]=arguments[i];v.default._validateParameters("nfp",l);var n=v.default.prototype.nf.apply(this,l);return n instanceof Array?n.map(m):m(n)},v.default.prototype.nfs=function(){for(var s=arguments.length,l=new Array(s),i=0;i<s;i++)l[i]=arguments[i];v.default._validateParameters("nfs",l);var n=v.default.prototype.nf.apply(this,l);return n instanceof Array?n.map(f):f(n)},v.default.prototype.split=function(s,l){return v.default._validateParameters("split",arguments),s.split(l)},v.default.prototype.splitTokens=function(s,l){var i,n;return v.default._validateParameters("splitTokens",arguments),n=l!==void 0?(n=/\]/g.exec(l=l),(i=/\[/g.exec(l))&&n?(l=l.slice(0,n.index)+l.slice(n.index+1),i=/\[/g.exec(l),l=l.slice(0,i.index)+l.slice(i.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):n?(l=l.slice(0,n.index)+l.slice(n.index+1),new RegExp("[".concat(l,"\\]]"),"g")):i?(l=l.slice(0,i.index)+l.slice(i.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")):/\s/g,s.split(n).filter(function(u){return u})},v.default.prototype.trim=function(s){return v.default._validateParameters("trim",arguments),s instanceof Array?s.map(this.trim):s.trim()};var r=v.default;k.default=r},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,k.default=t},{"../core/main":275}],318:[function(t,Y,k){"use strict";function v(s){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}T(v,"m");function p(s){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(l){return v(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(r=t("../core/main"))&&r.__esModule?r:{default:r},h=(t("./p5.Geometry"),function(s){if(s&&s.__esModule)return s;if(s===null||p(s)!=="object"&&typeof s!="function")return{default:s};var l=m();if(l&&l.has(s))return l.get(s);var i,n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var a;Object.prototype.hasOwnProperty.call(s,i)&&((a=u?Object.getOwnPropertyDescriptor(s,i):null)&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=s[i])}return n.default=s,l&&l.set(s,n),n}(t("../core/constants")));function m(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,m=T(function(){return s},"y"),s)}T(m,"y"),d.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},d.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},d.default.prototype.buildGeometry=function(s){return this._renderer.buildGeometry(s)},d.default.prototype.freeGeometry=function(s){this._renderer._freeBuffers(s.gid)},d.default.prototype.plane=function(s,l,i,n){this._assert3d("plane"),d.default._validateParameters("plane",arguments),s===void 0&&(s=50),l===void 0&&(l=s),n===void 0&&(n=1);var u,a="plane|".concat(i=i===void 0?1:i,"|").concat(n);return this._renderer.geometryInHash(a)||((u=new d.default.Geometry(i,n,function(){for(var o,c,y=0;y<=this.detailY;y++)for(var _=y/this.detailY,x=0;x<=this.detailX;x++)o=x/this.detailX,c=new d.default.Vector(o-.5,_-.5,0),this.vertices.push(c),this.uvs.push(o,_)})).computeFaces().computeNormals(),i<=1&&n<=1?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(a,u)),this._renderer.drawBuffersScaled(a,s,l,1),this},d.default.prototype.box=function(s,l,i,n,u){this._assert3d("box"),d.default._validateParameters("box",arguments),s===void 0&&(s=50),l===void 0&&(l=s),i===void 0&&(i=l);var a,o=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,o=(u===void 0&&(u=o?1:4),"box|".concat(n=n===void 0?o?1:4:n,"|").concat(u));return this._renderer.geometryInHash(o)||((a=new d.default.Geometry(n,u,function(){var c=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(y,_){for(var _=4*_,x=0;x<4;x++){var b=y[x],b=new d.default.Vector((2*(1&b)-1)/2,((2&b)-1)/2,((4&b)/2-1)/2);c.vertices.push(b),c.uvs.push(1&x,(2&x)/2)}c.faces.push([_,1+_,2+_]),c.faces.push([2+_,1+_,3+_])})})).computeNormals(),n<=4&&u<=4?a._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(o,a)),this._renderer.drawBuffersScaled(o,s,l,i),this},d.default.prototype.sphere=function(s,l,i){return this._assert3d("sphere"),d.default._validateParameters("sphere",arguments),this.ellipsoid(s=s===void 0?50:s,s,s,l=l===void 0?24:l,i=i===void 0?16:i),this};function f(s,l,i,n,u,a,o){s=s<=0?1:s,l=l<0?0:l,i=i<=0?s:i,n=n<3?3:n;for(var c,y,_=(a=a===void 0||a)?-2:0,x=(u=u<1?1:u)+((o=o===void 0?l!==0:o)?2:0),b=Math.atan2(s-l,i),w=Math.sin(b),M=Math.cos(b),E=_;E<=x;++E){var A=E/u,C=i*A,I=void 0,I=E<0?(A=C=0,s):u<E?(C=i,A=1,l):s+(l-s)*A;for(E!==-2&&E!==u+2||(I=0),C-=i/2,c=0;c<n;++c){var F=c/(n-1),U=2*Math.PI*F,R=Math.sin(U),U=Math.cos(U),z=(this.vertices.push(new d.default.Vector(R*I,C,U*I)),void 0),z=E<0?new d.default.Vector(0,-1,0):u<E&&l?new d.default.Vector(0,1,0):new d.default.Vector(R*M,w,U*M);this.vertexNormals.push(z),this.uvs.push(F,A)}}var P=0;if(a){for(y=0;y<n;++y)this.faces.push([P+y,P+n+(y+1)%n,P+n+y]);P+=2*n}for(E=0;E<u;++E){for(c=0;c<n;++c){var W=(c+1)%n;this.faces.push([P+c,P+W,P+n+W]),this.faces.push([P+c,P+n+W,P+n+c])}P+=n}if(o)for(P+=n,c=0;c<n;++c)this.faces.push([P+c,P+(c+1)%n,P+n])}T(f,"g"),d.default.prototype.cylinder=function(s,l,i,n,u,a){this._assert3d("cylinder"),d.default._validateParameters("cylinder",arguments),s===void 0&&(s=50),l===void 0&&(l=s),n===void 0&&(n=1),a===void 0&&(a=!0),u===void 0&&(u=!0);var o,c="cylinder|".concat(i=i===void 0?24:i,"|").concat(n,"|").concat(u,"|").concat(a);return this._renderer.geometryInHash(c)||(o=new d.default.Geometry(i,n),f.call(o,1,1,1,i,n,u,a),i<=24&&n<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,o)),this._renderer.drawBuffersScaled(c,s,l,s),this},d.default.prototype.cone=function(s,l,i,n,u){this._assert3d("cone"),d.default._validateParameters("cone",arguments),s===void 0&&(s=50),l===void 0&&(l=s),n===void 0&&(n=1),u===void 0&&(u=!0);var a,o="cone|".concat(i=i===void 0?24:i,"|").concat(n,"|").concat(u);return this._renderer.geometryInHash(o)||(a=new d.default.Geometry(i,n),f.call(a,1,0,1,i,n,u,!1),i<=24&&n<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,a)),this._renderer.drawBuffersScaled(o,s,l,s),this},d.default.prototype.ellipsoid=function(s,l,i,n,u){this._assert3d("ellipsoid"),d.default._validateParameters("ellipsoid",arguments),s===void 0&&(s=50),l===void 0&&(l=s),i===void 0&&(i=s),u===void 0&&(u=16);var a,o="ellipsoid|".concat(n=n===void 0?24:n,"|").concat(u);return this._renderer.geometryInHash(o)||((a=new d.default.Geometry(n,u,function(){for(var c=0;c<=this.detailY;c++)for(var y=c/this.detailY,_=Math.PI*y-Math.PI/2,x=Math.cos(_),b=Math.sin(_),w=0;w<=this.detailX;w++){var M=w/this.detailX,A=2*Math.PI*M,E=Math.cos(A),A=Math.sin(A),A=new d.default.Vector(x*A,b,x*E);this.vertices.push(A),this.vertexNormals.push(A),this.uvs.push(M,y)}})).computeFaces(),n<=24&&u<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(o,a)),this._renderer.drawBuffersScaled(o,s,l,i),this},d.default.prototype.torus=function(s,o,i,n){if(this._assert3d("torus"),d.default._validateParameters("torus",arguments),s===void 0)s=50;else if(!s)return;if(o===void 0)o=10;else if(!o)return;i===void 0&&(i=24),n===void 0&&(n=16);var u,a=(o/s).toPrecision(4),o="torus|".concat(a,"|").concat(i,"|").concat(n);return this._renderer.geometryInHash(o)||((u=new d.default.Geometry(i,n,function(){for(var c=0;c<=this.detailY;c++)for(var y=c/this.detailY,_=2*Math.PI*y,x=Math.cos(_),b=Math.sin(_),w=1+a*x,M=0;M<=this.detailX;M++){var E=M/this.detailX,A=2*Math.PI*E,I=Math.cos(A),A=Math.sin(A),C=new d.default.Vector(w*I,w*A,a*b),I=new d.default.Vector(x*I,x*A,b);this.vertices.push(C),this.vertexNormals.push(I),this.uvs.push(E,y)}})).computeFaces(),i<=24&&n<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,u)),this._renderer.drawBuffersScaled(o,s,s,s),this},d.default.RendererGL.prototype.point=function(s,l,i){var n=[];return n.push(new d.default.Vector(s,l,i=i===void 0?0:i)),this._drawPoints(n,this.immediateMode.buffers.point),this},d.default.RendererGL.prototype.triangle=function(o){var l=o[0],i=o[1],n=o[2],u=o[3],a=o[4],o=o[5],c=(this.geometryInHash("tri")||((c=new d.default.Geometry(1,1,function(){var x=[];x.push(new d.default.Vector(0,0,0)),x.push(new d.default.Vector(1,0,0)),x.push(new d.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=x,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),c.computeNormals(),this.createBuffers("tri",c)),this.uMVMatrix.copy());try{var y=Math.sign(l*u-n*i+n*o-a*u+a*i-l*o),_=new d.default.Matrix([n-l,u-i,0,0,a-l,o-i,0,0,0,0,y,0,l,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=_,this.drawBuffers("tri")}finally{this.uMVMatrix=c}return this},d.default.RendererGL.prototype.ellipse=function(s){this.arc(s[0],s[1],s[2],s[3],0,h.TWO_PI,h.OPEN,s[4])},d.default.RendererGL.prototype.arc=function(s){var l,i=arguments[1],n=arguments[2],u=arguments[3],a=arguments[4],o=arguments[5],c=arguments[6],y=arguments[7]||25,_=(Math.abs(o-a)>=h.TWO_PI?"".concat(x="ellipse","|"):"".concat(x="arc","|").concat(a,"|").concat(o,"|").concat(c,"|")).concat(y,"|"),x=(this.geometryInHash(_)||((l=new d.default.Geometry(y,1,function(){if(a.toFixed(10)!==o.toFixed(10)){c!==h.PIE&&c!==void 0||(this.vertices.push(new d.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var b=0;b<=y;b++){var M=(o-a)*(b/y)+a,w=.5+Math.cos(M)/2,M=.5+Math.sin(M)/2;this.vertices.push(new d.default.Vector(w,M,0)),this.uvs.push([w,M]),b<y-1&&(this.faces.push([0,b+1,b+2]),this.edges.push([b+1,b+2]))}switch(c){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case h.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case h.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),y<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(x," with more than 50 detail")),this.createBuffers(_,l)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([s,i,0]),this.uMVMatrix.scale(n,u,1),this.drawBuffers(_)}finally{this.uMVMatrix=x}return this},d.default.RendererGL.prototype.rect=function(s){var l=s[0],i=s[1],n=s[2],u=s[3];if(s[4]===void 0){var c=this._pInst._glAttributes.perPixelLighting,a=s[4]||(c?1:24),o=s[5]||(c?1:16),c="rect|".concat(a,"|").concat(o),y=(this.geometryInHash(c)||((y=new d.default.Geometry(a,o,function(){for(var z=0;z<=this.detailY;z++)for(var P=z/this.detailY,W=0;W<=this.detailX;W++){var Q=W/this.detailX,ae=new d.default.Vector(Q,P,0);this.vertices.push(ae),this.uvs.push(Q,P)}0<a&&0<o&&(this.edges=[[0,a],[a,(a+1)*(o+1)-1],[(a+1)*(o+1)-1,(a+1)*o],[(a+1)*o,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(c,y)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([l,i,0]),this.uMVMatrix.scale(n,u,1),this.drawBuffers(c)}finally{this.uMVMatrix=y}}else{var c=s[4],y=s[5]===void 0?c:s[5],_=s[6]===void 0?y:s[6],s=s[7]===void 0?_:s[7],A=n,x=u,M=((A+=l)<l&&(M=l,l=A,A=M),(x+=i)<i&&(M=i,i=x,x=M),Math.min((A-l)/2,(x-i)/2)),b=(M<c&&(c=M),M<y&&(y=M),M<_&&(_=M),M<s&&(s=M),l),w=i,M=A,l=x,E=(this.beginShape(),y!==0?(this.vertex(M-y,w),this.quadraticVertex(M,w,M,w+y)):this.vertex(M,w),_!==0?(this.vertex(M,l-_),this.quadraticVertex(M,l,M-_,l)):this.vertex(M,l),s!==0?(this.vertex(b+s,l),this.quadraticVertex(b,l,b,l-s)):this.vertex(b,l),c!==0?(this.vertex(b,w+c),this.quadraticVertex(b,w,b+c,w)):this.vertex(b,w),!(this.immediateMode.geometry.uvs.length=0)),i=!1,A=void 0;try{for(var C,I=this.immediateMode.geometry.vertices[Symbol.iterator]();!(E=(C=I.next()).done);E=!0){var F=C.value,R=(F.x-b)/n,U=(F.y-w)/u;this.immediateMode.geometry.uvs.push(R,U)}}catch(j){i=!0,A=j}finally{try{E||I.return==null||I.return()}finally{if(i)throw A}}this.endShape(h.CLOSE)}return this},d.default.RendererGL.prototype.quad=function(s,l,i,n,u,a,o,c,y,_,x,b,w,M){w===void 0&&(w=2),M===void 0&&(M=2);var E="quad|".concat(s,"|").concat(l,"|").concat(i,"|").concat(n,"|").concat(u,"|").concat(a,"|").concat(o,"|").concat(c,"|").concat(y,"|").concat(_,"|").concat(x,"|").concat(b,"|").concat(w,"|").concat(M);if(!this.geometryInHash(E)){var A=new d.default.Geometry(w,M,function(){for(var W=1/(this.detailX-1),Q=1/(this.detailY-1),ae=0;ae<this.detailY;ae++)for(var j=0;j<this.detailX;j++){var L=j*W,G=ae*Q;this.vertices.push(new d.default.Vector((1-L)*((1-G)*s+G*_)+L*((1-G)*n+G*o),(1-L)*((1-G)*l+G*x)+L*((1-G)*u+G*c),(1-L)*((1-G)*i+G*b)+L*((1-G)*a+G*y))),this.uvs.push([L,G])}});A.faces=[];for(var C=0;C<M-1;C++)for(var I=0;I<w-1;I++){var F=I+C*w,R=I+1+(C+1)*w,U=I+(C+1)*w;A.faces.push([F,I+1+C*w,R]),A.faces.push([F,R,U])}A.computeNormals();for(var z=[A.edges.length=0,2,3,1],P=0;P<z.length;P++)A.edges.push([z[P],z[(P+1)%z.length]]);A._edgesToVertices(),this.createBuffers(E,A)}return this.drawBuffers(E),this},d.default.RendererGL.prototype.bezier=function(s,l,i,n,u,a,o,c,y,_,x,b){arguments.length===8&&(x=c,_=o,c=a,o=u,u=n,n=i,i=a=y=b=0);var w=this._pInst._bezierDetail||20;this.beginShape();for(var M=0;M<=w;M++){var E=Math.pow(1-M/w,3),A=M/w*3*Math.pow(1-M/w,2),C=3*Math.pow(M/w,2)*(1-M/w),I=Math.pow(M/w,3);this.vertex(s*E+n*A+o*C+_*I,l*E+u*A+c*C+x*I,i*E+a*A+y*C+b*I)}return this.endShape(),this},d.default.RendererGL.prototype.curve=function(s,l,i,n,u,a,o,c,y,_,x,b){arguments.length===8&&(_=o,x=c,o=u,c=n,u=n=i,i=a=y=b=0);var w=this._pInst._curveDetail;this.beginShape();for(var M=0;M<=w;M++){var E=.5*Math.pow(M/w,3),A=.5*Math.pow(M/w,2),C=M/w*.5;this.vertex(E*(3*n-s-3*o+_)+A*(2*s-5*n+4*o-_)+C*(-s+o)+2*n*.5,E*(3*u-l-3*c+x)+A*(2*l-5*u+4*c-x)+C*(-l+c)+2*u*.5,E*(3*a-i-3*y+b)+A*(2*i-5*a+4*y-b)+C*(-i+y)+2*a*.5)}return this.endShape(),this},d.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},d.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var s,l,i,n,u,a,o=[],c=[],y=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var _=1/this._lutBezierDetail,x=0,b=1,w=0;x<1;){if(a=parseFloat(x.toFixed(6)),this._lookUpTableBezier[w]=this._bezierCoefficients(a),b.toFixed(6)===_.toFixed(6)){a=parseFloat(b.toFixed(6))+parseFloat(x.toFixed(6)),++w,this._lookUpTableBezier[w]=this._bezierCoefficients(a);break}x+=_,b-=_,++w}}for(var M=this._lookUpTableBezier.length,E=[],A=0;A<4;A++)E.push([]);E[0]=this.immediateMode.geometry.vertexColors.slice(-4),E[3]=this.curFillColor.slice();var C=[];for(A=0;A<4;A++)C.push([]);if(C[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),C[3]=this.curStrokeColor.slice(),y===6){this.isBezier=!0;var o=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],c=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],I=Math.hypot(o[0]-o[1],c[0]-c[1]),R=Math.hypot(o[1]-o[2],c[1]-c[2]),F=Math.hypot(o[2]-o[3],c[2]-c[3]),R=I+R+F;for(I/=R,F/=R,u=0;u<4;u++)E[1].push(E[0][u]*(1-I)+E[3][u]*I),E[2].push(E[0][u]*F+E[3][u]*(1-F)),C[1].push(C[0][u]*(1-I)+C[3][u]*I),C[2].push(C[0][u]*F+C[3][u]*(1-F));for(n=0;n<M;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=s=l=0;A<4;A++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[n][A]*E[A][u],this.curStrokeColor[u]+=this._lookUpTableBezier[n][A]*C[A][u];s+=o[A]*this._lookUpTableBezier[n][A],l+=c[A]*this._lookUpTableBezier[n][A]}this.vertex(s,l)}this.curFillColor=E[3],this.curStrokeColor=C[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(y===9){this.isBezier=!0,o=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],c=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var U=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],z=Math.hypot(o[0]-o[1],c[0]-c[1],U[0]-U[1]),R=Math.hypot(o[1]-o[2],c[1]-c[2],U[1]-U[2]),P=Math.hypot(o[2]-o[3],c[2]-c[3],U[2]-U[3]),y=z+R+P;for(z/=y,P/=y,u=0;u<4;u++)E[1].push(E[0][u]*(1-z)+E[3][u]*z),E[2].push(E[0][u]*P+E[3][u]*(1-P)),C[1].push(C[0][u]*(1-z)+C[3][u]*z),C[2].push(C[0][u]*P+C[3][u]*(1-P));for(n=0;n<M;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=s=l=i=0;A<4;A++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[n][A]*E[A][u],this.curStrokeColor[u]+=this._lookUpTableBezier[n][A]*C[A][u];s+=o[A]*this._lookUpTableBezier[n][A],l+=c[A]*this._lookUpTableBezier[n][A],i+=U[A]*this._lookUpTableBezier[n][A]}this.vertex(s,l,i)}this.curFillColor=E[3],this.curStrokeColor=C[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},d.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var s,l,i,n,u,a,o=[],c=[],y=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var _=1/this._lutQuadraticDetail,x=0,b=1,w=0;x<1;){if(a=parseFloat(x.toFixed(6)),this._lookUpTableQuadratic[w]=this._quadraticCoefficients(a),b.toFixed(6)===_.toFixed(6)){a=parseFloat(b.toFixed(6))+parseFloat(x.toFixed(6)),++w,this._lookUpTableQuadratic[w]=this._quadraticCoefficients(a);break}x+=_,b-=_,++w}}for(var M=this._lookUpTableQuadratic.length,E=[],A=0;A<3;A++)E.push([]);E[0]=this.immediateMode.geometry.vertexColors.slice(-4),E[2]=this.curFillColor.slice();var C=[];for(A=0;A<3;A++)C.push([]);if(C[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),C[2]=this.curStrokeColor.slice(),y===4){this.isQuadratic=!0;var o=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],c=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],I=Math.hypot(o[0]-o[1],c[0]-c[1]);for(I/=I+Math.hypot(o[1]-o[2],c[1]-c[2]),u=0;u<4;u++)E[1].push(E[0][u]*(1-I)+E[2][u]*I),C[1].push(C[0][u]*(1-I)+C[2][u]*I);for(n=0;n<M;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=s=l=0;A<3;A++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[n][A]*E[A][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[n][A]*C[A][u];s+=o[A]*this._lookUpTableQuadratic[n][A],l+=c[A]*this._lookUpTableQuadratic[n][A]}this.vertex(s,l)}this.curFillColor=E[2],this.curStrokeColor=C[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(y===6){this.isQuadratic=!0,o=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],c=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var F=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],R=Math.hypot(o[0]-o[1],c[0]-c[1],F[0]-F[1]);for(R/=R+Math.hypot(o[1]-o[2],c[1]-c[2],F[1]-F[2]),u=0;u<4;u++)E[1].push(E[0][u]*(1-R)+E[2][u]*R),C[1].push(C[0][u]*(1-R)+C[2][u]*R);for(n=0;n<M;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=s=l=i=0;A<3;A++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[n][A]*E[A][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[n][A]*C[A][u];s+=o[A]*this._lookUpTableQuadratic[n][A],l+=c[A]*this._lookUpTableQuadratic[n][A],i+=F[A]*this._lookUpTableQuadratic[n][A]}this.vertex(s,l,i)}this.curFillColor=E[2],this.curStrokeColor=C[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},d.default.RendererGL.prototype.curveVertex=function(){var s,l,i,n,u,a,o=[],c=[],y=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var _=1/this._lutBezierDetail,x=0,b=1,w=0;x<1;){if(a=parseFloat(x.toFixed(6)),this._lookUpTableBezier[w]=this._bezierCoefficients(a),b.toFixed(6)===_.toFixed(6)){a=parseFloat(b.toFixed(6))+parseFloat(x.toFixed(6)),++w,this._lookUpTableBezier[w]=this._bezierCoefficients(a);break}x+=_,b-=_,++w}}var M=this._lookUpTableBezier.length;if(y===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),u=0;u<M;u++)l=o[0]*this._lookUpTableBezier[u][0]+o[1]*this._lookUpTableBezier[u][1]+o[2]*this._lookUpTableBezier[u][2]+o[3]*this._lookUpTableBezier[u][3],i=c[0]*this._lookUpTableBezier[u][0]+c[1]*this._lookUpTableBezier[u][1]+c[2]*this._lookUpTableBezier[u][2]+c[3]*this._lookUpTableBezier[u][3],this.vertex(l,i);for(u=0;u<y;u++)this.immediateMode._curveVertex.shift()}}else if(y===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),c=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),u=0;u<M;u++)l=o[0]*this._lookUpTableBezier[u][0]+o[1]*this._lookUpTableBezier[u][1]+o[2]*this._lookUpTableBezier[u][2]+o[3]*this._lookUpTableBezier[u][3],i=c[0]*this._lookUpTableBezier[u][0]+c[1]*this._lookUpTableBezier[u][1]+c[2]*this._lookUpTableBezier[u][2]+c[3]*this._lookUpTableBezier[u][3],n=s[0]*this._lookUpTableBezier[u][0]+s[1]*this._lookUpTableBezier[u][1]+s[2]*this._lookUpTableBezier[u][2]+s[3]*this._lookUpTableBezier[u][3],this.vertex(l,i,n);for(u=0;u<y;u++)this.immediateMode._curveVertex.shift()}},d.default.RendererGL.prototype.image=function(s,b,i,w,u,a,o,c,y){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(s),this._pInst.textureMode(h.NORMAL);var _=0,x=(b<=s.width&&(_=b/s.width),1),b=(b+w<=s.width&&(x=(b+w)/s.width),0),w=(i<=s.height&&(b=i/s.height),1);i+u<=s.height&&(w=(i+u)/s.height),this.beginShape(),this.vertex(a,o,0,_,b),this.vertex(a+c,o,0,x,b),this.vertex(a+c,o+y,0,x,w),this.vertex(a,o+y,0,_,w),this.endShape(h.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(h.REMOVE)};var r=d.default;k.default=r},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(t,Y,k){"use strict";function v(l){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}T(v,"m");function p(l){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(i){return v(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(l)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var i=m();if(i&&i.has(l))return i.get(l);var n,u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in l){var o;Object.prototype.hasOwnProperty.call(l,n)&&((o=a?Object.getOwnPropertyDescriptor(l,n):null)&&(o.get||o.set)?Object.defineProperty(u,n,o):u[n]=l[n])}return u.default=l,i&&i.set(l,u),u}(t("../core/constants"));function m(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,m=T(function(){return l},"y"),l)}T(m,"y");function f(l){return function(i){if(Array.isArray(i)){for(var n=0,u=new Array(i.length);n<i.length;n++)u[n]=i[n];return u}}(l)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(f,"g");function r(l,i){for(var n=0;n<i.length;n++){var u=i[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}T(r,"r");var s=function(){function l(a){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");(this.renderer=a)._pInst.push(),this.identityMatrix=new d.default.Matrix,a.uMVMatrix=new d.default.Matrix,this.geometry=new d.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(l.nextGeometryId),l.nextGeometryId++,this.hasTransform=!1}T(l,"s");var i,n,u;return i=l,(n=[{key:"transformVertices",value:function(a){var o=this;return this.hasTransform?a.map(function(c){return o.renderer.uMVMatrix.multiplyPoint(c)}):a}},{key:"transformNormals",value:function(a){var o=this;return this.hasTransform?a.map(function(c){return o.renderer.uNMatrix.multiplyVec3(c)}):a}},{key:"addGeometry",value:function(a){for(var o,c=this,y=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(x,b){return x===c.identityMatrix.mat4[b]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),_=((o=this.geometry.vertices).push.apply(o,f(this.transformVertices(a.vertices))),(o=this.geometry.vertexNormals).push.apply(o,f(this.transformNormals(a.vertexNormals))),(o=this.geometry.uvs).push.apply(o,f(a.uvs)),this.renderer._doFill&&(o=this.geometry.faces).push.apply(o,f(a.faces.map(function(x){return x.map(function(b){return b+y})}))),this.renderer._doStroke&&(o=this.geometry.edges).push.apply(o,f(a.edges.map(function(x){return x.map(function(b){return b+y})}))),f(a.vertexColors));_.length<4*a.vertices.length;)_.push.apply(_,f(this.renderer.curFillColor));(o=this.geometry.vertexColors).push.apply(o,f(_))}},{key:"addImmediate",value:function(){var a=this.renderer.immediateMode.geometry,o=this.renderer.immediateMode.shapeMode,c=[];if(this.renderer._doFill)if(o===h.TRIANGLE_STRIP||o===h.QUAD_STRIP)for(var y=2;y<a.vertices.length;y++)y%2==0?c.push([y,y-1,y-2]):c.push([y,y-2,y-1]);else if(o===h.TRIANGLE_FAN)for(var _=2;_<a.vertices.length;_++)c.push([0,_-1,_]);else for(var x=0;x<a.vertices.length;x+=3)c.push([x,x+1,x+2]);this.addGeometry(Object.assign({},a,{faces:c}))}},{key:"addRetained",value:function(a){this.addGeometry(a.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&r(i.prototype,n),u&&r(i,u),l}();s.nextGeometryId=0,k.default=s},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=(f=t("../core/main"))&&f.__esModule?f:{default:f},d=function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var s=h();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../core/constants"));function h(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,h=T(function(){return r},"f"),r)}T(h,"f");function m(r){return(m=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(m,"y"),p.default.prototype.orbitControl=function(r,s,l,y){var n=this,u=(this._assert3d("orbitControl"),p.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);r===void 0&&(r=1),s===void 0&&(s=r),l===void 0&&(l=1),m(y)!=="object"&&(y={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var x=y.disableTouchActions;this.touchActionsDisabled===!0||x!==void 0&&!x||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var a,o,c,x=y.freeRotation,y=x!==void 0&&x,_=[],x=(this.touches.forEach(function(I){n._renderer.prevTouches.forEach(function(F){I.id===F.id&&(F={x:I.x,y:I.y,px:F.x,py:F.y},_.push(F))})}),this._renderer.prevTouches=this.touches,0),b=0,w=0,M=0,E=0,A=this.height<this.width?this.height:this.width,C=!1;return 0<_.length?(C=0<_[0].x&&_[0].x<this.width&&0<_[0].y&&_[0].y<this.height,_.length===1?(b=-r*((a=_[0]).x-a.px)/A,w=s*(a.y-a.py)/A):(a=_[0],o=_[1],x=-(Math.hypot(a.x-o.x,a.y-o.y)-Math.hypot(a.px-o.px,a.py-o.py))*l*4e-4,M=.5*(a.x+o.x)-.5*(a.px+o.px),E=.5*(a.y+o.y)-.5*(a.py+o.py)),0<this.touches.length?C&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(C=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(x=Math.sign(this._mouseWheelDeltaY)*l,x*=.01,this._mouseWheelDeltaY=0,C&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(b=-r*this.movedX/A,w=s*this.movedY/A):this.mouseButton===this.RIGHT&&(M=this.movedX,E=this.movedY*u.yScale),C&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),x!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=x),.001<Math.abs(this._renderer.zoomVelocity)?(y?u._orbitFree(0,0,this._renderer.zoomVelocity):u._orbit(0,0,this._renderer.zoomVelocity),u.projMatrix.mat4[15]!==0&&(u.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),u.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=u.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=u.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,b===0&&w===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*b,.6*w),1e-6<this._renderer.rotateVelocity.magSq()?(y?u._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):u._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),M===0&&E===0||!this._renderer.executeRotateAndMove||(a=2*M/this.width,o=2*-E/this.height,this._renderer.moveVelocity.add(.15*a,.15*o)),1e-6<this._renderer.moveVelocity.magSq()?(l=u._getLocalAxes(),r=u.eyeX-u.centerX,s=u.eyeY-u.centerY,A=u.eyeZ-u.centerZ,C=Math.sqrt(r*r+s*s+A*A),x=new p.default.Vector(u.centerX,u.centerY,u.centerZ),x=u.cameraMatrix.multiplyPoint(x),(x=this._renderer.uPMatrix.multiplyAndNormalizePoint(x)).x-=this._renderer.moveVelocity.x,x.y-=this._renderer.moveVelocity.y,w=(b=this._renderer.uPMatrix.mat4)[15]===0?(c=(b[8]+x.x)/b[0]*C,(b[9]+x.y)/b[5]*C):(c=(x.x-b[12])/b[0],(x.y-b[13])/b[5]),u.setPosition(u.eyeX+c*l.x[0]+w*l.y[0],u.eyeY+c*l.x[1]+w*l.y[1],u.eyeZ+c*l.x[2]+w*l.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},p.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];p.default._validateParameters("debugMode",s);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);s[0]===d.GRID?this.registerMethod("post",this._grid.call(this,s[1],s[2],s[3],s[4],s[5])):s[0]===d.AXES?this.registerMethod("post",this._axesIcon.call(this,s[1],s[2],s[3],s[4])):(this.registerMethod("post",this._grid.call(this,s[0],s[1],s[2],s[3],s[4])),this.registerMethod("post",this._axesIcon.call(this,s[5],s[6],s[7],s[8])))},p.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1)},p.default.prototype._grid=function(r,s,l,i,n){r===void 0&&(r=this.width/2),s===void 0&&(s=Math.round(r/30)<4?4:Math.round(r/30)),l===void 0&&(l=0),i===void 0&&(i=0),n===void 0&&(n=0);var u=r/s,a=r/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var o=0;o<=s;o++)this.beginShape(this.LINES),this.vertex(-a+l,i,o*u-a+n),this.vertex(a+l,i,o*u-a+n),this.endShape();for(var c=0;c<=s;c++)this.beginShape(this.LINES),this.vertex(c*u-a+l,i,-a+n),this.vertex(c*u-a+l,i,a+n),this.endShape();this.pop()}},p.default.prototype._axesIcon=function(r,s,l,i){return r===void 0&&(r=40<this.width/20?this.width/20:40),s===void 0&&(s=-this.width/4),l===void 0&&(l=s),i===void 0&&(i=s),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(s,l,i),this.vertex(s+r,l,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(s,l,i),this.vertex(s,l+r,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(s,l,i),this.vertex(s,l,i+r),this.endShape(),this.pop()}};var f=p.default;k.default=f},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(t,Y,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};v.default.prototype.ambientLight=function(p,d,h,m){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var f=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(f._array[0],f._array[1],f._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(p,d,h){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},v.default.prototype.directionalLight=function(p,n,i,m,f,r){this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),p=p instanceof v.default.Color?p:this.color(p,n,i);var s,l,n=arguments[arguments.length-1],i=typeof n=="number"?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=n.x,l=n.y,n.z),n=Math.sqrt(s*s+l*l+i*i);return this._renderer.directionalLightDirections.push(s/n,l/n,i/n),this._renderer.directionalLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(p,i,n,m,f,r){this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),p=p instanceof v.default.Color?p:this.color(p,i,n);var s,l,i=arguments[arguments.length-1],n=typeof i=="number"?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=i.x,l=i.y,i.z);return this._renderer.pointLightPositions.push(s,l,n),this._renderer.pointLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(p){this._renderer.activeImageLight=p,this._renderer._enableLighting=!0},v.default.prototype.lights=function(){this._assert3d("lights");var p=this.color("rgb(128,128,128)");return this.ambientLight(p),this.directionalLight(p,0,0,-1),this},v.default.prototype.lightFalloff=function(p,d,h){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),p<0&&(p=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),p===0&&d===0&&h===0&&(p=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=p,this._renderer.linearAttenuation=d,this._renderer.quadraticAttenuation=h,this},v.default.prototype.spotLight=function(p,d,h,m,f,r,s,l,i,n,u){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var a,o,c,y=arguments.length;switch(y){case 11:case 10:a=this.color(p,d,h),o=new v.default.Vector(m,f,r),c=new v.default.Vector(s,l,i);break;case 9:p instanceof v.default.Color?(a=p,o=new v.default.Vector(d,h,m),c=new v.default.Vector(f,r,s),n=l,u=i):m instanceof v.default.Vector?(a=this.color(p,d,h),o=m,c=new v.default.Vector(f,r,s),n=l,u=i):s instanceof v.default.Vector?(a=this.color(p,d,h),o=new v.default.Vector(m,f,r),c=s,n=l,u=i):(a=this.color(p,d,h),o=new v.default.Vector(m,f,r),c=new v.default.Vector(s,l,i));break;case 8:n=(c=p instanceof v.default.Color?(a=p,o=new v.default.Vector(d,h,m),new v.default.Vector(f,r,s)):m instanceof v.default.Vector?(a=this.color(p,d,h),o=m,new v.default.Vector(f,r,s)):(a=this.color(p,d,h),o=new v.default.Vector(m,f,r),s),l);break;case 7:p instanceof v.default.Color&&d instanceof v.default.Vector?(a=p,o=d,c=new v.default.Vector(h,m,f),n=r,u=s):p instanceof v.default.Color&&f instanceof v.default.Vector?(a=p,o=new v.default.Vector(d,h,m),c=f,n=r,u=s):m instanceof v.default.Vector&&f instanceof v.default.Vector?(a=this.color(p,d,h),o=m,c=f,n=r,u=s):c=p instanceof v.default.Color?(a=p,o=new v.default.Vector(d,h,m),new v.default.Vector(f,r,s)):m instanceof v.default.Vector?(a=this.color(p,d,h),o=m,new v.default.Vector(f,r,s)):(a=this.color(p,d,h),o=new v.default.Vector(m,f,r),s);break;case 6:m instanceof v.default.Vector&&f instanceof v.default.Vector?(a=this.color(p,d,h),o=m,c=f,n=r):p instanceof v.default.Color&&f instanceof v.default.Vector?(a=p,o=new v.default.Vector(d,h,m),c=f,n=r):p instanceof v.default.Color&&d instanceof v.default.Vector&&(a=p,o=d,c=new v.default.Vector(h,m,f),n=r);break;case 5:p instanceof v.default.Color&&d instanceof v.default.Vector&&h instanceof v.default.Vector?(a=p,o=d,c=h,n=m,u=f):m instanceof v.default.Vector&&f instanceof v.default.Vector?(a=this.color(p,d,h),o=m,c=f):p instanceof v.default.Color&&f instanceof v.default.Vector?(a=p,o=new v.default.Vector(d,h,m),c=f):p instanceof v.default.Color&&d instanceof v.default.Vector&&(a=p,o=d,c=new v.default.Vector(h,m,f));break;case 4:a=p,o=d,c=h,n=m;break;case 3:a=p,o=d,c=h;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(y<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(o.x,o.y,o.z),c.normalize(),this._renderer.spotLightDirections.push(c.x,c.y,c.z),n===void 0&&(n=Math.PI/3),u!==void 0&&u<1?(u=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):u===void 0&&(u=100),n=this._renderer._pInst._toRadians(n),this._renderer.spotLightAngle.push(Math.cos(n)),this._renderer.spotLightConc.push(u),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];return v.default._validateParameters("noLights",d),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=v.default,k.default=t},{"../core/main":275}],322:[function(t,Y,k){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(p=t("../core/main"))&&p.__esModule?p:{default:p};t("./p5.Geometry"),v.default.prototype.loadModel=function(d){v.default._validateParameters("loadModel",arguments);var h,m,f,r=d.slice(-4),s=(typeof arguments[1]=="boolean"?(h=arguments[1],m=arguments[2],f=arguments[3],arguments[4]!==void 0&&(r=arguments[4])):(h=!1,m=arguments[1],f=arguments[2],arguments[3]!==void 0&&(r=arguments[3])),new v.default.Geometry),l=(s.gid="".concat(d,"|").concat(h),this);return r.match(/\.stl$/i)?this.httpDo(d,"GET","arrayBuffer",function(i){(function(n,u){if(function(a){for(var o=new DataView(a),c=[115,111,108,105,100],y=0;y<5;y++)if(function(_,x,b){for(var w=0,M=_.length;w<M;w++)if(_[w]!==x.getUint8(b+w,!1))return;return 1}(c,o,y))return;return 1}(u))(function(a,o){for(var c,y,_,x,b,w,M,E=new DataView(o),A=E.getUint32(80,!0),C=!1,I=0;I<70;I++)E.getUint32(I,!1)===1129270351&&E.getUint8(I+4)===82&&E.getUint8(I+5)===61&&(C=!0,x=[],b=E.getUint8(I+6)/255,w=E.getUint8(I+7)/255,M=E.getUint8(I+8)/255);for(var F=0;F<A;F++){for(var R,U=84+50*F,z=E.getFloat32(U,!0),P=E.getFloat32(4+U,!0),W=E.getFloat32(8+U,!0),Q=(C&&(R=E.getUint16(48+U,!0),_=32768&R?(c=b,y=w,M):(c=(31&R)/31,y=(R>>5&31)/31,(R>>10&31)/31)),new v.default.Vector(z,P,W)),ae=1;ae<=3;ae++){var j=U+12*ae,j=new v.default.Vector(E.getFloat32(j,!0),E.getFloat32(4+j,!0),E.getFloat32(8+j,!0));a.vertices.push(j),a.vertexNormals.push(Q),C&&x.push(c,y,_)}a.faces.push([3*F,3*F+1,3*F+2]),a.uvs.push([0,0],[0,0],[0,0])}})(n,u);else{if(u=new DataView(u),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");u=new TextDecoder("utf-8").decode(u).split(`
`),function(a,o){for(var c,y,_="",x=[],b=0;b<o.length;++b){for(var w=o[b].trim(),M=w.split(" "),E=0;E<M.length;++E)M[E]===""&&M.splice(E,1);if(M.length!==0)switch(_){case"":if(M[0]!=="solid")return console.error(w),console.error('Invalid state "'.concat(M[0],'", should be "solid"'));_="solid";break;case"solid":if(M[0]!=="facet"||M[1]!=="normal")return console.error(w),console.error('Invalid state "'.concat(M[0],'", should be "facet normal"'));c=new v.default.Vector(parseFloat(M[2]),parseFloat(M[3]),parseFloat(M[4])),a.vertexNormals.push(c,c,c),_="facet normal";break;case"facet normal":if(M[0]!=="outer"||M[1]!=="loop")return console.error(w),console.error('Invalid state "'.concat(M[0],'", should be "outer loop"'));_="vertex";break;case"vertex":if(M[0]==="vertex")y=new v.default.Vector(parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])),a.vertices.push(y),a.uvs.push([0,0]),x.push(a.vertices.indexOf(y));else{if(M[0]!=="endloop")return console.error(w),console.error('Invalid state "'.concat(M[0],'", should be "vertex" or "endloop"'));a.faces.push(x),x=[],_="endloop"}break;case"endloop":if(M[0]!=="endfacet")return console.error(w),console.error('Invalid state "'.concat(M[0],'", should be "endfacet"'));_="endfacet";break;case"endfacet":if(M[0]!=="endsolid"){if(M[0]!=="facet"||M[1]!=="normal")return console.error(w),console.error('Invalid state "'.concat(M[0],'", should be "endsolid" or "facet normal"'));c=new v.default.Vector(parseFloat(M[2]),parseFloat(M[3]),parseFloat(M[4])),a.vertexNormals.push(c,c,c),_="facet normal"}break;default:console.error('Invalid state "'.concat(_,'"'))}}}(n,u)}})(s,i),h&&s.normalize(),l._decrementPreload(),typeof m=="function"&&m(s)},f):r.match(/\.obj$/i)?this.loadStrings(d,function(i){for(var n=s,u=i,a={v:[],vt:[],vn:[]},o={},c=0;c<u.length;++c){var y=u[c].trim().split(/\b\s+/);if(0<y.length){if(y[0]==="v"||y[0]==="vn"){var _=new v.default.Vector(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3]));a[y[0]].push(_)}else if(y[0]==="vt")_=[parseFloat(y[1]),1-parseFloat(y[2])],a[y[0]].push(_);else if(y[0]==="f")for(var x=3;x<y.length;++x){for(var b=[],w=[1,x-1,x],M=0;M<w.length;++M){var E=y[w[M]],A=0;if(o[E]!==void 0)A=o[E];else{for(var C=E.split("/"),I=0;I<C.length;I++)C[I]=parseInt(C[I])-1;A=o[E]=n.vertices.length,n.vertices.push(a.v[C[0]].copy()),a.vt[C[1]]?n.uvs.push(a.vt[C[1]].slice()):n.uvs.push([0,0]),a.vn[C[2]]&&n.vertexNormals.push(a.vn[C[2]].copy())}b.push(A)}b[0]!==b[1]&&b[0]!==b[2]&&b[1]!==b[2]&&n.faces.push(b)}}}n.vertexNormals.length===0&&n.computeNormals(),h&&s.normalize(),l._decrementPreload(),typeof m=="function"&&m(s)},f):(v.default._friendlyFileLoadError(3,d),f?f():v.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),s},v.default.prototype.model=function(d){this._assert3d("model"),v.default._validateParameters("model",arguments),0<d.vertices.length&&(this._renderer.geometryInHash(d.gid)||(d.edges.length===0&&d._makeTriangleEdges(),d._edgesToVertices(),this._renderer.createBuffers(d.gid,d)),this._renderer.drawBuffers(d.gid))};var p=v.default;k.default=p},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(f=t("../core/main"))&&f.__esModule?f:{default:f},h=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=T(function(){return r},"y"),r)}T(m,"y"),t("./p5.Texture"),d.default.prototype.loadShader=function(r,s,l,i){d.default._validateParameters("loadShader",arguments),i=i||console.error;function n(){a._decrementPreload(),l&&l(u)}T(n,"l");var u=new d.default.Shader,a=this,o=!1,c=!1;return this.loadStrings(r,function(y){u._vertSrc=y.join(`
`),c=!0,o&&n()},i),this.loadStrings(s,function(y){u._fragSrc=y.join(`
`),o=!0,c&&n()},i),u},d.default.prototype.createShader=function(r,s){return d.default._validateParameters("createShader",arguments),new d.default.Shader(this._renderer,r,s)},d.default.prototype.createFilterShader=function(r){d.default._validateParameters("createFilterShader",arguments);var s=r.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,s=new d.default.Shader(this._renderer,s,r);return this._renderer.GL?s.ensureCompiledOnContext(this):s.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),s},d.default.prototype.shader=function(r){return this._assert3d("shader"),d.default._validateParameters("shader",arguments),r.ensureCompiledOnContext(this),r.isStrokeShader()?this._renderer.userStrokeShader=r:(this._renderer.userFillShader=r,this._renderer._useNormalMaterial=!1),this},d.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},d.default.prototype.texture=function(r){return this._assert3d("texture"),d.default._validateParameters("texture",arguments),r.gifProperties&&r._animateGif(this),this._renderer.drawMode=h.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=r,this._renderer._setProperty("_doFill",!0),this},d.default.prototype.textureMode=function(r){r!==h.IMAGE&&r!==h.NORMAL?console.warn("You tried to set ".concat(r," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=r},d.default.prototype.textureWrap=function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,l=(this._renderer.textureWrapX=r,this._renderer.textureWrapY=s,!0),i=!1,n=void 0;try{for(var u,a=this._renderer.textures.values()[Symbol.iterator]();!(l=(u=a.next()).done);l=!0)u.value.setWrapMode(r,s)}catch(o){i=!0,n=o}finally{try{l||a.return==null||a.return()}finally{if(i)throw n}}},d.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return d.default._validateParameters("normalMaterial",s),this._renderer.drawMode=h.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},d.default.prototype.ambientMaterial=function(r,s,l){this._assert3d("ambientMaterial"),d.default._validateParameters("ambientMaterial",arguments);var i=d.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=i._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},d.default.prototype.emissiveMaterial=function(r,s,l,i){this._assert3d("emissiveMaterial"),d.default._validateParameters("emissiveMaterial",arguments);var n=d.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=n._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},d.default.prototype.specularMaterial=function(r,s,l,i){this._assert3d("specularMaterial"),d.default._validateParameters("specularMaterial",arguments);var n=d.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=n._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},d.default.prototype.shininess=function(r){return this._assert3d("shininess"),d.default._validateParameters("shininess",arguments),this._renderer._useShininess=r=r<1?1:r,this},d.default.RendererGL.prototype._applyColorBlend=function(r){var s=this.GL,l=this.drawMode===h.TEXTURE,l=this.userFillShader||this.userStrokeShader||this.userPointShader||l||this.curBlendMode!==h.BLEND||r[r.length-1]<1||this._isErasing;return l!==this._isBlending&&(l||this.curBlendMode!==h.BLEND&&this.curBlendMode!==h.ADD?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=l),this._applyBlendMode(),r},d.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var r=this.GL;switch(this.curBlendMode){case h.BLEND:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case h.ADD:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case h.REMOVE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case h.MULTIPLY:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case h.SCREEN:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case h.EXCLUSION:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case h.REPLACE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case h.SUBTRACT:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case h.DARKEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case h.LIGHTEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var f=d.default;k.default=f},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(t,Y,k){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(d,h){for(var m=0;m<h.length;m++){var f=h[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}T(p,"p"),v.default.prototype.camera=function(){var d;this._assert3d("camera");for(var h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];return v.default._validateParameters("camera",m),(d=this._renderer._curCamera).camera.apply(d,m),this},v.default.prototype.perspective=function(){var d;this._assert3d("perspective");for(var h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];return v.default._validateParameters("perspective",m),(d=this._renderer._curCamera).perspective.apply(d,m),this},v.default.prototype.ortho=function(){var d;this._assert3d("ortho");for(var h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];return v.default._validateParameters("ortho",m),(d=this._renderer._curCamera).ortho.apply(d,m),this},v.default.prototype.frustum=function(){var d;this._assert3d("frustum");for(var h=arguments.length,m=new Array(h),f=0;f<h;f++)m[f]=arguments[f];return v.default._validateParameters("frustum",m),(d=this._renderer._curCamera).frustum.apply(d,m),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var d=new v.default.Camera(this._renderer);return d._computeCameraDefaultSettings(),d._setDefaultCamera(),this._renderer._curCamera=d},v.default.Camera=function(){function d(r){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._renderer=r,this.cameraType="default",this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}T(d,"i");var h,m,f;return h=d,(m=[{key:"perspective",value:function(n,s,l,i){this.cameraType=0<arguments.length?"custom":"default",n===void 0?(n=this.defaultCameraFOV,this.cameraFOV=n):this.cameraFOV=this._renderer._pInst._toRadians(n),s===void 0&&(s=this.defaultAspectRatio),l===void 0&&(l=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),l<=1e-4&&(l=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<l&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=l,this.cameraFar=i,this.projMatrix=v.default.Matrix.identity();var n=1/Math.tan(this.cameraFOV/2),u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(n/s,0,0,0,0,-n*this.yScale,0,0,0,0,(i+l)*u,-1,0,0,2*i*l*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(b,x,l,i,n,u){b===void 0&&(b=-this._renderer.width/2),x===void 0&&(x=+this._renderer.width/2),l===void 0&&(l=-this._renderer.height/2),i===void 0&&(i=+this._renderer.height/2),n===void 0&&(n=0),u===void 0&&(u=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=n;var w=x-b,a=i-l,o=(this.cameraFar=u)-n,c=2/w,y=2/a*this.yScale,_=-2/o,x=-(x+b)/w,b=-(i+l)/a,w=-(u+n)/o;this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-y,0,0,0,0,_,0,x,b,w,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(b,x,l,i,n,u){b===void 0&&(b=.05*-this._renderer.width),x===void 0&&(x=.05*+this._renderer.width),l===void 0&&(l=.05*+this._renderer.height),i===void 0&&(i=.05*-this._renderer.height),n===void 0&&(n=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),this.cameraNear=n;var w=x-b,a=i-l,o=(this.cameraFar=u)-n,c=2*n/w,y=2*n/a*this.yScale,_=-2*u*n/o,x=(x+b)/w,b=(i+l)/a,w=-(u+n)/o;this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-y,0,0,x,b,w,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(c,s,l,i){var n=this.centerX,u=this.centerY,a=this.centerZ,o=(n-=this.eyeX,u-=this.eyeY,a-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst)),c=(o.rotate(this._renderer._pInst._toRadians(c),s,l,i),[n*o.mat4[0]+u*o.mat4[4]+a*o.mat4[8],n*o.mat4[1]+u*o.mat4[5]+a*o.mat4[9],n*o.mat4[2]+u*o.mat4[6]+a*o.mat4[10]]);c[0]+=this.eyeX,c[1]+=this.eyeY,c[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,c[0],c[1],c[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(r){var s=this._getLocalAxes();this._rotateView(r,s.y[0],s.y[1],s.y[2])}},{key:"tilt",value:function(r){var s=this._getLocalAxes();this._rotateView(r,s.x[0],s.x[1],s.x[2])}},{key:"lookAt",value:function(r,s,l){this.camera(this.eyeX,this.eyeY,this.eyeZ,r,s,l,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(r,s,l,i,n,u,a,o,c){return r===void 0&&(r=this.defaultEyeX,s=this.defaultEyeY,l=this.defaultEyeZ,i=r,n=s,o=1,c=a=u=0),this.eyeX=r,this.eyeY=s,this.eyeZ=l,i!==void 0&&(this.centerX=i,this.centerY=n,this.centerZ=u),a!==void 0&&(this.upX=a,this.upY=o,this.upZ=c),i=this._getLocalAxes(),this.cameraMatrix.set(i.x[0],i.y[0],i.z[0],0,i.x[1],i.y[1],i.z[1],0,i.x[2],i.y[2],i.z[2],0,0,0,0,1),n=-r,this.cameraMatrix.translate([n,-s,-l]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(i,n,l){var u=this._getLocalAxes(),i=[u.x[0]*i,u.x[1]*i,u.x[2]*i],n=[u.y[0]*n,u.y[1]*n,u.y[2]*n],u=[u.z[0]*l,u.z[1]*l,u.z[2]*l];this.camera(this.eyeX+i[0]+n[0]+u[0],this.eyeY+i[1]+n[1]+u[1],this.eyeZ+i[2]+n[2]+u[2],this.centerX+i[0]+n[0]+u[0],this.centerY+i[1]+n[1]+u[1],this.centerZ+i[2]+n[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(r,s,l){var i=r-this.eyeX,n=s-this.eyeY,u=l-this.eyeZ;this.camera(r,s,l,this.centerX+i,this.centerY+n,this.centerZ+u,this.upX,this.upY,this.upZ)}},{key:"set",value:function(r){for(var s=0,l=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];s<l.length;s++){var i=l[s];this[i]=r[i]}this.cameraMatrix=r.cameraMatrix.copy(),this.projMatrix=r.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(r,s,l){var i,n,u,a,o,c,y,_,x,b,w,M,E,A,C,I,F,R;l===0?this.set(r):l===1?this.set(s):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=r.projMatrix.mat4[0]*Math.pow(s.projMatrix.mat4[0]/r.projMatrix.mat4[0],l),this.projMatrix.mat4[5]=r.projMatrix.mat4[5]*Math.pow(s.projMatrix.mat4[5]/r.projMatrix.mat4[5],l),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),a=new v.default.Vector(r.eyeX,r.eyeY,r.eyeZ),o=new v.default.Vector(s.eyeX,s.eyeY,s.eyeZ),I=new v.default.Vector(r.centerX,r.centerY,r.centerZ),R=new v.default.Vector(s.centerX,s.centerY,s.centerZ),u=v.default.Vector.dist(a,I),i=v.default.Vector.dist(o,R),i=u*Math.pow(i/u,l),u=v.default.Vector.sub(a,o),n=1,1e-6<(F=(A=a.copy().sub(o).sub(I).add(R)).magSq())&&(n=v.default.Vector.dot(u,A)/F,n=Math.max(0,Math.min(n,1))),u=v.default.Vector.lerp(v.default.Vector.lerp(a,I,n),v.default.Vector.lerp(o,R,n),l),A=r.cameraMatrix.createSubMatrix3x3(),F=s.cameraMatrix.createSubMatrix3x3(),a=A.row(2),I=F.row(2),o=A.row(1),R=F.row(1),r=new v.default.Vector,s=new v.default.Vector,c=new v.default.Vector,y=new v.default.Vector,1-(_=.5*((A=(F=F.mult3x3(A.copy().transpose3x3())).diagonal())[0]+A[1]+A[2]-1))<1e-7?(r.set(v.default.Vector.lerp(a,I,l)).normalize(),c.set(r).mult(n*i).add(u),y.set(r).mult((n-1)*i).add(u),s.set(v.default.Vector.lerp(o,R,l)).normalize()):(I=1/(1-_),R=Math.max(A[0],A[1],A[2]),M=F.mat3[1]+F.mat3[3],E=F.mat3[2]+F.mat3[6],C=F.mat3[5]+F.mat3[7],R=R===A[0]?(b=.5*M*(I/=x=Math.sqrt((A[0]-_)*I)),w=.5*E*I,.5*(F.mat3[7]-F.mat3[5])/x):R===A[1]?(w=.5*C*(I/=b=Math.sqrt((A[1]-_)*I)),x=.5*M*I,.5*(F.mat3[2]-F.mat3[6])/b):(x=.5*E*(I/=w=Math.sqrt((A[2]-_)*I)),b=.5*C*I,.5*(F.mat3[3]-F.mat3[1])/w),M=l*Math.atan2(R,_),E=Math.cos(M),A=Math.sin(M),(R=new v.default.Matrix("mat3",[E+(C=1-E)*x*x,C*(I=x*b)+A*w,C*(F=w*x)-A*b,C*I-A*w,E+C*b*b,C*(l=b*w)+A*x,C*F+A*b,C*l-A*x,E+C*w*w])).multiplyVec3(a,r),c.set(r).mult(n*i).add(u),y.set(r).mult((n-1)*i).add(u),R.multiplyVec3(o,s)),this.camera(c.x,c.y,c.z,y.x,y.y,y.z,s.x,s.y,s.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var r=new v.default.Camera(this._renderer);return r.cameraFOV=this.cameraFOV,r.aspectRatio=this.aspectRatio,r.eyeX=this.eyeX,r.eyeY=this.eyeY,r.eyeZ=this.eyeZ,r.centerX=this.centerX,r.centerY=this.centerY,r.centerZ=this.centerZ,r.upX=this.upX,r.upY=this.upY,r.upZ=this.upZ,r.cameraNear=this.cameraNear,r.cameraFar=this.cameraFar,r.cameraType=this.cameraType,r.cameraMatrix=this.cameraMatrix.copy(),r.projMatrix=this.projMatrix.copy(),r.yScale=this.yScale,r}},{key:"_getLocalAxes",value:function(){var r=this.eyeX-this.centerX,s=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,a=Math.sqrt(r*r+s*s+l*l),a=(a!==0&&(r/=a,s/=a,l/=a),this.upX),i=(o=this.upY)*l-(c=this.upZ)*s,n=-a*l+c*r,u=a*s-o*r,a=s*u-l*n,o=-r*u+l*i,c=r*n-s*i,y=Math.sqrt(i*i+n*n+u*u),y=(y!==0&&(i/=y,n/=y,u/=y),Math.sqrt(a*a+o*o+c*c));return y!==0&&(a/=y,o/=y,c/=y),{x:[i,n,u],y:[a,o,c],z:[r,s,l]}}},{key:"_orbit",value:function(r,y,c){var n=this.eyeX-this.centerX,u=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,i=Math.hypot(n,u,a),n=new v.default.Vector(n,u,a).normalize(),u=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),a=new v.default.Vector.cross(u,n).normalize(),o=new v.default.Vector.cross(a,u),c=((i=(i*=Math.pow(10,c))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(n,u))))+y),y=r;(c<=0||c>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(c)),o.mult(Math.cos(y)*Math.sin(c)),a.mult(Math.sin(y)*Math.sin(c)),n.set(u).add(o).add(a),this.eyeX=i*n.x+this.centerX,this.eyeY=i*n.y+this.centerY,this.eyeZ=i*n.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(c,y,x){var n=this.eyeX-this.centerX,u=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,i=Math.hypot(n,u,a),n=new v.default.Vector(n,u,a).normalize(),u=new v.default.Vector(this.upX,this.upY,this.upZ),a=new v.default.Vector.cross(u,n).normalize(),o=new v.default.Vector.cross(n,a),b=Math.atan2(y,c),b=(o.mult(Math.sin(b)),a.mult(Math.cos(b)).add(o),Math.sqrt(c*c+y*y)),o=new v.default.Vector.cross(n,a),c=((i=(i*=Math.pow(10,x))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.cos(b)),y=Math.sin(b),x=u.dot(n),b=u.dot(a),_=x*c+b*y,x=-x*y+b*c,b=u.dot(o);u.x=_*n.x+x*a.x+b*o.x,u.y=_*n.y+x*a.y+b*o.y,u.z=_*n.z+x*a.z+b*o.z,a.mult(-y),n.mult(c).add(a).mult(i),this.camera(n.x+this.centerX,n.y+this.centerY,n.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&p(h.prototype,m),f&&p(h,f),d}(),v.default.prototype.setCamera=function(d){this._renderer._curCamera=d,this._renderer.uPMatrix.set(d.projMatrix.mat4[0],d.projMatrix.mat4[1],d.projMatrix.mat4[2],d.projMatrix.mat4[3],d.projMatrix.mat4[4],d.projMatrix.mat4[5],d.projMatrix.mat4[6],d.projMatrix.mat4[7],d.projMatrix.mat4[8],d.projMatrix.mat4[9],d.projMatrix.mat4[10],d.projMatrix.mat4[11],d.projMatrix.mat4[12],d.projMatrix.mat4[13],d.projMatrix.mat4[14],d.projMatrix.mat4[15])},t=v.default.Camera,k.default=t},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(t,Y,k){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function v(p,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}T(v,"m"),t.default.DataArray=function(){function p(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,r=this,s=p;if(!(r instanceof s))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(f),this.initialLength=f}T(p,"p");var d,h,m;return d=p,(h=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var f;this.length<this.data.length/2&&(f=1<<Math.ceil(Math.log2(this.length)),(f=new Float32Array(f)).set(this.data.subarray(0,this.length),0),this.data=f)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var f=arguments.length,r=new Array(f),s=0;s<f;s++)r[s]=arguments[s];this.ensureLength(this.length+r.length),this.data.set(r,this.length),this.length+=r.length}},{key:"slice",value:function(f,r){return this.data.slice(f,Math.min(r,this.length))}},{key:"subArray",value:function(f,r){return this.data.subarray(f,Math.min(r,this.length))}},{key:"ensureLength",value:function(f){for(;this.data.length<f;){var r=new Float32Array(2*this.data.length);r.set(this.data,0),this.data=r}}}])&&v(d.prototype,h),m&&v(d,m),p}(),t=t.default.DataArray,k.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(w,Y,k){"use strict";function v(M){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(M)}T(v,"m");function p(M){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(E){return v(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":v(E)})(M)}T(p,"p"),w("core-js/modules/es.symbol"),w("core-js/modules/es.symbol.description"),w("core-js/modules/es.symbol.iterator"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.includes"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.object.get-own-property-descriptor"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.reflect.construct"),w("core-js/modules/es.reflect.get"),w("core-js/modules/es.regexp.to-string"),w("core-js/modules/es.string.includes"),w("core-js/modules/es.string.iterator"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.uint8-array"),w("core-js/modules/es.typed-array.uint8-clamped-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),w("core-js/modules/es.weak-map"),w("core-js/modules/web.dom-collections.iterator"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.includes"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.string.includes"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.uint8-array"),w("core-js/modules/es.typed-array.uint8-clamped-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(b=w("../core/main"))&&b.__esModule?b:{default:b},h=function(M){if(M&&M.__esModule)return M;if(M===null||p(M)!=="object"&&typeof M!="function")return{default:M};var E=r();if(E&&E.has(M))return E.get(M);var A,C={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in M){var F;Object.prototype.hasOwnProperty.call(M,A)&&((F=I?Object.getOwnPropertyDescriptor(M,A):null)&&(F.get||F.set)?Object.defineProperty(C,A,F):C[A]=M[A])}return C.default=M,E&&E.set(M,C),C}(w("../core/constants")),m=w("./p5.Texture"),f=w("./p5.RendererGL");function r(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,r=T(function(){return M},"r"),M)}T(r,"r");function s(M,E){return function(A){if(Array.isArray(A))return A}(M)||function(A,C){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]"){var I=[],F=!0,R=!1,U=void 0;try{for(var z,P=A[Symbol.iterator]();!(F=(z=P.next()).done)&&(I.push(z.value),!C||I.length!==C);F=!0);}catch(W){R=!0,U=W}finally{try{F||P.return==null||P.return()}finally{if(R)throw U}}return I}}(M,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}T(s,"a");function l(M,E,A){return E in M?Object.defineProperty(M,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):M[E]=A,M}T(l,"s");function i(M,E){if(!(M instanceof E))throw new TypeError("Cannot call a class as a function")}T(i,"n");function n(M,E){for(var A=0;A<E.length;A++){var C=E[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(M,C.key,C)}}T(n,"l");function u(M,E,A){E&&n(M.prototype,E),A&&n(M,A)}T(u,"u");function a(M,E,A){return(a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(R,I,F){var R=function(U,z){for(;!Object.prototype.hasOwnProperty.call(U,z)&&(U=y(U))!==null;);return U}(R,I);if(R)return(R=Object.getOwnPropertyDescriptor(R,I)).get?R.get.call(F):R.value})(M,E,A||M)}T(a,"h");function o(M,E){return(o=Object.setPrototypeOf||function(A,C){return A.__proto__=C,A})(M,E)}T(o,"o");function c(M){return function(){var E,A=y(M),A=(E=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=y(this).constructor,Reflect.construct(A,arguments,E)):A.apply(this,arguments),this);if(!E||p(E)!=="object"&&typeof E!="function"){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return E}}T(c,"d");function y(M){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(M)}T(y,"b");var _=function(M){var E=C;if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(M&&M.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),M&&o(E,M);var A=c(C);function C(I){var F;return i(this,C),(F=A.call(this,I.target._renderer)).fbo=I,F.yScale=-1,F}return T(C,"E"),u(C,[{key:"_computeCameraDefaultSettings",value:function(){a(y(C.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),C}(d.default.Camera),x=(d.default.FramebufferCamera=_,function(){function M(E,A){i(this,M),this.framebuffer=E,this.property=A}return T(M,"C"),u(M,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),M}()),b=(d.default.FramebufferTexture=x,function(){function M(I){var A=this,C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},I=(i(this,M),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=C.format||h.UNSIGNED_BYTE,this.channels=C.channels||(I._renderer._pInst._glAttributes.alpha?h.RGBA:h.RGB),this.useDepth=C.depth===void 0||C.depth,this.depthFormat=C.depthFormat||h.FLOAT,this.textureFiltering=C.textureFiltering||h.LINEAR,C.antialias===void 0?this.antialiasSamples=I._renderer._pInst._glAttributes.antialias?2:0:typeof C.antialias=="number"?this.antialiasSamples=C.antialias:this.antialiasSamples=C.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==h.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),C.width&&C.height?(this.width=C.width,this.height=C.height,this.autoSized=!1):(C.width===void 0!=(C.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this.autoSized=!0),this.density=C.density||I.pixelDensity(),I._renderer.GL);if(this.gl=I,this._checkIfFormatsAvailable(),C.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(C.stencil===void 0||C.stencil),this.framebuffer=I.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=I.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),C=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=C,this.draw(function(){return A.target.clear()})}return T(M,"C"),u(M,[{key:"resize",value:function(E,A){this.autoSized=!1,this.width=E,this.height=A,this._handleResize()}},{key:"pixelDensity",value:function(E){if(!E)return this.density;this.autoSized=!1,this.density=E,this._handleResize()}},{key:"autoSized",value:function(E){if(E===void 0)return this.autoSized;this.autoSized=E,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var E=this.gl,E=(this.useDepth&&this.target.webglVersion===h.WEBGL&&!E.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===h.WEBGL&&this.depthFormat===h.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),[h.UNSIGNED_BYTE,h.FLOAT,h.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&![h.UNSIGNED_INT,h.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=h.FLOAT),(0,m.checkWebGLCapabilities)(this.target._renderer));E.float||this.format!==h.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&!E.float&&this.depthFormat===h.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),E.halfFloat||this.format!==h.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.channels===h.RGB&&[h.FLOAT,h.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=h.RGBA)}},{key:"_recreateTextures",value:function(){var E=this.gl,A=(this._updateSize(),E.getParameter(E.TEXTURE_BINDING_2D)),C=E.getParameter(E.FRAMEBUFFER_BINDING),I=E.createTexture();if(!I)throw new Error("Unable to create color texture");E.bindTexture(E.TEXTURE_2D,I);var F=this._glColorFormat();if(E.texImage2D(E.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,null),this.colorTexture=I,E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,I,0),this.useDepth){var I=E.createTexture();if(!I)throw new Error("Unable to create depth texture");var R=this._glDepthFormat();E.bindTexture(E.TEXTURE_2D,I),E.texImage2D(E.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,null),E.framebufferTexture2D(E.FRAMEBUFFER,this.useStencil?E.DEPTH_STENCIL_ATTACHMENT:E.DEPTH_ATTACHMENT,E.TEXTURE_2D,I,0),this.depthTexture=I}this.antialias&&(this.colorRenderbuffer=E.createRenderbuffer(),E.bindRenderbuffer(E.RENDERBUFFER,this.colorRenderbuffer),E.renderbufferStorageMultisample(E.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,E.getParameter(E.MAX_SAMPLES))),F.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(R=this._glDepthFormat(),this.depthRenderbuffer=E.createRenderbuffer(),E.bindRenderbuffer(E.RENDERBUFFER,this.depthRenderbuffer),E.renderbufferStorageMultisample(E.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,E.getParameter(E.MAX_SAMPLES))),R.internalFormat,this.width*this.density,this.height*this.density)),E.bindFramebuffer(E.FRAMEBUFFER,this.aaFramebuffer),E.framebufferRenderbuffer(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&E.framebufferRenderbuffer(E.FRAMEBUFFER,this.useStencil?E.DEPTH_STENCIL_ATTACHMENT:E.DEPTH_ATTACHMENT,E.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new x(this,"depthTexture"),I=E.NEAREST,this.depthP5Texture=new d.default.Texture(this.target._renderer,this.depth,{minFilter:I,magFilter:I}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new x(this,"colorTexture"),F=this.textureFiltering===h.LINEAR?E.LINEAR:E.NEAREST,this.colorP5Texture=new d.default.Texture(this.target._renderer,this.color,{minFilter:F,magFilter:F}),this.target._renderer.textures.set(this.color,this.colorP5Texture),E.bindTexture(E.TEXTURE_2D,A),E.bindFramebuffer(E.FRAMEBUFFER,C)}},{key:"_glColorFormat",value:function(){var E,A,C=this.gl,I=this.format===h.FLOAT?C.FLOAT:this.format===h.HALF_FLOAT?this.target.webglVersion===h.WEBGL2?C.HALF_FLOAT:C.getExtension("OES_texture_half_float").HALF_FLOAT_OES:C.UNSIGNED_BYTE,F=this.channels===h.RGBA?C.RGBA:C.RGB;return{internalFormat:this.target.webglVersion===h.WEBGL2?(l(A={},C.FLOAT,l({},C.RGBA,C.RGBA32F)),l(A,C.HALF_FLOAT,l({},C.RGBA,C.RGBA16F)),l(A,C.UNSIGNED_BYTE,(l(E={},C.RGBA,C.RGBA8),l(E,C.RGB,C.RGB8),E)),A[I][F]):this.format===h.HALF_FLOAT?C.RGBA:F,format:F,type:I}}},{key:"_glDepthFormat",value:function(){var C=this.gl,E=this.useStencil?this.depthFormat===h.FLOAT?C.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===h.WEBGL2?C.UNSIGNED_INT_24_8:C.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===h.FLOAT?C.FLOAT:C.UNSIGNED_INT,A=this.useStencil?C.DEPTH_STENCIL:C.DEPTH_COMPONENT,C=this.useStencil?this.depthFormat===h.FLOAT?C.DEPTH32F_STENCIL8:this.target.webglVersion===h.WEBGL2?C.DEPTH24_STENCIL8:C.DEPTH_STENCIL:this.target.webglVersion===h.WEBGL2?this.depthFormat===h.FLOAT?C.DEPTH_COMPONENT32F:C.DEPTH_COMPONENT24:C.DEPTH_COMPONENT;return{internalFormat:C,format:A,type:E}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var I=this.color,E=this.depth,A=this.colorRenderbuffer,C=this.depthRenderbuffer,I=(this._deleteTexture(I),E&&this._deleteTexture(E),this.gl);A&&I.deleteRenderbuffer(A),C&&I.deleteRenderbuffer(C),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var E=new _(this);return E._computeCameraDefaultSettings(),E._setDefaultCamera(),this.target._renderer._curCamera=E}},{key:"_deleteTexture",value:function(E){this.gl.deleteTexture(E.rawTexture()),this.target._renderer.textures.delete(E)}},{key:"remove",value:function(){var E=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),E.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&E.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&E.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&E.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var E=this.gl,A=(E.bindFramebuffer(E.READ_FRAMEBUFFER,this.aaFramebuffer),E.bindFramebuffer(E.DRAW_FRAMEBUFFER,this.framebuffer),[[E.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&A.push([E.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var C=0,I=A;C<I.length;C++){var R=s(I[C],2),F=R[0],R=R[1];E.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,F,R)}}}},{key:"end",value:function(){var E=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(E.bindFramebuffer(E.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(E){this.begin(),E(),this.end()}},{key:"loadPixels",value:function(){var E=this.gl,A=this.target._renderer.activeFramebuffer(),C=(E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,f.readPixelsWebGL)(this.pixels,E,this.framebuffer,0,0,this.width*this.density,this.height*this.density,C.format,C.type),A?E.bindFramebuffer(E.FRAMEBUFFER,A._framebufferToBind()):E.bindFramebuffer(E.FRAMEBUFFER,null)}},{key:"get",value:function(E,A,C,I){d.default._validateParameters("p5.Framebuffer.get",arguments);var F=this._glColorFormat();if(E===void 0&&A===void 0)A=E=0,C=this.width,I=this.height;else if(C===void 0&&I===void 0)return(E<0||A<0||E>=this.width||A>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),E=this.target.constrain(E,0,this.width-1),A=this.target.constrain(A,0,this.height-1)),(0,f.readPixelWebGL)(this.gl,this.framebuffer,E*this.density,A*this.density,F.format,F.type);E=this.target.constrain(E,0,this.width-1),A=this.target.constrain(A,0,this.height-1),C=this.target.constrain(C,1,this.width-E),I=this.target.constrain(I,1,this.height-A);for(var R=(0,f.readPixelsWebGL)(void 0,this.gl,this.framebuffer,E*this.density,A*this.density,C*this.density,I*this.density,F.format,F.type),U=new Uint8ClampedArray(C*I*this.density*this.density*4),z=(U.fill(255),F.type===this.gl.RGB?3:4),P=0;P<I*this.density;P++)for(var W=0;W<C*this.density;W++)for(var Q=0;Q<4;Q++){var ae,j=4*(P*C*this.density+W)+Q;Q<z&&(ae=z==4?j:(P*C*this.density+W)*z+Q,U[j]=R[ae])}return E=new d.default.Image(C*this.density,I*this.density),E.imageData=E.canvas.getContext("2d").createImageData(E.width,E.height),E.imageData.data.set(U),E.pixels=E.imageData.data,E.updatePixels(),this.density!==1&&E.resize(C,I),E}},{key:"updatePixels",value:function(){var E=this.gl,A=(this.colorP5Texture.bindTexture(),this._glColorFormat()),C=A.format===E.RGBA?4:3,C=this.width*this.height*this.density*this.density*C,I=A.type===E.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof I)||this.pixels.length!==C)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");E.texImage2D(E.TEXTURE_2D,0,A.internalFormat,this.width*this.density,this.height*this.density,0,A.format,A.type,this.pixels),this.colorP5Texture.unbindTexture(),I=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(E.clearDepth(1),E.clear(E.DEPTH_BUFFER_BIT)),this.end()):(E.bindFramebuffer(E.FRAMEBUFFER,this.framebuffer),this.useDepth&&(E.clearDepth(1),E.clear(E.DEPTH_BUFFER_BIT)),I?E.bindFramebuffer(E.FRAMEBUFFER,I._framebufferToBind()):E.bindFramebuffer(E.FRAMEBUFFER,null))}}]),M}()),w=d.default.Framebuffer=b;k.default=w},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(t,Y,k){"use strict";function v(l){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}T(v,"m");function p(l){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(i){return v(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(l)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var i=m();if(i&&i.has(l))return i.get(l);var n,u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in l){var o;Object.prototype.hasOwnProperty.call(l,n)&&((o=a?Object.getOwnPropertyDescriptor(l,n):null)&&(o.get||o.set)?Object.defineProperty(u,n,o):u[n]=l[n])}return u.default=l,i&&i.set(l,u),u}(t("../core/constants"));function m(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,m=T(function(){return l},"y"),l)}T(m,"y");function f(l){return function(i){if(Array.isArray(i)){for(var n=0,u=new Array(i.length);n<i.length;n++)u[n]=i[n];return u}}(l)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(f,"g");function r(l,i){for(var n=0;n<i.length;n++){var u=i[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}T(r,"r"),d.default.Geometry=function(){function l(a,o,c){if(this instanceof l)return this.vertices=[],this.lineVertices=new d.default.DataArray,this.lineTangentsIn=new d.default.DataArray,this.lineTangentsOut=new d.default.DataArray,this.lineSides=new d.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new d.default.DataArray,this.detailX=a!==void 0?a:1,this.detailY=o!==void 0?o:1,this.dirtyFlags={},c instanceof Function&&c.call(this),this;throw new TypeError("Cannot call a class as a function")}T(l,"s");var i,n,u;return i=l,(n=[{key:"reset",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"computeFaces",value:function(){this.faces.length=0;for(var a,o,c,y=this.detailX+1,_=0;_<this.detailY;_++)for(var x=0;x<this.detailX;x++)o=(_+1)*y+x+1,this.faces.push([_*y+x,a=_*y+x+1,c=(_+1)*y+x]),this.faces.push([c,a,o]);return this}},{key:"_getFaceNormal",value:function(o){var o=this.faces[o],c=this.vertices[o[0]],_=this.vertices[o[1]],o=this.vertices[o[2]],_=d.default.Vector.sub(_,c),o=d.default.Vector.sub(o,c),c=d.default.Vector.cross(_,o),y=d.default.Vector.mag(c),_=y/(d.default.Vector.mag(_)*d.default.Vector.mag(o));return _===0||isNaN(_)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),c):(1<_&&(_=1),c.mult(Math.asin(_)/y))}},{key:"computeNormals",value:function(){var a,o=this,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:h.FLAT,y=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,_=this.vertexNormals,x=this.vertices,b=this.faces;if(c===h.SMOOTH){for(var w={},M=[],E=Math.pow(10,y===void 0?3:y),A=function(U){return Math.round(U*E)/E},C=function(U){return"".concat(A(U.x),",").concat(A(U.y),",").concat(A(U.z))},I=0;I<x.length;I++){var F=x[I],R=C(F);w[R]===void 0&&(w[R]=M.length,M.push(F))}b.forEach(function(U){for(var z=0;z<3;++z){var P=U[z],P=x[P],P=C(P);U[z]=w[P]}}),this.edges.forEach(function(U){for(var z=0;z<2;++z){var P=U[z],P=x[P],P=C(P);U[z]=w[P]}}),this.vertices=x=M}for(a=_.length=0;a<x.length;++a)_.push(new d.default.Vector);for(b.forEach(function(U,z){for(var P=o._getFaceNormal(z),W=0;W<3;++W){var Q=U[W];_[Q].add(P)}}),a=0;a<x.length;++a)_[a].normalize();return this}},{key:"averageNormals",value:function(){for(var a=0;a<=this.detailY;a++){var o=this.detailX+1,c=d.default.Vector.add(this.vertexNormals[a*o],this.vertexNormals[a*o+this.detailX]),c=d.default.Vector.div(c,2);this.vertexNormals[a*o]=c,this.vertexNormals[a*o+this.detailX]=c}return this}},{key:"averagePoleNormals",value:function(){for(var a=new d.default.Vector(0,0,0),o=0;o<this.detailX;o++)a.add(this.vertexNormals[o]);for(var a=d.default.Vector.div(a,this.detailX),c=0;c<this.detailX;c++)this.vertexNormals[c]=a;a=new d.default.Vector(0,0,0);for(var y=this.vertices.length-1;y>this.vertices.length-1-this.detailX;y--)a.add(this.vertexNormals[y]);a=d.default.Vector.div(a,this.detailX);for(var _=this.vertices.length-1;_>this.vertices.length-1-this.detailX;_--)this.vertexNormals[_]=a;return this}},{key:"_makeTriangleEdges",value:function(){for(var a=this.edges.length=0;a<this.faces.length;a++)this.edges.push([this.faces[a][0],this.faces[a][1]]),this.edges.push([this.faces[a][1],this.faces[a][2]]),this.edges.push([this.faces[a][2],this.faces[a][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var a,o=new Map,c=new Set,y=0;y<this.edges.length;y++){var _,x=this.edges[y-1],b=this.edges[y],w=this.vertices[b[0]],M=this.vertices[b[1]],E=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*b[0],4*(b[0]+1)):[0,0,0,0],A=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*b[1],4*(b[1]+1)):[0,0,0,0],C=M.copy().sub(w).normalize(),I=0<C.magSq();I&&this._addSegment(w,M,E,A,C),0<y&&x[1]===b[0]?c.has(b[0])||(c.add(b[0]),o.delete(b[0]),a&&I&&C.dot(a)<1-1e-8&&this._addJoin(w,a,C,E)):(I&&!c.has(b[0])&&((_=o.get(b[0]))?(this._addJoin(w,_.dir,C,E),o.delete(b[0]),c.add(b[0])):o.set(b[0],{point:w,dir:C.copy().mult(-1),color:E})),a&&!c.has(x[1])&&((_=o.get(x[1]))?(this._addJoin(this.vertices[x[1]],a,_.dir.copy().mult(-1),E),o.delete(x[1]),c.add(x[1])):o.set(x[1],{point:this.vertices[x[1]],dir:a,color:E}),a=void 0)),y!==this.edges.length-1||c.has(b[1])||((w=o.get(b[1]))?(this._addJoin(M,C,w.dir.copy().mult(-1),A),o.delete(b[1]),c.add(b[1])):o.set(b[1],{point:M,dir:C,color:A})),I&&(a=C)}var F=!0,R=!1,U=void 0;try{for(var z,P=o.values()[Symbol.iterator]();!(F=(z=P.next()).done);F=!0){var W=z.value,Q=W.point,ae=W.dir,j=W.color;this._addCap(Q,ae,j)}}catch(L){R=!0,U=L}finally{try{F||P.return==null||P.return()}finally{if(R)throw U}}return this}},{key:"_addSegment",value:function(x,b,c,y,_){var x=x.array(),b=b.array(),w=_.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var M=0,E=[this.lineTangentsIn,this.lineTangentsOut];M<E.length;M++)for(var A=E[M],C=0;C<6;C++)A.push.apply(A,f(w));return(_=this.lineVertices).push.apply(_,f(x).concat(f(b),f(x),f(b),f(b),f(x))),(_=this.lineVertexColors).push.apply(_,f(c).concat(f(y),f(c),f(y),f(y),f(c))),this}},{key:"_addCap",value:function(a,o,c){for(var y,_=a.array(),x=o.array(),b=[0,0,0],w=0;w<6;w++)(y=this.lineVertices).push.apply(y,f(_)),(y=this.lineTangentsIn).push.apply(y,f(x)),(y=this.lineTangentsOut).push.apply(y,b),(y=this.lineVertexColors).push.apply(y,f(c));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(a,o,c,y){for(var _,x=a.array(),b=o.array(),w=c.array(),M=0;M<12;M++)(_=this.lineVertices).push.apply(_,f(x)),(_=this.lineTangentsIn).push.apply(_,f(b)),(_=this.lineTangentsOut).push.apply(_,f(w)),(_=this.lineVertexColors).push.apply(_,f(y));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var a=this.vertices[0].copy(),o=this.vertices[0].copy(),c=0;c<this.vertices.length;c++)a.x=Math.max(a.x,this.vertices[c].x),o.x=Math.min(o.x,this.vertices[c].x),a.y=Math.max(a.y,this.vertices[c].y),o.y=Math.min(o.y,this.vertices[c].y),a.z=Math.max(a.z,this.vertices[c].z),o.z=Math.min(o.z,this.vertices[c].z);for(var y=d.default.Vector.lerp(a,o,.5),_=d.default.Vector.sub(a,o),x=200/Math.max(Math.max(_.x,_.y),_.z),b=0;b<this.vertices.length;b++)this.vertices[b].sub(y),this.vertices[b].mult(x)}return this}}])&&r(i.prototype,n),u&&r(i,u),l}();var s=d.default.Geometry;k.default=s},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(m,Y,k){"use strict";m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(m=m("../core/main"))&&m.__esModule?m:{default:m};function p(f,r){for(var s=0;s<r.length;s++){var l=r[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,l.key,l)}}T(p,"p");var d=Array,h=T(function(f){return Array.isArray(f)},"f"),m=(typeof Float32Array<"u"&&(d=Float32Array,h=T(function(f){return Array.isArray(f)||f instanceof Float32Array},"f")),v.default.Matrix=function(){function f(){var i=this,n=f;if(i instanceof n)return arguments.length&&((i=arguments.length-1)<0||arguments.length<=i?void 0:arguments[i])instanceof v.default&&(this.p5=(n=arguments.length-1)<0||arguments.length<=n?void 0:arguments[n]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new d([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new d([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}T(f,"g");var r,s,l;return r=f,l=[{key:"identity",value:function(i){return new v.default.Matrix(i)}}],(s=[{key:"set",value:function(i){return i instanceof v.default.Matrix?this.mat4=i.mat4:h(i)?this.mat4=i:arguments.length===16&&(this.mat4[0]=i,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var i;return this.mat3!==void 0?((i=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],i.mat3[1]=this.mat3[1],i.mat3[2]=this.mat3[2],i.mat3[3]=this.mat3[3],i.mat3[4]=this.mat3[4],i.mat3[5]=this.mat3[5],i.mat3[6]=this.mat3[6],i.mat3[7]=this.mat3[7],i.mat3[8]=this.mat3[8]):((i=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],i.mat4[1]=this.mat4[1],i.mat4[2]=this.mat4[2],i.mat4[3]=this.mat4[3],i.mat4[4]=this.mat4[4],i.mat4[5]=this.mat4[5],i.mat4[6]=this.mat4[6],i.mat4[7]=this.mat4[7],i.mat4[8]=this.mat4[8],i.mat4[9]=this.mat4[9],i.mat4[10]=this.mat4[10],i.mat4[11]=this.mat4[11],i.mat4[12]=this.mat4[12],i.mat4[13]=this.mat4[13],i.mat4[14]=this.mat4[14],i.mat4[15]=this.mat4[15]),i}},{key:"transpose",value:function(i){var n,u,a,o,c,y;return i instanceof v.default.Matrix?(n=i.mat4[1],u=i.mat4[2],a=i.mat4[3],o=i.mat4[6],c=i.mat4[7],y=i.mat4[11],this.mat4[0]=i.mat4[0],this.mat4[1]=i.mat4[4],this.mat4[2]=i.mat4[8],this.mat4[3]=i.mat4[12],this.mat4[4]=n,this.mat4[5]=i.mat4[5],this.mat4[6]=i.mat4[9],this.mat4[7]=i.mat4[13],this.mat4[8]=u,this.mat4[9]=o,this.mat4[10]=i.mat4[10],this.mat4[11]=i.mat4[14],this.mat4[12]=a,this.mat4[13]=c,this.mat4[14]=y,this.mat4[15]=i.mat4[15]):h(i)&&(n=i[1],u=i[2],a=i[3],o=i[6],c=i[7],y=i[11],this.mat4[0]=i[0],this.mat4[1]=i[4],this.mat4[2]=i[8],this.mat4[3]=i[12],this.mat4[4]=n,this.mat4[5]=i[5],this.mat4[6]=i[9],this.mat4[7]=i[13],this.mat4[8]=u,this.mat4[9]=o,this.mat4[10]=i[10],this.mat4[11]=i[14],this.mat4[12]=a,this.mat4[13]=c,this.mat4[14]=y,this.mat4[15]=i[15]),this}},{key:"invert",value:function(R){R instanceof v.default.Matrix?(n=R.mat4[0],u=R.mat4[1],a=R.mat4[2],o=R.mat4[3],c=R.mat4[4],y=R.mat4[5],_=R.mat4[6],x=R.mat4[7],b=R.mat4[8],w=R.mat4[9],M=R.mat4[10],E=R.mat4[11],A=R.mat4[12],C=R.mat4[13],I=R.mat4[14],F=R.mat4[15]):h(R)&&(n=R[0],u=R[1],a=R[2],o=R[3],c=R[4],y=R[5],_=R[6],x=R[7],b=R[8],w=R[9],M=R[10],E=R[11],A=R[12],C=R[13],I=R[14],F=R[15]);var n,u,a,o,c,y,_,x,b,w,M,E,A,C,I,F,R=n*y-u*c,U=n*_-a*c,z=n*x-o*c,P=u*_-a*y,W=u*x-o*y,Q=a*x-o*_,ae=b*C-w*A,j=b*I-M*A,L=b*F-E*A,G=w*I-M*C,N=w*F-E*C,Z=M*F-E*I,oe=R*Z-U*N+z*G+P*L-W*j+Q*ae;return oe?(this.mat4[0]=(y*Z-_*N+x*G)*(oe=1/oe),this.mat4[1]=(a*N-u*Z-o*G)*oe,this.mat4[2]=(C*Q-I*W+F*P)*oe,this.mat4[3]=(M*W-w*Q-E*P)*oe,this.mat4[4]=(_*L-c*Z-x*j)*oe,this.mat4[5]=(n*Z-a*L+o*j)*oe,this.mat4[6]=(I*z-A*Q-F*U)*oe,this.mat4[7]=(b*Q-M*z+E*U)*oe,this.mat4[8]=(c*N-y*L+x*ae)*oe,this.mat4[9]=(u*L-n*N-o*ae)*oe,this.mat4[10]=(A*W-C*z+F*R)*oe,this.mat4[11]=(w*z-b*W-E*R)*oe,this.mat4[12]=(y*j-c*G-_*ae)*oe,this.mat4[13]=(n*G-u*j+a*ae)*oe,this.mat4[14]=(C*U-A*P-I*R)*oe,this.mat4[15]=(b*P-w*U+M*R)*oe,this):null}},{key:"invert3x3",value:function(){var i=this.mat3[0],n=this.mat3[1],u=this.mat3[2],a=this.mat3[3],o=this.mat3[4],c=this.mat3[5],y=this.mat3[6],_=this.mat3[7],x=this.mat3[8],b=x*o-c*_,w=-x*a+c*y,M=_*a-o*y,E=i*b+n*w+u*M;return E?(this.mat3[0]=b*(E=1/E),this.mat3[1]=(-x*n+u*_)*E,this.mat3[2]=(c*n-u*o)*E,this.mat3[3]=w*E,this.mat3[4]=(x*i-u*y)*E,this.mat3[5]=(-c*i+u*a)*E,this.mat3[6]=M*E,this.mat3[7]=(-_*i+n*y)*E,this.mat3[8]=(o*i-n*a)*E,this):null}},{key:"transpose3x3",value:function(i){var n=(i=i===void 0?this.mat3:i)[1],u=i[2],a=i[5];return this.mat3[0]=i[0],this.mat3[1]=i[3],this.mat3[2]=i[6],this.mat3[3]=n,this.mat3[4]=i[4],this.mat3[5]=i[7],this.mat3[6]=u,this.mat3[7]=a,this.mat3[8]=i[8],this}},{key:"inverseTranspose",value:function(i){if(i=i.mat4,this.mat3===void 0?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=i[0],this.mat3[1]=i[1],this.mat3[2]=i[2],this.mat3[3]=i[4],this.mat3[4]=i[5],this.mat3[5]=i[6],this.mat3[6]=i[8],this.mat3[7]=i[9],this.mat3[8]=i[10]),i=this.invert3x3(),i)i.transpose3x3(this.mat3);else for(var n=0;n<9;n++)this.mat3[n]=0;return this}},{key:"determinant",value:function(){var i=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],n=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],u=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],a=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],o=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],c=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],y=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],_=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],b=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],w=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return i*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-n*w+u*b+a*x-o*_+c*y}},{key:"mult",value:function(u){var n;if(u===this||u===this.mat4)n=this.copy().mat4;else if(u instanceof v.default.Matrix)n=u.mat4;else if(h(u))n=u;else{if(arguments.length!==16)return;n=arguments}var u=this.mat4[0],a=this.mat4[1],o=this.mat4[2],c=this.mat4[3];return this.mat4[0]=u*n[0]+a*n[4]+o*n[8]+c*n[12],this.mat4[1]=u*n[1]+a*n[5]+o*n[9]+c*n[13],this.mat4[2]=u*n[2]+a*n[6]+o*n[10]+c*n[14],this.mat4[3]=u*n[3]+a*n[7]+o*n[11]+c*n[15],u=this.mat4[4],a=this.mat4[5],o=this.mat4[6],c=this.mat4[7],this.mat4[4]=u*n[0]+a*n[4]+o*n[8]+c*n[12],this.mat4[5]=u*n[1]+a*n[5]+o*n[9]+c*n[13],this.mat4[6]=u*n[2]+a*n[6]+o*n[10]+c*n[14],this.mat4[7]=u*n[3]+a*n[7]+o*n[11]+c*n[15],u=this.mat4[8],a=this.mat4[9],o=this.mat4[10],c=this.mat4[11],this.mat4[8]=u*n[0]+a*n[4]+o*n[8]+c*n[12],this.mat4[9]=u*n[1]+a*n[5]+o*n[9]+c*n[13],this.mat4[10]=u*n[2]+a*n[6]+o*n[10]+c*n[14],this.mat4[11]=u*n[3]+a*n[7]+o*n[11]+c*n[15],u=this.mat4[12],a=this.mat4[13],o=this.mat4[14],c=this.mat4[15],this.mat4[12]=u*n[0]+a*n[4]+o*n[8]+c*n[12],this.mat4[13]=u*n[1]+a*n[5]+o*n[9]+c*n[13],this.mat4[14]=u*n[2]+a*n[6]+o*n[10]+c*n[14],this.mat4[15]=u*n[3]+a*n[7]+o*n[11]+c*n[15],this}},{key:"apply",value:function(u){var n;if(u===this||u===this.mat4)n=this.copy().mat4;else if(u instanceof v.default.Matrix)n=u.mat4;else if(h(u))n=u;else{if(arguments.length!==16)return;n=arguments}var u=this.mat4,a=u[0],o=u[4],c=u[8],y=u[12],a=(u[0]=n[0]*a+n[1]*o+n[2]*c+n[3]*y,u[4]=n[4]*a+n[5]*o+n[6]*c+n[7]*y,u[8]=n[8]*a+n[9]*o+n[10]*c+n[11]*y,u[12]=n[12]*a+n[13]*o+n[14]*c+n[15]*y,u[1]),o=u[5],c=u[9],y=u[13],a=(u[1]=n[0]*a+n[1]*o+n[2]*c+n[3]*y,u[5]=n[4]*a+n[5]*o+n[6]*c+n[7]*y,u[9]=n[8]*a+n[9]*o+n[10]*c+n[11]*y,u[13]=n[12]*a+n[13]*o+n[14]*c+n[15]*y,u[2]),o=u[6],c=u[10],y=u[14],a=(u[2]=n[0]*a+n[1]*o+n[2]*c+n[3]*y,u[6]=n[4]*a+n[5]*o+n[6]*c+n[7]*y,u[10]=n[8]*a+n[9]*o+n[10]*c+n[11]*y,u[14]=n[12]*a+n[13]*o+n[14]*c+n[15]*y,u[3]),o=u[7],c=u[11],y=u[15];return u[3]=n[0]*a+n[1]*o+n[2]*c+n[3]*y,u[7]=n[4]*a+n[5]*o+n[6]*c+n[7]*y,u[11]=n[8]*a+n[9]*o+n[10]*c+n[11]*y,u[15]=n[12]*a+n[13]*o+n[14]*c+n[15]*y,this}},{key:"scale",value:function(i,n,u){return i instanceof v.default.Vector?(n=i.y,u=i.z,i=i.x):i instanceof Array&&(n=i[1],u=i[2],i=i[0]),this.mat4[0]*=i,this.mat4[1]*=i,this.mat4[2]*=i,this.mat4[3]*=i,this.mat4[4]*=n,this.mat4[5]*=n,this.mat4[6]*=n,this.mat4[7]*=n,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this}},{key:"rotate",value:function(R,N,G,a){N instanceof v.default.Vector?(G=N.y,a=N.z,N=N.x):N instanceof Array&&(G=N[1],a=N[2],N=N[0]);var o=Math.sqrt(N*N+G*G+a*a),o=(N*=1/o,G*=1/o,a*=1/o,this.mat4[0]),c=this.mat4[1],y=this.mat4[2],_=this.mat4[3],x=this.mat4[4],b=this.mat4[5],w=this.mat4[6],M=this.mat4[7],E=this.mat4[8],A=this.mat4[9],C=this.mat4[10],I=this.mat4[11],F=Math.sin(R),R=Math.cos(R),U=1-R,z=N*N*U+R,P=G*N*U+a*F,W=a*N*U-G*F,Q=N*G*U-a*F,ae=G*G*U+R,j=a*G*U+N*F,L=N*a*U+G*F,G=G*a*U-N*F,N=a*a*U+R;return this.mat4[0]=o*z+x*P+E*W,this.mat4[1]=c*z+b*P+A*W,this.mat4[2]=y*z+w*P+C*W,this.mat4[3]=_*z+M*P+I*W,this.mat4[4]=o*Q+x*ae+E*j,this.mat4[5]=c*Q+b*ae+A*j,this.mat4[6]=y*Q+w*ae+C*j,this.mat4[7]=_*Q+M*ae+I*j,this.mat4[8]=o*L+x*G+E*N,this.mat4[9]=c*L+b*G+A*N,this.mat4[10]=y*L+w*G+C*N,this.mat4[11]=_*L+M*G+I*N,this}},{key:"translate",value:function(a){var n=a[0],u=a[1],a=a[2]||0;this.mat4[12]+=this.mat4[0]*n+this.mat4[4]*u+this.mat4[8]*a,this.mat4[13]+=this.mat4[1]*n+this.mat4[5]*u+this.mat4[9]*a,this.mat4[14]+=this.mat4[2]*n+this.mat4[6]*u+this.mat4[10]*a,this.mat4[15]+=this.mat4[3]*n+this.mat4[7]*u+this.mat4[11]*a}},{key:"rotateX",value:function(i){this.rotate(i,1,0,0)}},{key:"rotateY",value:function(i){this.rotate(i,0,1,0)}},{key:"rotateZ",value:function(i){this.rotate(i,0,0,1)}},{key:"perspective",value:function(o,n,u,a){var o=1/Math.tan(o/2),c=1/(u-a);return this.mat4[0]=o/n,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=o,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(a+u)*c,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*a*u*c,this.mat4[15]=0,this}},{key:"ortho",value:function(i,n,u,a,o,c){var y=1/(i-n),_=1/(u-a),x=1/(o-c);return this.mat4[0]=-2*y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*_,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(i+n)*y,this.mat4[13]=(a+u)*_,this.mat4[14]=(c+o)*x,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(i,n,u,a){var o=new Array(4),c=this.mat4;return o[0]=c[0]*i+c[4]*n+c[8]*u+c[12]*a,o[1]=c[1]*i+c[5]*n+c[9]*u+c[13]*a,o[2]=c[2]*i+c[6]*n+c[10]*u+c[14]*a,o[3]=c[3]*i+c[7]*n+c[11]*u+c[15]*a,o}},{key:"multiplyPoint",value:function(u){var a=u.x,n=u.y,u=u.z,a=this.multiplyVec4(a,n,u,1);return new v.default.Vector(a[0],a[1],a[2])}},{key:"multiplyAndNormalizePoint",value:function(u){var a=u.x,n=u.y,u=u.z,a=this.multiplyVec4(a,n,u,1);return a[0]/=a[3],a[1]/=a[3],a[2]/=a[3],new v.default.Vector(a[0],a[1],a[2])}},{key:"multiplyDirection",value:function(u){var a=u.x,n=u.y,u=u.z,a=this.multiplyVec4(a,n,u,0);return new v.default.Vector(a[0],a[1],a[2])}},{key:"mult3x3",value:function(u){var n;if(u===this||u===this.mat3)n=this.copy().mat3;else if(u instanceof v.default.Matrix)n=u.mat3;else if(h(u))n=u;else{if(arguments.length!==9)return;n=arguments}var u=this.mat3[0],a=this.mat3[1],o=this.mat3[2];return this.mat3[0]=u*n[0]+a*n[3]+o*n[6],this.mat3[1]=u*n[1]+a*n[4]+o*n[7],this.mat3[2]=u*n[2]+a*n[5]+o*n[8],u=this.mat3[3],a=this.mat3[4],o=this.mat3[5],this.mat3[3]=u*n[0]+a*n[3]+o*n[6],this.mat3[4]=u*n[1]+a*n[4]+o*n[7],this.mat3[5]=u*n[2]+a*n[5]+o*n[8],u=this.mat3[6],a=this.mat3[7],o=this.mat3[8],this.mat3[6]=u*n[0]+a*n[3]+o*n[6],this.mat3[7]=u*n[1]+a*n[4]+o*n[7],this.mat3[8]=u*n[2]+a*n[5]+o*n[8],this}},{key:"column",value:function(i){return new v.default.Vector(this.mat3[3*i],this.mat3[3*i+1],this.mat3[3*i+2])}},{key:"row",value:function(i){return new v.default.Vector(this.mat3[i],this.mat3[i+3],this.mat3[i+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(i,n){return(n=n===void 0?i.copy():n).x=this.row(0).dot(i),n.y=this.row(1).dot(i),n.z=this.row(2).dot(i),n}},{key:"createSubMatrix3x3",value:function(){var i=new v.default.Matrix("mat3");return i.mat3[0]=this.mat4[0],i.mat3[1]=this.mat4[1],i.mat3[2]=this.mat4[2],i.mat3[3]=this.mat4[4],i.mat3[4]=this.mat4[5],i.mat3[5]=this.mat4[6],i.mat3[6]=this.mat4[8],i.mat3[7]=this.mat4[9],i.mat3[8]=this.mat4[10],i}}])&&p(r.prototype,s),l&&p(r,l),f}(),v.default.Matrix);k.default=m},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(t,Y,k){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function v(p,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}T(v,"m"),t.default.RenderBuffer=function(){function p(f,r,s,l,i,n){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.size=f,this.src=r,this.dst=s,this.attr=l,this._renderer=i,this.map=n}T(p,"p");var d,h,m;return d=p,(h=[{key:"_prepareBuffer",value:function(f,r){var s,l,i,a=r.attributes,n=this._renderer.GL,u=f.model||f,a=a[this.attr];a&&(s=f[this.dst],0<(l=u[this.src]).length?((i=!s)&&(f[this.dst]=s=n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,s),!i&&u.dirtyFlags[this.src]===!1||(i=(f=this.map)?f(l):l,this._renderer._bindBuffer(s,n.ARRAY_BUFFER,i),u.dirtyFlags[this.src]=!1),r.enableAttrib(a,this.size)):(f=a.location)!==-1&&this._renderer.registerEnabled.has(f)&&(n.disableVertexAttribArray(f),this._renderer.registerEnabled.delete(f)))}}])&&v(d.prototype,h),m&&v(d,m),p}(),t=t.default.RenderBuffer,k.default=t},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(t,Y,k){"use strict";function v(l){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}T(v,"m");function p(l){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(i){return v(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(l)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var i=m();if(i&&i.has(l))return i.get(l);var n,u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in l){var o;Object.prototype.hasOwnProperty.call(l,n)&&((o=a?Object.getOwnPropertyDescriptor(l,n):null)&&(o.get||o.set)?Object.defineProperty(u,n,o):u[n]=l[n])}return u.default=l,i&&i.set(l,u),u}(t("../core/constants"));function m(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,m=T(function(){return l},"y"),l)}T(m,"y");function f(l){return function(i){if(Array.isArray(i)){for(var n=0,u=new Array(i.length);n<i.length;n++)u[n]=i[n];return u}}(l)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(f,"g"),t("./p5.RenderBuffer"),d.default.RendererGL.prototype.beginShape=function(l){return this.immediateMode.shapeMode=l!==void 0?l:h.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var r={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},s=(d.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==h.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},d.default.RendererGL.prototype.vertex=function(l,i){if(this.immediateMode.shapeMode===h.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var n in r){var u=r[n],n=this.immediateMode.geometry[n];n.push.apply(n,f(n.slice(n.length-3*u,n.length-2*u)).concat(f(n.slice(n.length-u,n.length))))}var a,o,c=a=o=0,y=(arguments.length===3?c=arguments[2]:arguments.length===4?(a=arguments[2],o=arguments[3]):arguments.length===5&&(c=arguments[2],a=arguments[3],o=arguments[4]),new d.default.Vector(l,i,c)),y=(this.immediateMode.geometry.vertices.push(y),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),y=(this.immediateMode.geometry.vertexColors.push(y[0],y[1],y[2],y[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(y[0],y[1],y[2],y[3]),this.textureMode!==h.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(a/=this._tex.width,o/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(a,o),this.immediateMode._bezierVertex[0]=l,this.immediateMode._bezierVertex[1]=i,this.immediateMode._bezierVertex[2]=c,this.immediateMode._quadraticVertex[0]=l,this.immediateMode._quadraticVertex[1]=i,this.immediateMode._quadraticVertex[2]=c,this},d.default.RendererGL.prototype.normal=function(l,i,n){return l instanceof d.default.Vector?this._currentNormal=l:this._currentNormal=new d.default.Vector(l,i,n),this},d.default.RendererGL.prototype.endShape=function(l,i,n,u,a,o){var c=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===h.TESS&&(this.immediateMode.shapeMode,h.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN),this.immediateMode.shapeMode===h.QUADS?this.immediateMode.shapeMode=h.TRIANGLES:this.immediateMode.shapeMode===h.QUAD_STRIP&&(this.immediateMode.shapeMode=h.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(c),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},d.default.RendererGL.prototype._processVertices=function(l){var i;this.immediateMode.geometry.vertices.length!==0&&(i=this._doStroke,l=l===h.CLOSE,i&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,l),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),i=this.immediateMode.shapeMode===h.TESS,l=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||i||l)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape())},d.default.RendererGL.prototype._calculateEdges=function(l,i,n){var u=[],a=0,o=this.immediateMode.contourIndices.slice(),c=0;switch(l){case h.TRIANGLE_STRIP:for(a=0;a<i.length-2;a++)u.push([a,a+1]),u.push([a,a+2]);u.push([a,a+1]);break;case h.TRIANGLE_FAN:for(a=1;a<i.length-1;a++)u.push([0,a]),u.push([a,a+1]);u.push([0,i.length-1]);break;case h.TRIANGLES:for(a=0;a<i.length-2;a+=3)u.push([a,a+1]),u.push([a+1,a+2]),u.push([a+2,a]);break;case h.LINES:for(a=0;a<i.length-1;a+=2)u.push([a,a+1]);break;case h.QUADS:for(a=0;a<i.length-5;a+=6)u.push([a,a+1]),u.push([a+1,a+2]),u.push([a+3,a+5]),u.push([a+4,a+5]);break;case h.QUAD_STRIP:for(a=0;a<i.length-2;a+=2)u.push([a,a+1]),u.push([a,a+2]),u.push([a+1,a+3]);u.push([a,a+1]);break;default:for(a=0;a<i.length;a++)a+1<i.length&&a+1!==o[0]?u.push([a,a+1]):((n||c)&&u.push([a,c]),0<o.length&&(c=o.shift()))}return l!==h.TESS&&n&&u.push([i.length-1,0]),u},d.default.RendererGL.prototype._tesselateShape=function(){for(var l=this,i=(this.immediateMode.shapeMode=h.TRIANGLES,[[]]),n=0;n<this.immediateMode.geometry.vertices.length;n++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===n&&(this.immediateMode.contourIndices.shift(),i.push([])),i[i.length-1].push(this.immediateMode.geometry.vertices[n].x,this.immediateMode.geometry.vertices[n].y,this.immediateMode.geometry.vertices[n].z,this.immediateMode.geometry.uvs[2*n],this.immediateMode.geometry.uvs[2*n+1],this.immediateMode.geometry.vertexColors[4*n],this.immediateMode.geometry.vertexColors[4*n+1],this.immediateMode.geometry.vertexColors[4*n+2],this.immediateMode.geometry.vertexColors[4*n+3],this.immediateMode.geometry.vertexNormals[n].x,this.immediateMode.geometry.vertexNormals[n].y,this.immediateMode.geometry.vertexNormals[n].z);for(var u,a=this._triangulate(i),o=this.immediateMode.geometry.vertices,c=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),y=0,_=a.length;y<_;y+=d.default.RendererGL.prototype.tessyVertexSize)c.push.apply(c,f(a.slice(y+5,y+9))),this.normal.apply(this,f(a.slice(y+9,y+12))),this.vertex.apply(this,f(a.slice(y,y+5)));this.geometryBuilder&&(u=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(x){return x.map(function(b){if(!u.has(b)){var w=o[b],M=l.immediateMode.geometry.vertices.findIndex(function(U){return w.x===U.x&&w.y===U.y&&w.z===U.z});if(M===-1){for(var E=1/0,A=0,C=0;C<l.immediateMode.geometry.vertices.length;C++){var F=l.immediateMode.geometry.vertices[C],R=w.x-F.x,I=w.y-F.y,F=w.z-F.z,R=R*R+I*I+F*F;R<E&&(E=R,A=C)}M=A}u.set(b,M)}return u.get(b)})})),this.immediateMode.geometry.vertexColors=c},d.default.RendererGL.prototype._drawImmediateFill=function(){var l,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,n=this.GL,u=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,l=this._getImmediateFillShader(),this._setFillUniforms(l),!0),a=!1,o=void 0;try{for(var c,y=this.immediateMode.buffers.fill[Symbol.iterator]();!(u=(c=y.next()).done);u=!0)c.value._prepareBuffer(this.immediateMode.geometry,l)}catch(_){a=!0,o=_}finally{try{u||y.return==null||y.return()}finally{if(a)throw o}}if(l.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor),i===1)n.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{n.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,i)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}l.unbindShader()},d.default.RendererGL.prototype._drawImmediateStroke=function(){var l=this.GL,i=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),n=(this._setStrokeUniforms(i),!0),u=!1,a=void 0;try{for(var o,c=this.immediateMode.buffers.stroke[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)o.value._prepareBuffer(this.immediateMode.geometry,i)}catch(y){u=!0,a=y}finally{try{n||c.return==null||c.return()}finally{if(u)throw a}}i.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),l.drawArrays(l.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),i.unbindShader()},d.default.RendererGL);k.default=s},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(t,Y,k){"use strict";function v(r){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}T(v,"m");function p(r){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(s){return v(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(r)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var d=(f=t("../core/main"))&&f.__esModule?f:{default:f},h=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var l,i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in r){var u;Object.prototype.hasOwnProperty.call(r,l)&&((u=n?Object.getOwnPropertyDescriptor(r,l):null)&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=r[l])}return i.default=r,s&&s.set(r,i),i}(t("../core/constants")));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=T(function(){return r},"y"),r)}T(m,"y"),d.default.RendererGL.prototype.freeGeometry=function(r){r.gid?this._freeBuffers(r.gid):console.warn("The model you passed to freeGeometry does not have an id!")},d.default.RendererGL.prototype._initBufferDefaults=function(r){var s;return this._freeBuffers(r),1e3<Object.keys(this.retainedMode.geometry).length&&(s=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(s)),this.retainedMode.geometry[r]={}},d.default.RendererGL.prototype._freeBuffers=function(r){var s,l=this.retainedMode.geometry[r];function i(n){var u=!0,a=!1,o=void 0;try{for(var c,y=n[Symbol.iterator]();!(u=(c=y.next()).done);u=!0){var _=c.value;l[_.dst]&&(s.deleteBuffer(l[_.dst]),l[_.dst]=null)}}catch(x){a=!0,o=x}finally{try{u||y.return==null||y.return()}finally{if(a)throw o}}}T(i,"n"),l&&(delete this.retainedMode.geometry[r],s=this.GL,l.indexBuffer&&s.deleteBuffer(l.indexBuffer),i(this.retainedMode.buffers.stroke),i(this.retainedMode.buffers.fill))},d.default.RendererGL.prototype.createBuffers=function(a,s){var l,i,n,u=this.GL,a=this._initBufferDefaults(a),o=(a.model=s,a.indexBuffer);return s.faces.length?(o=o||(a.indexBuffer=u.createBuffer()),n=(i=(l=d.default.RendererGL.prototype._flatten(s.faces)).some(function(c){return 65535<c}))?Uint32Array:Uint16Array,this._bindBuffer(o,u.ELEMENT_ARRAY_BUFFER,l,n),a.indexBufferType=i?u.UNSIGNED_INT:u.UNSIGNED_SHORT,a.vertexCount=3*s.faces.length):(o&&(u.deleteBuffer(o),a.indexBuffer=null),a.vertexCount=s.vertices?s.vertices.length:0),a.lineVertexCount=s.lineVertices?s.lineVertices.length/3:0,a},d.default.RendererGL.prototype.drawBuffers=function(r){var s=this.GL,l=this.retainedMode.geometry[r];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[r].vertexCount){this._useVertexColor=0<l.model.vertexColors.length;var i=this._getRetainedFillShader(),n=(this._setFillUniforms(i),!0),u=!1,a=void 0;try{for(var o,c=this.retainedMode.buffers.fill[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)o.value._prepareBuffer(l,i)}catch(w){u=!0,a=w}finally{try{n||c.return==null||c.return()}finally{if(u)throw a}}i.disableRemainingAttributes(),l.indexBuffer&&this._bindBuffer(l.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(s.TRIANGLES,r),i.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<l.lineVertexCount){this._useLineColor=0<l.model.vertexStrokeColors.length;var y=this._getRetainedStrokeShader(),_=(this._setStrokeUniforms(y),!0),u=!1,a=void 0;try{for(var x,b=this.retainedMode.buffers.stroke[Symbol.iterator]();!(_=(x=b.next()).done);_=!0)x.value._prepareBuffer(l,y)}catch(E){u=!0,a=E}finally{try{_||b.return==null||b.return()}finally{if(u)throw a}}y.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),this._drawArrays(s.TRIANGLES,r),y.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(l),this},d.default.RendererGL.prototype.drawBuffersScaled=function(r,s,l,i){var n=this.uMVMatrix.copy();try{this.uMVMatrix.scale(s,l,i),this.drawBuffers(r)}finally{this.uMVMatrix=n}},d.default.RendererGL.prototype._drawArrays=function(r,s){return this.GL.drawArrays(r,0,this.retainedMode.geometry[s].lineVertexCount),this},d.default.RendererGL.prototype._drawElements=function(r,l){var l=this.retainedMode.geometry[l],i=this.GL;if(l.indexBuffer){if(this._pInst.webglVersion!==h.WEBGL2&&l.indexBufferType===i.UNSIGNED_INT&&!i.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");i.drawElements(i.TRIANGLES,l.vertexCount,l.indexBufferType,0)}else i.drawArrays(r||i.TRIANGLES,0,l.vertexCount)},d.default.RendererGL.prototype._drawPoints=function(r,s){var l=this.GL,i=this._getImmediatePointShader();this._setPointUniforms(i),this._bindBuffer(s,l.ARRAY_BUFFER,this._vToNArray(r),Float32Array,l.STATIC_DRAW),i.enableAttrib(i.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),l.drawArrays(l.Points,0,r.length),i.unbindShader()};var f=d.default.RendererGL;k.default=f},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(C,Y,k){"use strict";function v(z){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(z)}T(v,"m");function p(z){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(P){return v(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":v(P)})(z)}T(p,"p"),C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.concat"),C("core-js/modules/es.array.copy-within"),C("core-js/modules/es.array.every"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.from"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.array.slice"),C("core-js/modules/es.array.some"),C("core-js/modules/es.map"),C("core-js/modules/es.object.assign"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.set"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.float64-array"),C("core-js/modules/es.typed-array.int16-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint16-array"),C("core-js/modules/es.typed-array.uint32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.concat"),C("core-js/modules/es.array.copy-within"),C("core-js/modules/es.array.every"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.from"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.array.slice"),C("core-js/modules/es.array.some"),C("core-js/modules/es.map"),C("core-js/modules/es.object.assign"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.set"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.float64-array"),C("core-js/modules/es.typed-array.int16-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint16-array"),C("core-js/modules/es.typed-array.uint32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.readPixelsWebGL=R,k.readPixelWebGL=U,k.default=void 0;var d=l(C("../core/main")),h=function(z){if(z&&z.__esModule)return z;if(z===null||p(z)!=="object"&&typeof z!="function")return{default:z};var P=s();if(P&&P.has(z))return P.get(z);var W,Q={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(W in z){var j;Object.prototype.hasOwnProperty.call(z,W)&&((j=ae?Object.getOwnPropertyDescriptor(z,W):null)&&(j.get||j.set)?Object.defineProperty(Q,W,j):Q[W]=z[W])}return Q.default=z,P&&P.set(z,Q),Q}(C("../core/constants")),m=l(C("./GeometryBuilder")),f=l(C("libtess")),r=(C("./p5.Shader"),C("./p5.Camera"),C("../core/p5.Renderer"),C("./p5.Matrix"),C("./p5.Framebuffer"),C("path"),C("./p5.Texture"));function s(){var z;return typeof WeakMap!="function"?null:(z=new WeakMap,s=T(function(){return z},"a"),z)}T(s,"a");function l(z){return z&&z.__esModule?z:{default:z}}T(l,"s");function i(z){return function(P){if(Array.isArray(P)){for(var W=0,Q=new Array(P.length);W<P.length;W++)Q[W]=P[W];return Q}}(z)||function(P){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]")return Array.from(P)}(z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}T(i,"n");function n(z,P){for(var W=0;W<P.length;W++){var Q=P[W];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(z,Q.key,Q)}}T(n,"l");function u(z,P,W){return(u=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(L,ae,j){var L=function(G,N){for(;!Object.prototype.hasOwnProperty.call(G,N)&&(G=y(G))!==null;);return G}(L,ae);if(L)return(L=Object.getOwnPropertyDescriptor(L,ae)).get?L.get.call(j):L.value})(z,P,W||z)}T(u,"u");function a(z,P){return(a=Object.setPrototypeOf||function(W,Q){return W.__proto__=Q,W})(z,P)}T(a,"h");function o(z){return function(){var P,W,Q=y(z);return P=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(P=y(this).constructor,Reflect.construct(Q,arguments,P)):Q.apply(this,arguments),Q=this,!(W=P)||p(W)!=="object"&&typeof W!="function"?c(Q):W}}T(o,"o");function c(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}T(c,"d");function y(z){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(z)}T(y,"b");function _(z,P,W){P in z?Object.defineProperty(z,P,{value:W,enumerable:!0,configurable:!0,writable:!0}):z[P]=W}T(_,"M");function x(z,P){A+="#define STROKE_CAP_".concat(z," ").concat(P,`
`),M[h[z]]=P}T(x,"T");function b(z,P){A+="#define STROKE_JOIN_".concat(z," ").concat(P,`
`),E[h[z]]=P}T(b,"x");var w,M={},E={},A="",C=(x("ROUND",0),x("PROJECT",1),x("SQUARE",2),b("ROUND",0),b("MITER",1),b("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return smoothstep(vec3(0.0), vec3(0.8), texture.xyz);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal);
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return pow(outColor.xyz, vec3(10.0));
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),I={immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:C+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:C+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:A+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:A+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.025;
	float nrSamples = 0.0;
  
	for(float phi = 0.0; phi < 2.0 * PI; phi += sampleDelta)
	{
    for(float theta = 0.0; theta < ( 0.5 ) * PI; theta += sampleDelta)
    {
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 1024; // 4096\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
	if (n > 0)\r
	{\r
  	denom = mod(float(n), 2.0);\r
  	result += denom * invBase;\r
  	invBase = invBase / 2.0;\r
  	n = int(float(n) / 2.0);\r
	}\r
  }\r
\r
  return result;\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`};for(w in I)I[w]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+I[w];_(C={},h.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),_(C,h.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),_(C,h.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),_(C,h.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),_(C,h.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),_(C,h.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),_(C,h.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),_(C,h.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var F=C;function R(z,P,ie,Q,ae,j,L,G,N,Z){var oe=P.getParameter(P.FRAMEBUFFER_BINDING),ie=(P.bindFramebuffer(P.FRAMEBUFFER,ie),G===P.RGBA?4:3),ce=j*L*ie,ue=N===P.UNSIGNED_BYTE?Uint8Array:Float32Array;if(z instanceof ue&&z.length===ce||(z=new ue(ce)),P.readPixels(Q,Z?Z-ae-L:ae,j,L,G,N,z),P.bindFramebuffer(P.FRAMEBUFFER,oe),Z)for(var be=Math.floor(L/2),ye=new ue(j*ie),se=0;se<be;se++){var xe=se*j*4,Se=(L-se-1)*j*4;ye.set(z.subarray(xe,xe+4*j)),z.copyWithin(xe,Se,Se+4*j),z.set(ye,Se)}return z}T(R,"L");function U(z,N,W,Q,ae,j,L){var G=z.getParameter(z.FRAMEBUFFER_BINDING),N=(z.bindFramebuffer(z.FRAMEBUFFER,N),ae===z.RGBA?4:3),N=new(j===z.UNSIGNED_BYTE?Uint8Array:Float32Array)(N);return z.readPixels(W,L?L-Q-1:Q,1,1,ae,j,N),z.bindFramebuffer(z.FRAMEBUFFER,G),Array.from(N)}T(U,"z"),d.default.prototype.setAttributes=function(z,P){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var W=!0;if(P!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[z]!==P&&(this._glAttributes[z]=P,W=!1)):z instanceof Object&&this._glAttributes!==z&&(this._glAttributes=z,W=!1),this._renderer.isP3D&&!W){if(!this._setupDone){for(var Q in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Q))return void d.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},d.default.RendererGL=function(z){var P=ae;if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(z&&z.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),z&&a(P,z);var W,Q=o(ae);function ae(j,L,G,N){if(this instanceof ae)return(j=Q.call(this,j,L,G))._setAttributeDefaults(L),j._initContext(),j.isP3D=!0,j.geometryBuilder=void 0,j.GL=j.drawingContext,j._pInst._setProperty("drawingContext",j.drawingContext),j._isErasing=!1,j._clipDepths=[],j._isClipApplied=!1,j._stencilTestOn=!1,j._enableLighting=!1,j.ambientLightColors=[],j.specularColors=[1,1,1],j.directionalLightDirections=[],j.directionalLightDiffuseColors=[],j.directionalLightSpecularColors=[],j.pointLightPositions=[],j.pointLightDiffuseColors=[],j.pointLightSpecularColors=[],j.spotLightPositions=[],j.spotLightDirections=[],j.spotLightDiffuseColors=[],j.spotLightSpecularColors=[],j.spotLightAngle=[],j.spotLightConc=[],j.activeImageLight=null,j.diffusedTextures=new Map,j.specularTextures=new Map,j.drawMode=h.FILL,j.curFillColor=j._cachedFillStyle=[1,1,1,1],j.curAmbientColor=j._cachedFillStyle=[1,1,1,1],j.curSpecularColor=j._cachedFillStyle=[0,0,0,0],j.curEmissiveColor=j._cachedFillStyle=[0,0,0,0],j.curStrokeColor=j._cachedStrokeStyle=[0,0,0,1],j.curBlendMode=h.BLEND,j._cachedBlendMode=void 0,j.webglVersion===h.WEBGL2?j.blendExt=j.GL:j.blendExt=j.GL.getExtension("EXT_blend_minmax"),j._isBlending=!1,j._hasSetAmbient=!1,j._useSpecularMaterial=!1,j._useEmissiveMaterial=!1,j._useNormalMaterial=!1,j._useShininess=1,j._useLineColor=!1,j._useVertexColor=!1,j.registerEnabled=new Set,j._tint=[255,255,255,255],j.constantAttenuation=1,j.linearAttenuation=0,j.quadraticAttenuation=0,j.uMVMatrix=new d.default.Matrix,j.uPMatrix=new d.default.Matrix,j.uNMatrix=new d.default.Matrix("mat3"),j._currentNormal=new d.default.Vector(0,0,1),j._curCamera=new d.default.Camera(c(j)),j._curCamera._computeCameraDefaultSettings(),j._curCamera._setDefaultCamera(),j.filterCamera=new d.default.Camera(c(j)),j.filterCamera._computeCameraDefaultSettings(),j.filterCamera._setDefaultCamera(),j.prevTouches=[],j.zoomVelocity=0,j.rotateVelocity=new d.default.Vector(0,0),j.moveVelocity=new d.default.Vector(0,0),j.executeZoom=!1,j.executeRotateAndMove=!1,j._defaultLightShader=void 0,j._defaultImmediateModeShader=void 0,j._defaultNormalShader=void 0,j._defaultColorShader=void 0,j._defaultPointShader=void 0,j.userFillShader=void 0,j.userStrokeShader=void 0,j.userPointShader=void 0,j.retainedMode={geometry:{},buffers:{stroke:[new d.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",c(j)),new d.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",c(j)),new d.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",c(j)),new d.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",c(j)),new d.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",c(j))],fill:[new d.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",c(j),j._vToNArray),new d.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",c(j),j._vToNArray),new d.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",c(j)),new d.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",c(j)),new d.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",c(j),j._flatten)],text:[new d.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",c(j),j._vToNArray),new d.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",c(j),j._flatten)]}},j.immediateMode={geometry:new d.default.Geometry,shapeMode:h.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new d.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",c(j),j._vToNArray),new d.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",c(j),j._vToNArray),new d.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",c(j)),new d.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",c(j)),new d.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",c(j),j._flatten)],stroke:[new d.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",c(j)),new d.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",c(j)),new d.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",c(j)),new d.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",c(j)),new d.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",c(j))],point:j.GL.createBuffer()}},j.pointSize=5,j.curStrokeWeight=1,j.curStrokeCap=h.ROUND,j.curStrokeJoin=h.ROUND,j.textures=new Map,j.framebuffers=new Set,j.activeFramebuffers=[],j.filterShader=void 0,j.filterLayer=void 0,j.filterLayerTemp=void 0,j.defaultFilterShaders={},j.textureMode=h.IMAGE,j.textureWrapX=h.CLAMP,j.textureWrapY=h.CLAMP,j._tex=null,j._curveTightness=6,j._lookUpTableBezier=[],j._lookUpTableQuadratic=[],j._lutBezierDetail=0,j._lutQuadraticDetail=0,j.isProcessingVertices=!1,j._tessy=j._initTessy(),j.fontInfos={},j._curShader=void 0,j;throw new TypeError("Cannot call a class as a function")}return T(ae,"ie"),P=ae,(z=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new m.default(this)}},{key:"endGeometry",value:function(){var j;if(this.geometryBuilder)return j=this.geometryBuilder.finish(),this.geometryBuilder=void 0,j;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(j){return this.beginGeometry(),j(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(j){var L={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};j._glAttributes===null?j._glAttributes=L:j._glAttributes=Object.assign(L,j._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?h.WEBGL2:h.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var j=this.drawingContext;j.enable(j.DEPTH_TEST),j.depthFunc(j.LEQUAL),j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(j,L){var G,N=this.width,Z=this.height,ie=this.canvas.id,oe=this._pInst instanceof d.default.Graphics,ie=(oe?((G=this._pInst).canvas.parentNode.removeChild(G.canvas),G.canvas=document.createElement("canvas"),(G._pInst._userNode||document.body).appendChild(G.canvas),d.default.Element.call(G,G.canvas,G._pInst),G.width=N,G.height=Z):((G=this.canvas)&&G.parentNode.removeChild(G),(G=document.createElement("canvas")).id=ie,(this._pInst._userNode||document.body).appendChild(G),this._pInst.canvas=G,this.canvas=G),new d.default.RendererGL(this._pInst.canvas,this._pInst,!oe));this._pInst._setProperty("_renderer",ie),ie.resize(N,Z),ie._applyDefaults(),oe||this._pInst._elements.push(ie),typeof L=="function"&&setTimeout(function(){L.apply(window._renderer,j)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var N=(N=this._pInst).color.apply(N,arguments),j=N.levels[0]/255,L=N.levels[1]/255,G=N.levels[2]/255,N=N.levels[3]/255;this.clear(j,L,G,N)}},{key:"fill",value:function(j,L,G,N){var Z=d.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Z._array,this.drawMode=h.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(j,L,G,N){var Z=d.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Z._array}},{key:"strokeCap",value:function(j){this.curStrokeCap=j}},{key:"strokeJoin",value:function(j){this.curStrokeJoin=j}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(j,L){j.width===L.width&&j.height===L.height||j.resize(L.width,L.height),j.pixelDensity()!==L.pixelDensity()&&j.pixelDensity(L.pixelDensity())}},{key:"filter",value:function(){var j,L,G=this,N=this.getFilterLayer(),Z=void 0,oe=void 0,ie=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(oe=arguments.length<=0?void 0:arguments[0],_(j={},h.BLUR,3),_(j,h.POSTERIZE,4),_(j,h.THRESHOLD,.5),Z=oe in(j=j)&&(arguments.length<=1?void 0:arguments[1])===void 0?j[oe]:arguments.length<=1?void 0:arguments[1],oe in this.defaultFilterShaders||(this.defaultFilterShaders[oe]=new d.default.Shader(N._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,F[oe])),this.filterShader=this.defaultFilterShaders[oe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ce=(this.matchSize(N,ie),ie!==this&&(this.filterCamera=this.getFilterLayer().createCamera()),N.draw(function(){return G._pInst.clear()}),[1/(ie.width*ie.pixelDensity()),1/(ie.height*ie.pixelDensity())]);oe===h.BLUR?(L=this.getFilterLayerTemp(),this.matchSize(L,ie),this._pInst.push(),this._pInst.noStroke(),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ce),this.filterShader.setUniform("canvasSize",[ie.width,ie.height]),this.filterShader.setUniform("radius",Math.max(1,Z)),L.draw(function(){G.filterShader.setUniform("direction",[1,0]),G.filterShader.setUniform("tex0",ie),G._pInst.clear(),G._pInst.shader(G.filterShader),G._pInst.rect(-ie.width/2,-ie.height/2,ie.width,ie.height)}),N.draw(function(){G.filterShader.setUniform("direction",[0,1]),G.filterShader.setUniform("tex0",L),G._pInst.clear(),G._pInst.shader(G.filterShader),G._pInst.rect(-ie.width/2,-ie.height/2,ie.width,ie.height)}),this._pInst.pop()):N.draw(function(){G._pInst.noStroke(),G._pInst.shader(G.filterShader),G.filterShader.setUniform("tex0",ie),G.filterShader.setUniform("texelSize",ce),G.filterShader.setUniform("canvasSize",[ie.width,ie.height]),G.filterShader.setUniform("filterParameter",Z),G._pInst.rect(-ie.width/2,-ie.height/2,ie.width,ie.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(h.CORNER),this._pInst.blendMode(h.BLEND),this.filterCamera._resize(),this._pInst.setCamera(this.filterCamera),this._pInst.resetMatrix(),this._pInst.image(N,-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(j){return j?this._pInst.pixelDensity(j):this._pInst.pixelDensity()}},{key:"blendMode",value:function(j){j===h.DARKEST||j===h.LIGHTEST||j===h.ADD||j===h.BLEND||j===h.SUBTRACT||j===h.SCREEN||j===h.EXCLUSION||j===h.REPLACE||j===h.MULTIPLY||j===h.REMOVE?this.curBlendMode=j:j!==h.BURN&&j!==h.OVERLAY&&j!==h.HARD_LIGHT&&j!==h.SOFT_LIGHT&&j!==h.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(j,L){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this._isErasing=!0,this.blendMode(h.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,j/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,L/255])}},{key:"noErase",value:function(){var j;this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),j=this.curBlendMode,this.blendMode(this._cachedBlendMode),this._cachedBlendMode=j,this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(u(y(ae.prototype),"beginClip",this).call(this,j),this.drawTarget()._isClipApplied=!0,this.GL);j.clearStencil(0),j.clear(j.STENCIL_BUFFER_BIT),j.enable(j.STENCIL_TEST),this._stencilTestOn=!0,j.stencilFunc(j.ALWAYS,1,255),j.stencilOp(j.KEEP,j.KEEP,j.REPLACE),j.disable(j.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var j=this.GL;j.stencilOp(j.KEEP,j.KEEP,j.KEEP),j.stencilFunc(this._clipInvert?j.EQUAL:j.NOTEQUAL,0,255),j.enable(j.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),u(y(ae.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(j){this.curStrokeWeight!==j&&(this.pointSize=j,this.curStrokeWeight=j)}},{key:"_getPixel",value:function(j,L){var G=this.GL;return U(G,null,j,L,G.RGBA,G.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var j,L,G=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(j=this._pInst._pixelDensity,L=this.GL,G._setProperty("pixels",R(G.pixels,L,null,0,0,this.width*j,this.height*j,L.RGBA,L.UNSIGNED_BYTE,this.height*j)))}},{key:"updatePixels",value:function(){var j=this._getTempFramebuffer();j.pixels=this._pixelsState.pixels,j.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(h.CENTER),this._pInst.image(j,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:h.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:h.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(j){return this.retainedMode.geometry[j]!==void 0}},{key:"viewport",value:function(j,L){this._viewport=[0,0,j,L],this.GL.viewport(0,0,j,L)}},{key:"resize",value:function(Z,N){d.default.Renderer.prototype.resize.call(this,Z,N),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var Z=this._pixelsState,G=(Z.pixels!==void 0&&Z._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),N=!1,Z=void 0;try{for(var oe,ie=this.framebuffers[Symbol.iterator]();!(G=(oe=ie.next()).done);G=!0)oe.value._canvasSizeChanged()}catch(ce){N=!0,Z=ce}finally{try{G||ie.return==null||ie.return()}finally{if(N)throw Z}}}},{key:"clear",value:function(){var j=(arguments.length<=0?void 0:arguments[0])||0,L=(arguments.length<=1?void 0:arguments[1])||0,G=(arguments.length<=2?void 0:arguments[2])||0,N=(arguments.length<=3?void 0:arguments[3])||0,Z=this.activeFramebuffer();Z&&Z.format===h.UNSIGNED_BYTE&&!Z.antialias&&N===0&&(N=1e-10),this.GL.clearColor(j*N,L*N,G*N,N),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(j,L,G,N,Z,oe){arguments.length===16?d.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([j,L,0,0,G,N,0,0,0,0,1,0,Z,oe,0,1])}},{key:"translate",value:function(j,L,G){return j instanceof d.default.Vector&&(G=j.z,L=j.y,j=j.x),this.uMVMatrix.translate([j,L,G]),this}},{key:"scale",value:function(j,L,G){return this.uMVMatrix.scale(j,L,G),this}},{key:"rotate",value:function(j,L){return L===void 0?this.rotateZ(j):(d.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(j){return this.rotate(j,1,0,0),this}},{key:"rotateY",value:function(j){return this.rotate(j,0,1,0),this}},{key:"rotateZ",value:function(j){return this.rotate(j,0,0,1),this}},{key:"push",value:function(){var j=d.default.Renderer.prototype.push.apply(this),L=j.properties;return L.uMVMatrix=this.uMVMatrix.copy(),L.uPMatrix=this.uPMatrix.copy(),L._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),L.ambientLightColors=this.ambientLightColors.slice(),L.specularColors=this.specularColors.slice(),L.directionalLightDirections=this.directionalLightDirections.slice(),L.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),L.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),L.pointLightPositions=this.pointLightPositions.slice(),L.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),L.pointLightSpecularColors=this.pointLightSpecularColors.slice(),L.spotLightPositions=this.spotLightPositions.slice(),L.spotLightDirections=this.spotLightDirections.slice(),L.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),L.spotLightSpecularColors=this.spotLightSpecularColors.slice(),L.spotLightAngle=this.spotLightAngle.slice(),L.spotLightConc=this.spotLightConc.slice(),L.userFillShader=this.userFillShader,L.userStrokeShader=this.userStrokeShader,L.userPointShader=this.userPointShader,L.pointSize=this.pointSize,L.curStrokeWeight=this.curStrokeWeight,L.curStrokeColor=this.curStrokeColor,L.curFillColor=this.curFillColor,L.curAmbientColor=this.curAmbientColor,L.curSpecularColor=this.curSpecularColor,L.curEmissiveColor=this.curEmissiveColor,L._hasSetAmbient=this._hasSetAmbient,L._useSpecularMaterial=this._useSpecularMaterial,L._useEmissiveMaterial=this._useEmissiveMaterial,L._useShininess=this._useShininess,L.constantAttenuation=this.constantAttenuation,L.linearAttenuation=this.linearAttenuation,L.quadraticAttenuation=this.quadraticAttenuation,L._enableLighting=this._enableLighting,L._useNormalMaterial=this._useNormalMaterial,L._tex=this._tex,L.drawMode=this.drawMode,L._currentNormal=this._currentNormal,L.curBlendMode=this.curBlendMode,L.activeImageLight=this.activeImageLight,j}},{key:"pop",value:function(){var j;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var L=arguments.length,G=new Array(L),N=0;N<L;N++)G[N]=arguments[N];(j=u(y(ae.prototype),"pop",this)).call.apply(j,[this].concat(G)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var j=this.drawTarget();j._isClipApplied!==this._stencilTestOn&&(j._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var j=this.userStrokeShader;return j&&j.isStrokeShader()?j:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var j=this.userFillShader;if(this._useNormalMaterial&&(!j||!j.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getImmediateModeShader();return j}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var j=this.userFillShader;if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getColorShader();return j}},{key:"_getImmediatePointShader",value:function(){var j=this.userPointShader;return j&&j.isPointShader()?j:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+I.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+I.phongFrag):this._defaultLightShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+I.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+I.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===h.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+I.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+I.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(j,L){var G="";return this.webglVersion===h.WEBGL2&&(G+=`#version 300 es
#define WEBGL2
`),j==="vert"?G+=`#define VERTEX_SHADER
`:j==="frag"&&(G+=`#define FRAGMENT_SHADER
`),L&&(G+="precision ".concat(L,` float;
`)),G}},{key:"_getEmptyTexture",value:function(){var j;return this._emptyTexture||((j=new d.default.Image(1,1)).set(0,0,255),this._emptyTexture=new d.default.Texture(this,j)),this._emptyTexture}},{key:"getTexture",value:function(j){j instanceof d.default.Framebuffer&&(j=j.color);var L=this.textures.get(j);return L||(L=new d.default.Texture(this,j),this.textures.set(j,L),L)}},{key:"getDiffusedTexture",value:function(j){var L,G;return this.diffusedTextures.get(j)!=null?this.diffusedTextures.get(j):(L=Math.floor(j.height/j.width*200),G=(L=this._pInst.createGraphics(200,L,h.WEBGL)).createShader(I.imageLightVert,I.imageLightDiffusedFrag),L.shader(G),G.setUniform("environmentMap",j),L.noStroke(),L.rectMode(L.CENTER),L.rect(0,0,L.width,L.height),this.diffusedTextures.set(j,L),L)}},{key:"getSpecularTexture",value:function(j){if(this.specularTextures.get(j)!=null)return this.specularTextures.get(j);var L,G=[],N=this._pInst.createGraphics(512,512,h.WEBGL),Z=Math.log(512)/Math.log(2);N.pixelDensity(1);for(var oe=512;1<=oe;oe/=2){N.resizeCanvas(oe,oe);var ie=1-Math.log(oe)/Math.log(2)/Z,ce=N.createShader(I.imageLightVert,I.imageLightSpecularFrag);N.shader(ce),N.clear(),ce.setUniform("environmentMap",j),ce.setUniform("roughness",ie),N.noStroke(),N.plane(oe,oe),G.push(N.get().drawingContext.getImageData(0,0,oe,oe))}return N.remove(),L=new r.MipmapTexture(this,G,{}),this.specularTextures.set(j,L),L}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(j){return new d.default.Framebuffer(this,j)}},{key:"_setStrokeUniforms",value:function(j){j.bindShader(),j.setUniform("uUseLineColor",this._useLineColor),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uStrokeWeight",this.curStrokeWeight),j.setUniform("uStrokeCap",M[this.curStrokeCap]),j.setUniform("uStrokeJoin",E[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(j){j.bindShader(),j.setUniform("uUseVertexColor",this._useVertexColor),j.setUniform("uMaterialColor",this.curFillColor),j.setUniform("isTexture",!!this._tex),this._tex&&j.setUniform("uSampler",this._tex),j.setUniform("uTint",this._tint),j.setUniform("uHasSetAmbient",this._hasSetAmbient),j.setUniform("uAmbientMatColor",this.curAmbientColor),j.setUniform("uSpecularMatColor",this.curSpecularColor),j.setUniform("uEmissiveMatColor",this.curEmissiveColor),j.setUniform("uSpecular",this._useSpecularMaterial),j.setUniform("uEmissive",this._useEmissiveMaterial),j.setUniform("uShininess",this._useShininess),this._setImageLightUniforms(j),j.setUniform("uUseLighting",this._enableLighting);var L=this.pointLightDiffuseColors.length/3,L=(j.setUniform("uPointLightCount",L),j.setUniform("uPointLightLocation",this.pointLightPositions),j.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),j.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),L=(j.setUniform("uDirectionalLightCount",L),j.setUniform("uLightingDirection",this.directionalLightDirections),j.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),j.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),L=(j.setUniform("uAmbientLightCount",L),j.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);j.setUniform("uSpotLightCount",L),j.setUniform("uSpotLightAngle",this.spotLightAngle),j.setUniform("uSpotLightConc",this.spotLightConc),j.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),j.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),j.setUniform("uSpotLightLocation",this.spotLightPositions),j.setUniform("uSpotLightDirection",this.spotLightDirections),j.setUniform("uConstantAttenuation",this.constantAttenuation),j.setUniform("uLinearAttenuation",this.linearAttenuation),j.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),j.bindTextures()}},{key:"_setImageLightUniforms",value:function(j){var L,G;j.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(L=this.getDiffusedTexture(this.activeImageLight),j.setUniform("environmentMapDiffused",L),L=this.getSpecularTexture(this.activeImageLight),G=20/this._useShininess,j.setUniform("levelOfDetail",8*G),j.setUniform("environmentMapSpecular",L))}},{key:"_setPointUniforms",value:function(j){j.bindShader(),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(j,L,G,N,Z){L=L||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(L,j),G!==void 0&&((j=G)instanceof d.default.DataArray?j=G.dataArray():j instanceof(N||Float32Array)||(j=new(N||Float32Array)(j)),this.GL.bufferData(L,j,Z||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(j,L){return j.length===L.length&&j.every(function(G,N){return G===L[N]})}},{key:"_isTypedArray",value:function(j){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(L){return j instanceof L})}},{key:"_flatten",value:function(j){if(j.length===0)return[];var L;if(2e4<j.length){for(var G=[],N=j.slice(),Z=N.pop();Array.isArray(Z)?N.push.apply(N,i(Z)):G.push(Z),N.length&&(Z=N.pop())!==void 0;);return G.reverse(),G}return(L=[]).concat.apply(L,i(j))}},{key:"_vToNArray",value:function(j){var L=[],G=!0,N=!1,Z=void 0;try{for(var oe,ie=j[Symbol.iterator]();!(G=(oe=ie.next()).done);G=!0){var ce=oe.value;L.push(ce.x,ce.y,ce.z)}}catch(ue){N=!0,Z=ue}finally{try{G||ie.return==null||ie.return()}finally{if(N)throw Z}}return L}},{key:"_bezierCoefficients",value:function(j){var L=j*j,G=1-j,N=G*G;return[N*G,3*N*j,3*G*L,L*j]}},{key:"_quadraticCoefficients",value:function(j){var L=1-j;return[L*L,2*L*j,j*j]}},{key:"_bezierToCatmull",value:function(j){return[j[1],j[1]+(j[2]-j[0])/this._curveTightness,j[2]-(j[3]-j[1])/this._curveTightness,j[2]]}},{key:"_initTessy",value:function(){var j=new f.default.GluTesselator;return j.gluTessCallback(f.default.gluEnum.GLU_TESS_VERTEX_DATA,function(L,G){for(var N=0;N<L.length;N++)G.push(L[N])}),j.gluTessCallback(f.default.gluEnum.GLU_TESS_BEGIN,function(L){L!==f.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(L))}),j.gluTessCallback(f.default.gluEnum.GLU_TESS_ERROR,function(L){console.log("error callback"),console.log("error number: ".concat(L))}),j.gluTessCallback(f.default.gluEnum.GLU_TESS_COMBINE,function(L,G,N){for(var Z=new Array(d.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<N.length;oe++)for(var ie=0;ie<Z.length;ie++)N[oe]!==0&&G[oe]&&(Z[ie]+=G[oe][ie]*N[oe]);return Z}),j.gluTessCallback(f.default.gluEnum.GLU_TESS_EDGE_FLAG,function(L){}),j.gluTessProperty(f.default.gluEnum.GLU_TESS_WINDING_RULE,f.default.windingRule.GLU_TESS_WINDING_NONZERO),j}},{key:"_triangulate",value:function(j){var L=j[0]?j[0][2]:void 0,G=!0,N=!0,ue=!1,ye=void 0;try{for(var Z,oe=j[Symbol.iterator]();!(N=(Z=oe.next()).done);N=!0)for(var ie=Z.value,ce=0;ce<ie.length;ce+=d.default.RendererGL.prototype.tessyVertexSize)if(ie[ce+2]!==L){G=!1;break}}catch(we){ue=!0,ye=we}finally{try{N||oe.return==null||oe.return()}finally{if(ue)throw ye}}G?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var ue=[],be=(this._tessy.gluTessBeginPolygon(ue),!0),ye=!1,se=void 0;try{for(var xe,Se=j[Symbol.iterator]();!(be=(xe=Se.next()).done);be=!0){var Ie=xe.value;this._tessy.gluTessBeginContour();for(var Me=0;Me<Ie.length;Me+=d.default.RendererGL.prototype.tessyVertexSize){var q=Ie.slice(Me,Me+d.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(q,q)}this._tessy.gluTessEndContour()}}catch(we){ye=!0,se=we}finally{try{be||Se.return==null||Se.return()}finally{if(ye)throw se}}return this._tessy.gluTessEndPolygon(),ue}}])&&n(P.prototype,z),W&&n(P,W),ae}(d.default.Renderer),d.default.prototype._assert3d=function(z){if(!this._renderer.isP3D)throw new Error("".concat(z,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},d.default.RendererGL.prototype.tessyVertexSize=12,C=d.default.RendererGL,k.default=C},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"./p5.Texture":334,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(t,Y,k){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var v=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(d,h){for(var m=0;m<h.length;m++){var f=h[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}T(p,"p"),v.default.Shader=function(){function d(r,s,l){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._renderer=r,this._vertSrc=s,this._fragSrc=l,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}T(d,"i");var h,m,f;return h=d,(m=[{key:"init",value:function(){if(this._glProgram===0){var r=this._renderer.GL;if(this._vertShader=r.createShader(r.VERTEX_SHADER),r.shaderSource(this._vertShader,this._vertSrc),r.compileShader(this._vertShader),!r.getShaderParameter(this._vertShader,r.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(r.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=r.createShader(r.FRAGMENT_SHADER),r.shaderSource(this._fragShader,this._fragSrc),r.compileShader(this._fragShader),!r.getShaderParameter(this._fragShader,r.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(r.getShaderInfoLog(this._fragShader))),null;this._glProgram=r.createProgram(),r.attachShader(this._glProgram,this._vertShader),r.attachShader(this._glProgram,this._fragShader),r.linkProgram(this._glProgram),r.getProgramParameter(this._glProgram,r.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(r.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(r){var s=new v.default.Shader(r._renderer,this._vertSrc,this._fragSrc);return s.ensureCompiledOnContext(r),s}},{key:"ensureCompiledOnContext",value:function(r){if(this._glProgram!==0&&this._renderer!==r._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=r._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var r=this._renderer.GL,s=r.getProgramParameter(this._glProgram,r.ACTIVE_ATTRIBUTES),l=0;l<s;++l){var i=r.getActiveAttrib(this._glProgram,l),n=i.name,u=r.getAttribLocation(this._glProgram,n),a={};a.name=n,a.location=u,a.index=l,a.type=i.type,a.size=i.size,this.attributes[n]=a}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var r=this._renderer.GL,s=r.getProgramParameter(this._glProgram,r.ACTIVE_UNIFORMS),l=0,i=0;i<s;++i){var n=r.getActiveUniform(this._glProgram,i),u={},a=(u.location=r.getUniformLocation(this._glProgram,n.name),u.size=n.size,n.name);1<n.size&&(a=a.substring(0,a.indexOf("[0]"))),u.name=a,u.type=n.type,u._cachedData=void 0,u.type===r.SAMPLER_2D&&(u.samplerIndex=l,l++,this.samplers.push(u)),u.isArray=1<n.size||u.type===r.FLOAT_MAT3||u.type===r.FLOAT_MAT4||u.type===r.FLOAT_VEC2||u.type===r.FLOAT_VEC3||u.type===r.FLOAT_VEC4||u.type===r.INT_VEC2||u.type===r.INT_VEC4||u.type===r.INT_VEC3,this.uniforms[a]=u}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var r=this._renderer.GL,s=!0,l=!1,i=void 0;try{for(var n,u=this.samplers[Symbol.iterator]();!(s=(n=u.next()).done);s=!0){var a=n.value,o=a.texture;o===void 0&&(o=this._renderer._getEmptyTexture()),r.activeTexture(r.TEXTURE0+a.samplerIndex),o.bindTexture(),o.update(),r.uniform1i(a.location,a.samplerIndex)}}catch(c){l=!0,i=c}finally{try{s||u.return==null||u.return()}finally{if(l)throw i}}}},{key:"updateTextures",value:function(){var r=!0,s=!1,l=void 0;try{for(var i,n=this.samplers[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var u=i.value.texture;u&&u.update()}}catch(a){s=!0,l=a}finally{try{r||n.return==null||n.return()}finally{if(s)throw l}}}},{key:"unbindTextures",value:function(){var r=!0,s=!1,l=void 0;try{for(var i,n=this.samplers[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var u=i.value;this.setUniform(u.name,this._renderer._getEmptyTexture())}}catch(a){s=!0,l=a}finally{try{r||n.return==null||n.return()}finally{if(s)throw l}}}},{key:"_setMatrixUniforms",value:function(){var r=this._renderer._curCamera.cameraMatrix,s=this._renderer.uPMatrix,l=this._renderer.uMVMatrix,i=l.copy();i.mult(s),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",r.mat4),this.setUniform("uProjectionMatrix",s.mat4),this.setUniform("uModelViewMatrix",l.mat4),this.setUniform("uModelViewProjectionMatrix",i.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var r=this._renderer.GL;return this._renderer._curShader!==this&&(r.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(r,s){var l=this.uniforms[r];if(l){var i=this._renderer.GL;if(l.isArray){if(l._cachedData&&this._renderer._arraysEqual(l._cachedData,s))return;l._cachedData=s.slice(0)}else{if(l._cachedData&&l._cachedData===s)return;Array.isArray(s)?l._cachedData=s.slice(0):l._cachedData=s}var n=l.location;switch(this.useProgram(),l.type){case i.BOOL:s===!0?i.uniform1i(n,1):i.uniform1i(n,0);break;case i.INT:1<l.size?s.length&&i.uniform1iv(n,s):i.uniform1i(n,s);break;case i.FLOAT:1<l.size?s.length&&i.uniform1fv(n,s):i.uniform1f(n,s);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(n,!1,s);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(n,!1,s);break;case i.FLOAT_VEC2:1<l.size?s.length&&i.uniform2fv(n,s):i.uniform2f(n,s[0],s[1]);break;case i.FLOAT_VEC3:1<l.size?s.length&&i.uniform3fv(n,s):i.uniform3f(n,s[0],s[1],s[2]);break;case i.FLOAT_VEC4:1<l.size?s.length&&i.uniform4fv(n,s):i.uniform4f(n,s[0],s[1],s[2],s[3]);break;case i.INT_VEC2:1<l.size?s.length&&i.uniform2iv(n,s):i.uniform2i(n,s[0],s[1]);break;case i.INT_VEC3:1<l.size?s.length&&i.uniform3iv(n,s):i.uniform3i(n,s[0],s[1],s[2]);break;case i.INT_VEC4:1<l.size?s.length&&i.uniform4iv(n,s):i.uniform4i(n,s[0],s[1],s[2],s[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+l.samplerIndex),l.texture=s instanceof v.default.Texture?s:this._renderer.getTexture(s),i.uniform1i(n,l.samplerIndex),l.texture.src.gifProperties&&l.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(r,s,l,i,n,u){var a;return r&&(r=r.location)!==-1&&(a=this._renderer.GL,this._renderer.registerEnabled.has(r)||(a.enableVertexAttribArray(r),this._renderer.registerEnabled.add(r)),this._renderer.GL.vertexAttribPointer(r,s,l||a.FLOAT,i||!1,n||0,u||0)),this}},{key:"disableRemainingAttributes",value:function(){var r=this,s=!0,l=!1,i=void 0;try{for(var n,u=this._renderer.registerEnabled.values()[Symbol.iterator]();!(s=(n=u.next()).done);s=!0)(function(){var a=n.value;Object.keys(r.attributes).some(function(o){return r.attributes[o].location===a})||(r._renderer.GL.disableVertexAttribArray(a),r._renderer.registerEnabled.delete(a))})()}catch(a){l=!0,i=a}finally{try{s||u.return==null||u.return()}finally{if(l)throw i}}}}])&&p(h.prototype,m),f&&p(h,f),d}(),t=v.default.Shader,k.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(t,Y,k){"use strict";function v(o){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}T(v,"m");function p(o){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(c){return v(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(o)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(k,"__esModule",{value:!0}),k.checkWebGLCapabilities=a,k.default=k.MipmapTexture=void 0;var d=(u=t("../core/main"))&&u.__esModule?u:{default:u},h=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var c=m();if(c&&c.has(o))return c.get(o);var y,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in o){var b;Object.prototype.hasOwnProperty.call(o,y)&&((b=x?Object.getOwnPropertyDescriptor(o,y):null)&&(b.get||b.set)?Object.defineProperty(_,y,b):_[y]=o[y])}return _.default=o,c&&c.set(o,_),_}(t("../core/constants"));function m(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,m=T(function(){return o},"y"),o)}T(m,"y");function f(o,c){return(f=Object.setPrototypeOf||function(y,_){return y.__proto__=_,y})(o,c)}T(f,"g");function r(o){return function(){var c,y=s(o),y=(c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=s(this).constructor,Reflect.construct(y,arguments,c)):y.apply(this,arguments),this);if(!c||p(c)!=="object"&&typeof c!="function"){if(y!==void 0)return y;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return c}}T(r,"r");function s(o){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}T(s,"a");function l(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}T(l,"s");function i(o,c){for(var y=0;y<c.length;y++){var _=c[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}T(i,"n");function n(o,c,y){c&&i(o.prototype,c),y&&i(o,y)}T(n,"l"),d.default.Texture=function(){function o(w,y,b){l(this,o),this._renderer=w;var x=this._renderer.GL,b=(b=b||{},this.src=y,this.glTex=void 0,this.glTarget=x.TEXTURE_2D,this.glFormat=b.format||x.RGBA,this.mipmaps=!1,this.glMinFilter=b.minFilter||x.LINEAR,this.glMagFilter=b.magFilter||x.LINEAR,this.glWrapS=b.wrapS||x.CLAMP_TO_EDGE,this.glWrapT=b.wrapT||x.CLAMP_TO_EDGE,this.glDataType=b.dataType||x.UNSIGNED_BYTE,a(w)),w=(this.glFormat!==x.HALF_FLOAT||b.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=x.FLOAT),this.glFormat!==x.HALF_FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||b.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.glFormat!==x.FLOAT||b.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=x.UNSIGNED_BYTE),this.glFormat!==x.FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||b.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.isSrcMediaElement=d.default.MediaElement!==void 0&&y instanceof d.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=d.default.Element!==void 0&&y instanceof d.default.Element&&!(y instanceof d.default.Graphics)&&!(y instanceof d.default.Renderer),this.isSrcP5Image=y instanceof d.default.Image,this.isSrcP5Graphics=y instanceof d.default.Graphics,this.isSrcP5Renderer=y instanceof d.default.Renderer,this.isImageData=typeof ImageData<"u"&&y instanceof ImageData,this.isFramebufferTexture=y instanceof d.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=w.width,this.height=w.height,this.init(w),this}return T(o,"o"),n(o,[{key:"_getTextureDataFromSource",value:function(){var c;return this.isFramebufferTexture?c=this.src.rawTexture():this.isSrcP5Image?c=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?c=this.src.elt:this.isImageData&&(c=this.src),c}},{key:"init",value:function(c){var y,_=this._renderer.GL;this.isFramebufferTexture||(this.glTex=_.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,this.glMagFilter),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(y=new Uint8Array([1,1,1,1]),_.texImage2D(this.glTarget,0,_.RGBA,1,1,0,this.glFormat,this.glDataType,y)):_.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,c))}},{key:"update",value:function(){var c,y,_,x=this.src;return x.width!==0&&x.height!==0&&!this.isFramebufferTexture&&(c=this._getTextureDataFromSource(),y=!1,_=this._renderer.GL,c.width!==this.width||c.height!==this.height?(y=!0,this.width=c.width||x.width,this.height=c.height||x.height,this.isSrcP5Image?x.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&x.setModified(!0)):this.isSrcP5Image?x.isModified()&&x.setModified(!(y=!0)):this.isSrcMediaElement?x.isModified()?x.setModified(!(y=!0)):x.loadedmetadata&&this._videoPrevUpdateTime!==x.time()&&(this._videoPrevUpdateTime=x.time(),y=!0):this.isImageData?x._dirty&&(y=!(x._dirty=!1)):y=!0,y&&(this.bindTexture(),_.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,c)),y)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(c,y){var _=this._renderer.GL;this.glMinFilter=this.glFilter(c),this.glMagFilter=this.glFilter(y),this.bindTexture(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.glMinFilter),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(c){var y=this._renderer.GL;return c===h.NEAREST?y.NEAREST:y.LINEAR}},{key:"setWrapMode",value:function(c,y){function _(M){return(M&M-1)==0}T(_,"M");var x=this._renderer.GL,w=this._getTextureDataFromSource(),w=w.naturalWidth&&w.naturalHeight?(b=w.naturalWidth,w.naturalHeight):(b=this.width,this.height),b=_(b),w=_(w);c===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||b&&w?this.glWrapS=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):c===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||b&&w?this.glWrapS=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):this.glWrapS=x.CLAMP_TO_EDGE,y===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||b&&w?this.glWrapT=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):y===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||b&&w?this.glWrapT=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):this.glWrapT=x.CLAMP_TO_EDGE,this.bindTexture(),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,this.glWrapS),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),o}();var u=function(o){var c=_;if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),o&&f(c,o);var y=r(_);function _(x,b,w){return l(this,_),b=(x=y.call(this,x,b,w))._renderer.GL,x.glMinFilter===b.LINEAR&&(x.glMinFilter=b.LINEAR_MIPMAP_LINEAR),x}return T(_,"M"),n(_,[{key:"glFilter",value:function(x){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(x){var b=this._renderer.GL;this.glTex=b.createTexture(),this.bindTexture();for(var w=0;w<x.length;w++)b.texImage2D(this.glTarget,w,this.glFormat,this.glFormat,this.glDataType,x[w]);this.glMinFilter=b.LINEAR_MIPMAP_LINEAR,b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,this.glMagFilter),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),_}(d.default.Texture);function a(x){var c=x.GL,x=x.webglVersion,y=x===h.WEBGL2?c.getExtension("EXT_color_buffer_float")&&c.getExtension("EXT_float_blend"):c.getExtension("OES_texture_float"),_=y&&c.getExtension("OES_texture_float_linear"),x=x===h.WEBGL2?c.getExtension("EXT_color_buffer_float"):c.getExtension("OES_texture_half_float");return{float:y,floatLinear:_,halfFloat:x,halfFloatLinear:x&&c.getExtension("OES_texture_half_float_linear")}}T(a,"h"),k.MipmapTexture=u,t=d.default.Texture,k.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(t,Y,k){"use strict";function v(o){return(v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}T(v,"m");function p(o){return(p=typeof Symbol=="function"&&v(Symbol.iterator)==="symbol"?function(c){return v(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(o)}T(p,"p"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var d,h=(d=t("../core/main"))&&d.__esModule?d:{default:d},m=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var c=f();if(c&&c.has(o))return c.get(o);var y,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in o){var b;Object.prototype.hasOwnProperty.call(o,y)&&((b=x?Object.getOwnPropertyDescriptor(o,y):null)&&(b.get||b.set)?Object.defineProperty(_,y,b):_[y]=o[y])}return _.default=o,c&&c.set(o,_),_}(t("../core/constants"));function f(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,f=T(function(){return o},"g"),o)}T(f,"g");function r(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}T(r,"r");function s(o,c){for(var y=0;y<c.length;y++){var _=c[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}T(s,"a");function l(o,c,y){c&&s(o.prototype,c),y&&s(o,y)}T(l,"s"),t("./p5.Shader"),t("./p5.RendererGL.Retained"),h.default.RendererGL.prototype._applyTextProperties=function(){},h.default.RendererGL.prototype.textWidth=function(o){return this._isOpenType()?this._textFont._textWidth(o,this._textSize):0};var i=function(){function o(c,y){r(this,o),this.width=c,this.height=y,this.infos=[]}return T(o,"o"),l(o,[{key:"findImage",value:function(c){var y,_,x=this.width*this.height;if(x<c)throw new Error("font is too complex to render in 3D");for(var b=this.infos.length-1;0<=b;--b){var w=this.infos[b];if(w.index+c<x){_=(y=w).imageData;break}}if(!y){try{_=new ImageData(this.width,this.height)}catch{var M=document.getElementsByTagName("canvas")[0],E=!M,A=(M||((M=document.createElement("canvas")).style.display="none",document.body.appendChild(M)),M.getContext("2d"));A&&(_=A.createImageData(this.width,this.height)),E&&document.body.removeChild(M)}this.infos.push(y={index:0,imageData:_})}return A=y.index,y.index+=c,_._dirty=!0,{imageData:_,index:A}}}]),o}();function n(w,c,y,_,x){var b=w.imageData.data,w=4*w.index++;b[w++]=c,b[w++]=y,b[w++]=_,b[+w]=x}T(n,"l");var u=Math.sqrt(3),a=function(){function o(c){r(this,o),this.font=c,this.strokeImageInfos=new i(64,64),this.colDimImageInfos=new i(64,64),this.rowDimImageInfos=new i(64,64),this.colCellImageInfos=new i(64,64),this.rowCellImageInfos=new i(64,64),this.glyphInfos={}}return T(o,"o"),l(o,[{key:"getGlyphInfo",value:function(c){var y=this.glyphInfos[c.index];if(!y){var _=c.getBoundingBox(),x=_.x1,b=_.y1,w=_.x2-x,M=_.y2-b,E=c.path.commands;if(w==0||M==0||!E.length)return this.glyphInfos[c.index]={};for(var A=[],C=[],I=[],F=8;0<=F;--F)I.push([]);for(F=8;0<=F;--F)C.push([]);var R,U,z,P,W=function(){function ge(B,H,X,te){r(this,ge),this.p0=B,this.c0=H,this.c1=X,this.p1=te}return T(ge,"Ne"),l(ge,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return h.default.Vector.sub(h.default.Vector.sub(this.p1,this.p0),h.default.Vector.mult(h.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(pe){var H=h.default.Vector.lerp(this.p0,this.c0,pe),te=h.default.Vector.lerp(this.c0,this.c1,pe),X=h.default.Vector.lerp(H,te,pe),te=(this.c1=h.default.Vector.lerp(this.c1,this.p1,pe),this.c0=h.default.Vector.lerp(te,this.c1,pe),h.default.Vector.lerp(X,this.c0,pe)),pe=new ge(this.p0,H,X,te);return this.p0=te,pe}},{key:"splitInflections",value:function(){var B=h.default.Vector.sub(this.c0,this.p0),H=h.default.Vector.sub(h.default.Vector.sub(this.c1,this.c0),B),X=h.default.Vector.sub(h.default.Vector.sub(h.default.Vector.sub(this.p1,this.c1),B),h.default.Vector.mult(H,2)),te=[],pe=H.x*X.y-H.y*X.x;return pe!==0&&0<=(B=(X=B.x*X.y-B.y*X.x)*X-4*pe*(B.x*H.y-B.y*H.x))&&(pe<0&&(pe=-pe,X=-X),B=(-X+(H=Math.sqrt(B)))/(2*pe),0<(X=(-X-H)/(2*pe))&&X<1&&(te.push(this.split(X)),B=1-(1-B)/(1-X)),0<B&&B<1&&te.push(this.split(B))),te.push(this),te}}]),ge}(),Q=!0,ae=!1,j=void 0;try{for(var L,G=E[Symbol.iterator]();!(Q=(L=G.next()).done);Q=!0){var N=L.value,Z=(N.x-x)/w,oe=(N.y-b)/M;if(!re(R,U,Z,oe)){switch(N.type){case"M":z=Z,P=oe;break;case"L":ve(R,U,Z,oe);break;case"Q":var ie=(N.x1-x)/w,ce=(N.y1-b)/M;q([R,Z,ie],[U,oe,ce],{x:R,y:U,cx:ie,cy:ce});break;case"Z":re(R,U,z,P)?A.push({x:R,y:U}):(ve(R,U,z,P),A.push({x:z,y:P}));break;case"C":for(var ue=function(ne,me,Ee,X,te,pe,le,$){var ne=new W(new h.default.Vector(ne,me),new h.default.Vector(Ee,X),new h.default.Vector(te,pe),new h.default.Vector(le,$)).splitInflections(),J=[],de=30/u,Te=!0,me=!1,Ee=void 0;try{for(var Le,Fe=ne[Symbol.iterator]();!(Te=(Le=Fe.next()).done);Te=!0){for(var Ge=Le.value,ze=[],et=void 0;!(.125<=(et=de/Ge.quadError()));){var Ke=Math.pow(et,.3333333333333333),Qe=Ge.split(Ke),Xe=Ge.split(1-Ke/(1-Ke));J.push(Qe),ze.push(Ge),Ge=Xe}et<1&&J.push(Ge.split(.5)),J.push(Ge),Array.prototype.push.apply(J,ze.reverse())}}catch(tt){me=!0,Ee=tt}finally{try{Te||Fe.return==null||Fe.return()}finally{if(me)throw Ee}}return J}(R,U,(N.x1-x)/w,(N.y1-b)/M,(N.x2-x)/w,(N.y2-b)/M,Z,oe),be=0;be<ue.length;be++){var ye=ue[be].toQuadratic();q([ye.x,ye.x1,ye.cx],[ye.y,ye.y1,ye.cy],ye)}break;default:throw new Error("unknown command type: ".concat(N.type))}R=Z,U=oe}}}catch(ge){ae=!0,j=ge}finally{try{Q||G.return==null||G.return()}finally{if(ae)throw j}}for(var se=A.length,xe=this.strokeImageInfos.findImage(se),Se=xe.index,Ie=0;Ie<se;++Ie){var Me=A[Ie];n(xe,we(Me.x),we(Me.y),we(Me.cx),we(Me.cy))}(y=this.glyphInfos[c.index]={glyph:c,uGlyphRect:[_.x1,-_.y1,_.x2,-_.y2],strokeImageInfo:xe,strokes:A,colInfo:fe(I,this.colDimImageInfos,this.colCellImageInfos),rowInfo:fe(C,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[y.colInfo.dimOffset,y.rowInfo.dimOffset]}return y;function q(ge,B,H){var X=A.length;function te(J,de,Te){for(var me=J.length;0<me--;){var Ee=J[me];Ee<de&&(de=Ee),Te<Ee&&(Te=Ee)}return{min:de,max:Te}}T(te,"ge"),A.push(H);for(var H=te(ge,1,0),ge=Math.max(Math.floor(9*H.min-.5),0),pe=Math.min(Math.ceil(9*H.max+.5),9),le=ge;le<pe;++le)I[le].push(X);for(var H=te(B,1,0),ge=Math.max(Math.floor(9*H.min-.5),0),$=Math.min(Math.ceil(9*H.max+.5),9),ne=ge;ne<$;++ne)C[ne].push(X)}function we(ge){return(ge=(H=255)*ge)<(B=0)?B:H<ge?H:ge;var B,H}function ve(ge,B,H,X){q([ge,H],[B,X],{x:ge,y:B,cx:(ge+H)/2,cy:(B+X)/2})}function re(ge,B,H,X){return Math.abs(H-ge)<1e-5&&Math.abs(X-B)<1e-5}function fe(ge,B,H){for(var X=ge.length,te=B.findImage(X),B=te.index,pe=0,le=0;le<X;++le)pe+=ge[le].length;for(var $=H.findImage(pe),ne=0;ne<X;++ne){var J=ge[ne],de=J.length,Te=$.index;n(te,Te>>7,127&Te,de>>7,127&de);for(var me=0;me<de;++me){var Ee=J[me]+Se;n($,Ee>>7,127&Ee,0,0)}}return{cellImageInfo:$,dimOffset:B,dimImageInfo:te}}}}]),o}();h.default.RendererGL.prototype._renderText=function(o,c,y,_,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=_)&&this._doFill){if(this._isOpenType()){o.push();var x=this._doStroke,b=this.drawMode,w=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),M=(M=this._textFont._fontInfo)||(this._textFont._fontInfo=new a(w)),y=this._textFont._handleAlignment(this,c,y,_),_=this._textSize/w.unitsPerEm,E=(this.translate(y.x,y.y,0),this.scale(_,_,1),this.GL),y=!this._defaultFontShader,A=this._getFontShader(),C=(A.init(),A.bindShader(),y&&(A.setUniform("uGridImageSize",[64,64]),A.setUniform("uCellsImageSize",[64,64]),A.setUniform("uStrokeImageSize",[64,64]),A.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),I=(C||((_=this._textGeom=new h.default.Geometry(1,1,function(){for(var be=0;be<=1;be++)for(var ye=0;ye<=1;ye++)this.vertices.push(new h.default.Vector(ye,be,0)),this.uvs.push(ye,be)})).computeFaces().computeNormals(),C=this.createBuffers("glyph",_)),!0),y=!1,_=void 0;try{for(var F,R=this.retainedMode.buffers.text[Symbol.iterator]();!(I=(F=R.next()).done);I=!0)F.value._prepareBuffer(C,A)}catch(be){y=!0,_=be}finally{try{I||R.return==null||R.return()}finally{if(y)throw _}}this._bindBuffer(C.indexBuffer,E.ELEMENT_ARRAY_BUFFER),A.setUniform("uMaterialColor",this.curFillColor),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var U=0,z=null,P=w.stringToGlyphs(c),W=!0,Q=!1,ae=void 0;try{for(var j,L=P[Symbol.iterator]();!(W=(j=L.next()).done);W=!0){var G,N,Z=j.value,oe=(z&&(U+=w.getKerningValue(z,Z)),M.getGlyphInfo(Z));oe.uGlyphRect&&(G=oe.rowInfo,N=oe.colInfo,A.setUniform("uSamplerStrokes",oe.strokeImageInfo.imageData),A.setUniform("uSamplerRowStrokes",G.cellImageInfo.imageData),A.setUniform("uSamplerRows",G.dimImageInfo.imageData),A.setUniform("uSamplerColStrokes",N.cellImageInfo.imageData),A.setUniform("uSamplerCols",N.dimImageInfo.imageData),A.setUniform("uGridOffset",oe.uGridOffset),A.setUniform("uGlyphRect",oe.uGlyphRect),A.setUniform("uGlyphOffset",U),A.bindTextures(),E.drawElements(E.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),U+=Z.advanceWidth,z=Z}}catch(be){Q=!0,ae=be}finally{try{W||L.return==null||L.return()}finally{if(Q)throw ae}}}finally{A.unbindShader(),this._doStroke=x,this.drawMode=b,E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),o.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return o}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)})}),Wo={};rs(Wo,{default:()=>Cr});var ns=Vo(Ho());os(Wo,Vo(Ho()));var{default:zo,...ss}=ns,Cr=zo!==void 0?zo:ss;var is=window;var or=T(()=>is,"getGlobalP5");function qo(De,ke=or()){return ke.color(ke.red(De),ke.green(De),ke.blue(De),ke.alpha(De))}T(qo,"copyColor");var as=Object.create,Vr=Object.defineProperty,ls=Object.getOwnPropertyDescriptor,us=Object.getOwnPropertyNames,cs=Object.getPrototypeOf,ds=Object.prototype.hasOwnProperty,hs=T((De,ke)=>()=>(ke||De((ke={exports:{}}).exports,ke),ke.exports),"J"),fs=T((De,ke)=>{for(var Oe in ke)Vr(De,Oe,{get:ke[Oe],enumerable:!0})},"K"),zr=T((De,ke,Oe,Ze)=>{if(ke&&typeof ke=="object"||typeof ke=="function")for(let Je of us(ke))!ds.call(De,Je)&&Je!==Oe&&Vr(De,Je,{get:()=>ke[Je],enumerable:!(Ze=ls(ke,Je))||Ze.enumerable});return De},"I"),ps=T((De,ke,Oe)=>(zr(De,ke,"default"),Oe&&zr(Oe,ke,"default")),"T"),Yo=T((De,ke,Oe)=>(Oe=De!=null?as(cs(De)):{},zr(ke||!De||!De.__esModule?Vr(Oe,"default",{value:De,enumerable:!0}):Oe,De)),"G"),Zo=hs((De,ke)=>{(function(){var Oe,Ze=[].slice;Oe=function(){var Je,t,Y,k,v,p;for(v=Array.isArray||function(h){return{}.toString.call(h)==="[object Array]"},d.SCHEMES={},k="mono monochromatic contrast triade tetrade analogic".split(/\s+/),t=0,Y=k.length;t<Y;t++)p=k[t],d.SCHEMES[p]=!0;d.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},d.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]};function d(){var h,m;for(h=[],m=1;m<=4;m++)h.push(new d.mutablecolor(60));this.col=h,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return T(d,"h"),d.prototype.colors=function(){var h,m,f,r,s,l,i,n,u;if(u=1,m=this.col[0].get_hue(),h={mono:function(a){return function(){}}(this),contrast:function(a){return function(){return u=2,a.col[1].set_hue(m),a.col[1].rotate(180)}}(this),triade:function(a){return function(){var o;return u=3,o=60*a._distance,a.col[1].set_hue(m),a.col[1].rotate(180-o),a.col[2].set_hue(m),a.col[2].rotate(180+o)}}(this),tetrade:function(a){return function(){var o;return u=4,o=90*a._distance,a.col[1].set_hue(m),a.col[1].rotate(180),a.col[2].set_hue(m),a.col[2].rotate(180+o),a.col[3].set_hue(m),a.col[3].rotate(o)}}(this),analogic:function(a){return function(){var o;return u=a._add_complement?4:3,o=60*a._distance,a.col[1].set_hue(m),a.col[1].rotate(o),a.col[2].set_hue(m),a.col[2].rotate(360-o),a.col[3].set_hue(m),a.col[3].rotate(180)}}(this)},h.monochromatic=h.mono,h[this._scheme]!=null)h[this._scheme]();else throw"Unknown color scheme name: "+this._scheme;for(i=[],f=s=0,n=u-1;0<=n?s<=n:s>=n;f=0<=n?++s:--s)for(r=l=0;l<=3;r=++l)i[f*4+r]=this.col[f].get_hex(this._web_safe,r);return i},d.prototype.colorset=function(){var h,m;for(h=Je(this.colors()),m=[];h.length>0;)m.push(h.splice(0,4));return m},d.prototype.from_hue=function(h){if(h==null)throw"from_hue needs an argument";return this.col[0].set_hue(h),this},d.prototype.rgb2ryb=function(){var h,m,f,r,s,l,i,n,u;return i=1<=arguments.length?Ze.call(arguments,0):[],i[0]!=null&&v(i[0])&&(i=i[0]),l=i[0],m=i[1],h=i[2],n=Math.min(l,m,h),l-=n,m-=n,h-=n,r=Math.max(l,m,h),u=Math.min(l,m),l-=u,m-=u,h>0&&m>0&&(h/=2,m/=2),u+=m,h+=m,s=Math.max(l,u,h),s>0&&(f=r/s,l*=f,u*=f,h*=f),l+=n,u+=n,h+=n,[Math.floor(l),Math.floor(u),Math.floor(h)]},d.prototype.rgb2hsv=function(){var h,m,f,r,s,l,i,n,u,a;if(n=1<=arguments.length?Ze.call(arguments,0):[],n[0]!=null&&v(n[0])&&(n=n[0]),i=n[0],f=n[1],h=n[2],i/=255,f/=255,h/=255,l=Math.min.apply(Math,[i,f,h]),s=Math.max.apply(Math,[i,f,h]),m=s-l,a=s,m>0)u=m/s;else return[0,0,a];return r=i===s?(f-h)/m:f===s?2+(h-i)/m:4+(i-f)/m,r*=60,r%=360,[r,u,a]},d.prototype.rgbToHsv=function(){var h,m,f,r,s,l,i,n,u,a;if(n=1<=arguments.length?Ze.call(arguments,0):[],n[0]!=null&&v(n[0])&&(n=n[0]),i=n[0],f=n[1],h=n[2],i/=255,f/=255,h/=255,s=Math.max(i,f,h),l=Math.min(i,f,h),r=void 0,u=void 0,a=s,m=s-l,u=s===0?0:m/s,s===l)r=0;else{switch(s){case i:r=(f-h)/m+(f<h?6:0);break;case f:r=(h-i)/m+2;break;case h:r=(i-f)/m+4}r/=6}return[r,u,a]},d.prototype.from_hex=function(h){var m,f,r,s,l,i,n,u,a,o,c,y,_,x,b,w;if(h==null)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(h))throw"from_hex("+h+") - argument must be in the form of RRGGBB";return x=/(..)(..)(..)/.exec(h).slice(1,4),y=function(){var M,E,A;for(A=[],E=0,M=x.length;E<M;E++)o=x[E],A.push(parseInt(o,16));return A}(),c=y[0],f=y[1],m=y[2],_=this.rgb2ryb([c,f,m]),c=_[0],f=_[1],m=_[2],n=this.rgbToHsv(c,f,m),s=n[0],l=0,i=1e3,u=null,a=null,r=null,b=null,w=null,r=n[0],b=n[1],w=n[2],this.from_hue(r*360),this._set_variant_preset([b,w,b,w*.7,b*.25,1,b*.5,1]),this},d.prototype.add_complement=function(h){if(h==null)throw"add_complement needs an argument";return this._add_complement=h,this},d.prototype.web_safe=function(h){if(h==null)throw"web_safe needs an argument";return this._web_safe=h,this},d.prototype.distance=function(h){if(h==null)throw"distance needs an argument";if(h<0)throw"distance("+h+") - argument must be >= 0";if(h>1)throw"distance("+h+") - argument must be <= 1";return this._distance=h,this},d.prototype.scheme=function(h){if(h==null)return this._scheme;if(d.SCHEMES[h]==null)throw"'"+h+"' isn't a valid scheme name";return this._scheme=h,this},d.prototype.variation=function(h){if(h==null)throw"variation needs an argument";if(d.PRESETS[h]==null)throw"'$v' isn't a valid variation name";return this._set_variant_preset(d.PRESETS[h]),this},d.prototype._set_variant_preset=function(h){var m,f,r;for(r=[],m=f=0;f<=3;m=++f)r.push(this.col[m].set_variant_preset(h));return r},Je=T(function(h){var m,f,r;if(h==null||typeof h!="object")return h;if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp)return m="",h.global!=null&&(m+="g"),h.ignoreCase!=null&&(m+="i"),h.multiline!=null&&(m+="m"),h.sticky!=null&&(m+="y"),new RegExp(h.source,m);r=new h.constructor;for(f in h)r[f]=Je(h[f]);return r},"m"),d.mutablecolor=function(){h.prototype.hue=0,h.prototype.saturation=[],h.prototype.value=[],h.prototype.base_red=0,h.prototype.base_green=0,h.prototype.base_saturation=0,h.prototype.base_value=0;function h(m){if(m==null)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(m),this.set_variant_preset(d.PRESETS.default)}return T(h,"t"),h.prototype.get_hue=function(){return this.hue},h.prototype.set_hue=function(m){var f,r,s,l,i,n,u,a,o,c;f=T(function(y,_,x){return y+Math.round((_-y)*x)},"r"),this.hue=Math.round(m%360),i=this.hue%15+(this.hue-Math.floor(this.hue)),c=i/15,n=this.hue-Math.floor(i),u=(n+15)%360,n===360&&(n=0),u===360&&(u=0),s=d.COLOR_WHEEL[n],l=d.COLOR_WHEEL[u],a={red:0,green:1,blue:2,value:3};for(r in a)o=a[r],this["base_"+r]=f(s[o],l[o],c);return this.base_saturation=f(100,100,c)/100,this.base_value/=100},h.prototype.rotate=function(m){var f;return f=(this.hue+m)%360,this.set_hue(f)},h.prototype.get_saturation=function(m){var f,r;return r=this.saturation[m],f=r<0?-r*this.base_saturation:r,f>1&&(f=1),f<0&&(f=0),f},h.prototype.get_value=function(m){var f,r;return r=this.value[m],f=r<0?-r*this.base_value:r,f>1&&(f=1),f<0&&(f=0),f},h.prototype.set_variant=function(m,f,r){return this.saturation[m]=f,this.value[m]=r},h.prototype.set_variant_preset=function(m){var f,r,s;for(s=[],f=r=0;r<=3;f=++r)s.push(this.set_variant(f,m[2*f],m[2*f+1]));return s},h.prototype.get_hex=function(m,f){var r,s,l,i,n,u,a,o,c,y,_,x,b,w,M,E,A;for(c=Math.max.apply(Math,function(){var C,I,F,R;for(F=["red","green","blue"],R=[],I=0,C=F.length;I<C;I++)s=F[I],R.push(this["base_"+s]);return R}.call(this)),y=Math.min.apply(Math,function(){var C,I,F,R;for(F=["red","green","blue"],R=[],I=0,C=F.length;I<C;I++)s=F[I],R.push(this["base_"+s]);return R}.call(this)),A=(f<0?this.base_value:this.get_value(f))*255,M=f<0?this.base_saturation:this.get_saturation(f),n=c>0?A/c:0,b=[],x=["red","green","blue"],o=0,u=x.length;o<u;o++)s=x[o],w=Math.min.apply(Math,[255,Math.round(A-(A-this["base_"+s]*n)*M)]),b.push(w);for(m&&(b=function(){var C,I,F;for(F=[],I=0,C=b.length;I<C;I++)r=b[I],F.push(Math.round(r/51)*51);return F}()),l="",_=0,a=b.length;_<a;_++)i=b[_],E=i.toString(16),E.length<2&&(E="0"+E),l+=E;return l},h}(),d}(),typeof ke<"u"&&ke!==null&&ke.exports!=null?ke.exports=Oe:typeof define=="function"&&define.amd?define([],function(){return Oe}):window.ColorScheme=Oe}).call(De)}),Ko={};fs(Ko,{default:()=>Ar});var ms=Yo(Zo());ps(Ko,Yo(Zo()));var{default:Xo,...ys}=ms,Ar=Xo!==void 0?Xo:ys;var bt={ALL_SCHEMES:["mono","contrast","triade","tetrade","analogic"],ALL_VARIATIONS:["default","pastel","soft","light","hard","pale"],p5:null,index:0,colors:[],configured:!1,savedConfig:null,configure(De={}){bt.p5=De.p5??or();let{hue:ke=bt.p5.floor(bt.p5.random(0,360)),variation:Oe=bt.p5.random([...bt.ALL_VARIATIONS]),scheme:Ze=bt.p5.random([...bt.ALL_SCHEMES]),distance:Je=bt.p5.random(0,1)}=De;console.log("Palette config:"),console.log({hue:ke,variation:Oe,scheme:Ze,distance:Je}),bt.colors=new Ar().from_hue(ke).distance(Je).scheme(Ze).variation(Oe).colors().map(t=>`#${t}`),bt.colors=bt.p5.shuffle(bt.colors),bt.configured=!0,bt.savedConfig={...De}},reload(){bt.prepare(),bt.configure(bt.savedConfig)},prepare(){bt.configured||bt.configure()},nextColor(){return bt.prepare(),bt.p5.color(bt.colors[bt.index++%bt.colors.length])},intToColor(De){return bt.prepare(),bt.p5.color(bt.colors[Math.floor(De)%bt.colors.length])},peekNextColor(){return bt.prepare(),bt.p5.color(bt.colors[(bt.index+1)%bt.colors.length])},allColors(){return bt.prepare(),bt.colors.map(De=>bt.p5.color(De))},colorCount(){return bt.prepare(),bt.colors.length}};var qr={};Go(qr,{byteLength:()=>rn,default:()=>sn,fromByteArray:()=>nn,toByteArray:()=>on});var gs=Object.create,Wr=Object.defineProperty,vs=Object.getOwnPropertyDescriptor,bs=Object.getOwnPropertyNames,ws=Object.getPrototypeOf,xs=Object.prototype.hasOwnProperty,_s=T((De,ke)=>()=>(ke||De((ke={exports:{}}).exports,ke),ke.exports),"H"),js=T((De,ke)=>{for(var Oe in ke)Wr(De,Oe,{get:ke[Oe],enumerable:!0})},"U"),Hr=T((De,ke,Oe,Ze)=>{if(ke&&typeof ke=="object"||typeof ke=="function")for(let Je of bs(ke))!xs.call(De,Je)&&Je!==Oe&&Wr(De,Je,{get:()=>ke[Je],enumerable:!(Ze=vs(ke,Je))||Ze.enumerable});return De},"A"),Ss=T((De,ke,Oe)=>(Hr(De,ke,"default"),Oe&&Hr(Oe,ke,"default")),"u"),$o=T((De,ke,Oe)=>(Oe=De!=null?gs(ws(De)):{},Hr(ke||!De||!De.__esModule?Wr(Oe,"default",{value:De,enumerable:!0}):Oe,De)),"C"),Jo=_s(De=>{"use strict";De.byteLength=v,De.toByteArray=d,De.fromByteArray=f;var ke=[],Oe=[],Ze=typeof Uint8Array<"u"?Uint8Array:Array,Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,Y=Je.length;t<Y;++t)ke[t]=Je[t],Oe[Je.charCodeAt(t)]=t;var t,Y;Oe[45]=62,Oe[95]=63;function k(r){var s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=r.indexOf("=");l===-1&&(l=s);var i=l===s?0:4-l%4;return[l,i]}T(k,"g");function v(r){var s=k(r),l=s[0],i=s[1];return(l+i)*3/4-i}T(v,"I");function p(r,s,l){return(s+l)*3/4-l}T(p,"O");function d(r){var s,l=k(r),i=l[0],n=l[1],u=new Ze(p(r,i,n)),a=0,o=n>0?i-4:i,c;for(c=0;c<o;c+=4)s=Oe[r.charCodeAt(c)]<<18|Oe[r.charCodeAt(c+1)]<<12|Oe[r.charCodeAt(c+2)]<<6|Oe[r.charCodeAt(c+3)],u[a++]=s>>16&255,u[a++]=s>>8&255,u[a++]=s&255;return n===2&&(s=Oe[r.charCodeAt(c)]<<2|Oe[r.charCodeAt(c+1)]>>4,u[a++]=s&255),n===1&&(s=Oe[r.charCodeAt(c)]<<10|Oe[r.charCodeAt(c+1)]<<4|Oe[r.charCodeAt(c+2)]>>2,u[a++]=s>>8&255,u[a++]=s&255),u}T(d,"T");function h(r){return ke[r>>18&63]+ke[r>>12&63]+ke[r>>6&63]+ke[r&63]}T(h,"q");function m(r,s,l){for(var i,n=[],u=s;u<l;u+=3)i=(r[u]<<16&16711680)+(r[u+1]<<8&65280)+(r[u+2]&255),n.push(h(i));return n.join("")}T(m,"z");function f(r){for(var s,l=r.length,i=l%3,n=[],u=16383,a=0,o=l-i;a<o;a+=u)n.push(m(r,a,a+u>o?o:a+u));return i===1?(s=r[l-1],n.push(ke[s>>2]+ke[s<<4&63]+"==")):i===2&&(s=(r[l-2]<<8)+r[l-1],n.push(ke[s>>10]+ke[s>>4&63]+ke[s<<2&63]+"=")),n.join("")}T(f,"D")}),en={};js(en,{byteLength:()=>rn,default:()=>sn,fromByteArray:()=>nn,toByteArray:()=>on});var tn=$o(Jo());Ss(en,$o(Jo()));var{byteLength:rn,toByteArray:on,fromByteArray:nn}=tn,{default:Qo,...Es}=tn,sn=Qo!==void 0?Qo:Es;var Zr={};Go(Zr,{default:()=>pn,read:()=>hn,write:()=>fn});var ks=Object.create,Yr=Object.defineProperty,Ts=Object.getOwnPropertyDescriptor,Ms=Object.getOwnPropertyNames,Cs=Object.getPrototypeOf,As=Object.prototype.hasOwnProperty,Os=T((De,ke)=>()=>(ke||De((ke={exports:{}}).exports,ke),ke.exports),"F"),Ps=T((De,ke)=>{for(var Oe in ke)Yr(De,Oe,{get:ke[Oe],enumerable:!0})},"G"),Xr=T((De,ke,Oe,Ze)=>{if(ke&&typeof ke=="object"||typeof ke=="function")for(let Je of Ms(ke))!As.call(De,Je)&&Je!==Oe&&Yr(De,Je,{get:()=>ke[Je],enumerable:!(Ze=Ts(ke,Je))||Ze.enumerable});return De},"e"),Ls=T((De,ke,Oe)=>(Xr(De,ke,"default"),Oe&&Xr(Oe,ke,"default")),"_"),ln=T((De,ke,Oe)=>(Oe=De!=null?ks(Cs(De)):{},Xr(ke||!De||!De.__esModule?Yr(Oe,"default",{value:De,enumerable:!0}):Oe,De)),"B"),un=Os(De=>{De.read=function(ke,Oe,Ze,Je,t){var Y,k,v=t*8-Je-1,p=(1<<v)-1,d=p>>1,h=-7,m=Ze?t-1:0,f=Ze?-1:1,r=ke[Oe+m];for(m+=f,Y=r&(1<<-h)-1,r>>=-h,h+=v;h>0;Y=Y*256+ke[Oe+m],m+=f,h-=8);for(k=Y&(1<<-h)-1,Y>>=-h,h+=Je;h>0;k=k*256+ke[Oe+m],m+=f,h-=8);if(Y===0)Y=1-d;else{if(Y===p)return k?NaN:(r?-1:1)*(1/0);k=k+Math.pow(2,Je),Y=Y-d}return(r?-1:1)*k*Math.pow(2,Y-Je)},De.write=function(ke,Oe,Ze,Je,t,Y){var k,v,p,d=Y*8-t-1,h=(1<<d)-1,m=h>>1,f=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,r=Je?0:Y-1,s=Je?1:-1,l=Oe<0||Oe===0&&1/Oe<0?1:0;for(Oe=Math.abs(Oe),isNaN(Oe)||Oe===1/0?(v=isNaN(Oe)?1:0,k=h):(k=Math.floor(Math.log(Oe)/Math.LN2),Oe*(p=Math.pow(2,-k))<1&&(k--,p*=2),k+m>=1?Oe+=f/p:Oe+=f*Math.pow(2,1-m),Oe*p>=2&&(k++,p/=2),k+m>=h?(v=0,k=h):k+m>=1?(v=(Oe*p-1)*Math.pow(2,t),k=k+m):(v=Oe*Math.pow(2,m-1)*Math.pow(2,t),k=0));t>=8;ke[Ze+r]=v&255,r+=s,v/=256,t-=8);for(k=k<<t|v,d+=t;d>0;ke[Ze+r]=k&255,r+=s,k/=256,d-=8);ke[Ze+r-s]|=l*128}}),cn={};Ps(cn,{default:()=>pn,read:()=>hn,write:()=>fn});var dn=ln(un());Ls(cn,ln(un()));var{read:hn,write:fn}=dn,{default:an,...Ds}=dn,pn=an!==void 0?an:Ds;var hr=T(De=>{let ke=T(Ze=>typeof Ze.default<"u"?Ze.default:Ze,"e"),Oe=T(Ze=>Object.assign({},Ze),"c");switch(De){case"base64-js":return ke(qr);case"ieee754":return ke(Zr);default:throw new Error('module "'+De+'" not found')}},"require"),Is=Object.create,Qr=Object.defineProperty,Rs=Object.getOwnPropertyDescriptor,Bs=Object.getOwnPropertyNames,Fs=Object.getPrototypeOf,Us=Object.prototype.hasOwnProperty,mn=(De=>typeof hr<"u"?hr:typeof Proxy<"u"?new Proxy(De,{get:(ke,Oe)=>(typeof hr<"u"?hr:ke)[Oe]}):De)(function(De){if(typeof hr<"u")return hr.apply(this,arguments);throw Error('Dynamic require of "'+De+'" is not supported')}),Ns=T((De,ke)=>()=>(ke||De((ke={exports:{}}).exports,ke),ke.exports),"pr"),Gs=T((De,ke)=>{for(var Oe in ke)Qr(De,Oe,{get:ke[Oe],enumerable:!0})},"lr"),Kr=T((De,ke,Oe,Ze)=>{if(ke&&typeof ke=="object"||typeof ke=="function")for(let Je of Bs(ke))!Us.call(De,Je)&&Je!==Oe&&Qr(De,Je,{get:()=>ke[Je],enumerable:!(Ze=Rs(ke,Je))||Ze.enumerable});return De},"_"),zs=T((De,ke,Oe)=>(Kr(De,ke,"default"),Oe&&Kr(Oe,ke,"default")),"m"),gn=T((De,ke,Oe)=>(Oe=De!=null?Is(Fs(De)):{},Kr(ke||!De||!De.__esModule?Qr(Oe,"default",{value:De,enumerable:!0}):Oe,De)),"G"),vn=Ns(De=>{"use strict";var ke=mn("base64-js"),Oe=mn("ieee754"),Ze=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;De.Buffer=k,De.SlowBuffer=n,De.INSPECT_MAX_BYTES=50;var Je=2147483647;De.kMaxLength=Je,k.TYPED_ARRAY_SUPPORT=t(),!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{let B=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(B,H),B.foo()===42}catch{return!1}}T(t,"sr"),Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function Y(B){if(B>Je)throw new RangeError('The value "'+B+'" is invalid for option "size"');let H=new Uint8Array(B);return Object.setPrototypeOf(H,k.prototype),H}T(Y,"x");function k(B,H,X){if(typeof B=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(B)}return v(B,H,X)}T(k,"u"),k.poolSize=8192;function v(B,H,X){if(typeof B=="string")return m(B,H);if(ArrayBuffer.isView(B))return r(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(we(B,ArrayBuffer)||B&&we(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(B,SharedArrayBuffer)||B&&we(B.buffer,SharedArrayBuffer)))return s(B,H,X);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let te=B.valueOf&&B.valueOf();if(te!=null&&te!==B)return k.from(te,H,X);let pe=l(B);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return k.from(B[Symbol.toPrimitive]("string"),H,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}T(v,"V"),k.from=function(B,H,X){return v(B,H,X)},Object.setPrototypeOf(k.prototype,Uint8Array.prototype),Object.setPrototypeOf(k,Uint8Array);function p(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}T(p,"j");function d(B,H,X){return p(B),B<=0?Y(B):H!==void 0?typeof X=="string"?Y(B).fill(H,X):Y(B).fill(H):Y(B)}T(d,"yr"),k.alloc=function(B,H,X){return d(B,H,X)};function h(B){return p(B),Y(B<0?0:i(B)|0)}T(h,"N"),k.allocUnsafe=function(B){return h(B)},k.allocUnsafeSlow=function(B){return h(B)};function m(B,H){if((typeof H!="string"||H==="")&&(H="utf8"),!k.isEncoding(H))throw new TypeError("Unknown encoding: "+H);let X=u(B,H)|0,te=Y(X),pe=te.write(B,H);return pe!==X&&(te=te.slice(0,pe)),te}T(m,"wr");function f(B){let H=B.length<0?0:i(B.length)|0,X=Y(H);for(let te=0;te<H;te+=1)X[te]=B[te]&255;return X}T(f,"b");function r(B){if(we(B,Uint8Array)){let H=new Uint8Array(B);return s(H.buffer,H.byteOffset,H.byteLength)}return f(B)}T(r,"ar");function s(B,H,X){if(H<0||B.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<H+(X||0))throw new RangeError('"length" is outside of buffer bounds');let te;return H===void 0&&X===void 0?te=new Uint8Array(B):X===void 0?te=new Uint8Array(B,H):te=new Uint8Array(B,H,X),Object.setPrototypeOf(te,k.prototype),te}T(s,"L");function l(B){if(k.isBuffer(B)){let H=i(B.length)|0,X=Y(H);return X.length===0||B.copy(X,0,0,H),X}if(B.length!==void 0)return typeof B.length!="number"||ve(B.length)?Y(0):f(B);if(B.type==="Buffer"&&Array.isArray(B.data))return f(B.data)}T(l,"xr");function i(B){if(B>=Je)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Je.toString(16)+" bytes");return B|0}T(i,"$");function n(B){return+B!=B&&(B=0),k.alloc(+B)}T(n,"Br"),k.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==k.prototype},k.compare=function(B,H){if(we(B,Uint8Array)&&(B=k.from(B,B.offset,B.byteLength)),we(H,Uint8Array)&&(H=k.from(H,H.offset,H.byteLength)),!k.isBuffer(B)||!k.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===H)return 0;let X=B.length,te=H.length;for(let pe=0,le=Math.min(X,te);pe<le;++pe)if(B[pe]!==H[pe]){X=B[pe],te=H[pe];break}return X<te?-1:te<X?1:0},k.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(B,H){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return k.alloc(0);let X;if(H===void 0)for(H=0,X=0;X<B.length;++X)H+=B[X].length;let te=k.allocUnsafe(H),pe=0;for(X=0;X<B.length;++X){let le=B[X];if(we(le,Uint8Array))pe+le.length>te.length?(k.isBuffer(le)||(le=k.from(le)),le.copy(te,pe)):Uint8Array.prototype.set.call(te,le,pe);else if(k.isBuffer(le))le.copy(te,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=le.length}return te};function u(B,H){if(k.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||we(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);let X=B.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&X===0)return 0;let pe=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return xe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return Me(B).length;default:if(pe)return te?-1:xe(B).length;H=(""+H).toLowerCase(),pe=!0}}T(u,"z"),k.byteLength=u;function a(B,H,X){let te=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0,H>>>=0,X<=H))return"";for(B||(B="utf8");;)switch(B){case"hex":return U(this,H,X);case"utf8":case"utf-8":return A(this,H,X);case"ascii":return F(this,H,X);case"latin1":case"binary":return R(this,H,X);case"base64":return E(this,H,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,H,X);default:if(te)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),te=!0}}T(a,"Er"),k.prototype._isBuffer=!0;function o(B,H,X){let te=B[H];B[H]=B[X],B[X]=te}T(o,"g"),k.prototype.swap16=function(){let B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<B;H+=2)o(this,H,H+1);return this},k.prototype.swap32=function(){let B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<B;H+=4)o(this,H,H+3),o(this,H+1,H+2);return this},k.prototype.swap64=function(){let B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<B;H+=8)o(this,H,H+7),o(this,H+1,H+6),o(this,H+2,H+5),o(this,H+3,H+4);return this},k.prototype.toString=function(){let B=this.length;return B===0?"":arguments.length===0?A(this,0,B):a.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function(B){if(!k.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:k.compare(this,B)===0},k.prototype.inspect=function(){let B="",H=De.INSPECT_MAX_BYTES;return B=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(B+=" ... "),"<Buffer "+B+">"},Ze&&(k.prototype[Ze]=k.prototype.inspect),k.prototype.compare=function(B,H,X,te,pe){if(we(B,Uint8Array)&&(B=k.from(B,B.offset,B.byteLength)),!k.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(H===void 0&&(H=0),X===void 0&&(X=B?B.length:0),te===void 0&&(te=0),pe===void 0&&(pe=this.length),H<0||X>B.length||te<0||pe>this.length)throw new RangeError("out of range index");if(te>=pe&&H>=X)return 0;if(te>=pe)return-1;if(H>=X)return 1;if(H>>>=0,X>>>=0,te>>>=0,pe>>>=0,this===B)return 0;let le=pe-te,$=X-H,ne=Math.min(le,$),J=this.slice(te,pe),de=B.slice(H,X);for(let Te=0;Te<ne;++Te)if(J[Te]!==de[Te]){le=J[Te],$=de[Te];break}return le<$?-1:$<le?1:0};function c(B,H,X,te,pe){if(B.length===0)return-1;if(typeof X=="string"?(te=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,ve(X)&&(X=pe?0:B.length-1),X<0&&(X=B.length+X),X>=B.length){if(pe)return-1;X=B.length-1}else if(X<0)if(pe)X=0;else return-1;if(typeof H=="string"&&(H=k.from(H,te)),k.isBuffer(H))return H.length===0?-1:y(B,H,X,te,pe);if(typeof H=="number")return H=H&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(B,H,X):Uint8Array.prototype.lastIndexOf.call(B,H,X):y(B,[H],X,te,pe);throw new TypeError("val must be string, number or Buffer")}T(c,"H");function y(B,H,X,te,pe){let le=1,$=B.length,ne=H.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(B.length<2||H.length<2)return-1;le=2,$/=2,ne/=2,X/=2}function J(Te,me){return le===1?Te[me]:Te.readUInt16BE(me*le)}T(J,"l");let de;if(pe){let Te=-1;for(de=X;de<$;de++)if(J(B,de)===J(H,Te===-1?0:de-Te)){if(Te===-1&&(Te=de),de-Te+1===ne)return Te*le}else Te!==-1&&(de-=de-Te),Te=-1}else for(X+ne>$&&(X=$-ne),de=X;de>=0;de--){let Te=!0;for(let me=0;me<ne;me++)if(J(B,de+me)!==J(H,me)){Te=!1;break}if(Te)return de}return-1}T(y,"q"),k.prototype.includes=function(B,H,X){return this.indexOf(B,H,X)!==-1},k.prototype.indexOf=function(B,H,X){return c(this,B,H,X,!0)},k.prototype.lastIndexOf=function(B,H,X){return c(this,B,H,X,!1)};function _(B,H,X,te){X=Number(X)||0;let pe=B.length-X;te?(te=Number(te),te>pe&&(te=pe)):te=pe;let le=H.length;te>le/2&&(te=le/2);let $;for($=0;$<te;++$){let ne=parseInt(H.substr($*2,2),16);if(ve(ne))return $;B[X+$]=ne}return $}T(_,"mr");function x(B,H,X,te){return q(xe(H,B.length-X),B,X,te)}T(x,"gr");function b(B,H,X,te){return q(Se(H),B,X,te)}T(b,"Ir");function w(B,H,X,te){return q(Me(H),B,X,te)}T(w,"dr");function M(B,H,X,te){return q(Ie(H,B.length-X),B,X,te)}T(M,"Fr"),k.prototype.write=function(B,H,X,te){if(H===void 0)te="utf8",X=this.length,H=0;else if(X===void 0&&typeof H=="string")te=H,X=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(X)?(X=X>>>0,te===void 0&&(te="utf8")):(te=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let pe=this.length-H;if((X===void 0||X>pe)&&(X=pe),B.length>0&&(X<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let le=!1;for(;;)switch(te){case"hex":return _(this,B,H,X);case"utf8":case"utf-8":return x(this,B,H,X);case"ascii":case"latin1":case"binary":return b(this,B,H,X);case"base64":return w(this,B,H,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,B,H,X);default:if(le)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),le=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(B,H,X){return H===0&&X===B.length?ke.fromByteArray(B):ke.fromByteArray(B.slice(H,X))}T(E,"Ur");function A(B,H,X){X=Math.min(B.length,X);let te=[],pe=H;for(;pe<X;){let le=B[pe],$=null,ne=le>239?4:le>223?3:le>191?2:1;if(pe+ne<=X){let J,de,Te,me;switch(ne){case 1:le<128&&($=le);break;case 2:J=B[pe+1],(J&192)===128&&(me=(le&31)<<6|J&63,me>127&&($=me));break;case 3:J=B[pe+1],de=B[pe+2],(J&192)===128&&(de&192)===128&&(me=(le&15)<<12|(J&63)<<6|de&63,me>2047&&(me<55296||me>57343)&&($=me));break;case 4:J=B[pe+1],de=B[pe+2],Te=B[pe+3],(J&192)===128&&(de&192)===128&&(Te&192)===128&&(me=(le&15)<<18|(J&63)<<12|(de&63)<<6|Te&63,me>65535&&me<1114112&&($=me))}}$===null?($=65533,ne=1):$>65535&&($-=65536,te.push($>>>10&1023|55296),$=56320|$&1023),te.push($),pe+=ne}return I(te)}T(A,"J");var C=4096;function I(B){let H=B.length;if(H<=C)return String.fromCharCode.apply(String,B);let X="",te=0;for(;te<H;)X+=String.fromCharCode.apply(String,B.slice(te,te+=C));return X}T(I,"Ar");function F(B,H,X){let te="";X=Math.min(B.length,X);for(let pe=H;pe<X;++pe)te+=String.fromCharCode(B[pe]&127);return te}T(F,"Rr");function R(B,H,X){let te="";X=Math.min(B.length,X);for(let pe=H;pe<X;++pe)te+=String.fromCharCode(B[pe]);return te}T(R,"Tr");function U(B,H,X){let te=B.length;(!H||H<0)&&(H=0),(!X||X<0||X>te)&&(X=te);let pe="";for(let le=H;le<X;++le)pe+=re[B[le]];return pe}T(U,"_r");function z(B,H,X){let te=B.slice(H,X),pe="";for(let le=0;le<te.length-1;le+=2)pe+=String.fromCharCode(te[le]+te[le+1]*256);return pe}T(z,"Sr"),k.prototype.slice=function(B,H){let X=this.length;B=~~B,H=H===void 0?X:~~H,B<0?(B+=X,B<0&&(B=0)):B>X&&(B=X),H<0?(H+=X,H<0&&(H=0)):H>X&&(H=X),H<B&&(H=B);let te=this.subarray(B,H);return Object.setPrototypeOf(te,k.prototype),te};function P(B,H,X){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+H>X)throw new RangeError("Trying to access beyond buffer length")}T(P,"y"),k.prototype.readUintLE=k.prototype.readUIntLE=function(B,H,X){B=B>>>0,H=H>>>0,X||P(B,H,this.length);let te=this[B],pe=1,le=0;for(;++le<H&&(pe*=256);)te+=this[B+le]*pe;return te},k.prototype.readUintBE=k.prototype.readUIntBE=function(B,H,X){B=B>>>0,H=H>>>0,X||P(B,H,this.length);let te=this[B+--H],pe=1;for(;H>0&&(pe*=256);)te+=this[B+--H]*pe;return te},k.prototype.readUint8=k.prototype.readUInt8=function(B,H){return B=B>>>0,H||P(B,1,this.length),this[B]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(B,H){return B=B>>>0,H||P(B,2,this.length),this[B]|this[B+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(B,H){return B=B>>>0,H||P(B,2,this.length),this[B]<<8|this[B+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(B,H){return B=B>>>0,H||P(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(B,H){return B=B>>>0,H||P(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},k.prototype.readBigUInt64LE=fe(function(B){B=B>>>0,ue(B,"offset");let H=this[B],X=this[B+7];(H===void 0||X===void 0)&&be(B,this.length-8);let te=H+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,pe=this[++B]+this[++B]*2**8+this[++B]*2**16+X*2**24;return BigInt(te)+(BigInt(pe)<<BigInt(32))}),k.prototype.readBigUInt64BE=fe(function(B){B=B>>>0,ue(B,"offset");let H=this[B],X=this[B+7];(H===void 0||X===void 0)&&be(B,this.length-8);let te=H*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],pe=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+X;return(BigInt(te)<<BigInt(32))+BigInt(pe)}),k.prototype.readIntLE=function(B,H,X){B=B>>>0,H=H>>>0,X||P(B,H,this.length);let te=this[B],pe=1,le=0;for(;++le<H&&(pe*=256);)te+=this[B+le]*pe;return pe*=128,te>=pe&&(te-=Math.pow(2,8*H)),te},k.prototype.readIntBE=function(B,H,X){B=B>>>0,H=H>>>0,X||P(B,H,this.length);let te=H,pe=1,le=this[B+--te];for(;te>0&&(pe*=256);)le+=this[B+--te]*pe;return pe*=128,le>=pe&&(le-=Math.pow(2,8*H)),le},k.prototype.readInt8=function(B,H){return B=B>>>0,H||P(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},k.prototype.readInt16LE=function(B,H){B=B>>>0,H||P(B,2,this.length);let X=this[B]|this[B+1]<<8;return X&32768?X|4294901760:X},k.prototype.readInt16BE=function(B,H){B=B>>>0,H||P(B,2,this.length);let X=this[B+1]|this[B]<<8;return X&32768?X|4294901760:X},k.prototype.readInt32LE=function(B,H){return B=B>>>0,H||P(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},k.prototype.readInt32BE=function(B,H){return B=B>>>0,H||P(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},k.prototype.readBigInt64LE=fe(function(B){B=B>>>0,ue(B,"offset");let H=this[B],X=this[B+7];(H===void 0||X===void 0)&&be(B,this.length-8);let te=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(X<<24);return(BigInt(te)<<BigInt(32))+BigInt(H+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),k.prototype.readBigInt64BE=fe(function(B){B=B>>>0,ue(B,"offset");let H=this[B],X=this[B+7];(H===void 0||X===void 0)&&be(B,this.length-8);let te=(H<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(te)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+X)}),k.prototype.readFloatLE=function(B,H){return B=B>>>0,H||P(B,4,this.length),Oe.read(this,B,!0,23,4)},k.prototype.readFloatBE=function(B,H){return B=B>>>0,H||P(B,4,this.length),Oe.read(this,B,!1,23,4)},k.prototype.readDoubleLE=function(B,H){return B=B>>>0,H||P(B,8,this.length),Oe.read(this,B,!0,52,8)},k.prototype.readDoubleBE=function(B,H){return B=B>>>0,H||P(B,8,this.length),Oe.read(this,B,!1,52,8)};function W(B,H,X,te,pe,le){if(!k.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>pe||H<le)throw new RangeError('"value" argument is out of bounds');if(X+te>B.length)throw new RangeError("Index out of range")}T(W,"w"),k.prototype.writeUintLE=k.prototype.writeUIntLE=function(B,H,X,te){if(B=+B,H=H>>>0,X=X>>>0,!te){let $=Math.pow(2,8*X)-1;W(this,B,H,X,$,0)}let pe=1,le=0;for(this[H]=B&255;++le<X&&(pe*=256);)this[H+le]=B/pe&255;return H+X},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(B,H,X,te){if(B=+B,H=H>>>0,X=X>>>0,!te){let $=Math.pow(2,8*X)-1;W(this,B,H,X,$,0)}let pe=X-1,le=1;for(this[H+pe]=B&255;--pe>=0&&(le*=256);)this[H+pe]=B/le&255;return H+X},k.prototype.writeUint8=k.prototype.writeUInt8=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,1,255,0),this[H]=B&255,H+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,2,65535,0),this[H]=B&255,this[H+1]=B>>>8,H+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,2,65535,0),this[H]=B>>>8,this[H+1]=B&255,H+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,4,4294967295,0),this[H+3]=B>>>24,this[H+2]=B>>>16,this[H+1]=B>>>8,this[H]=B&255,H+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,4,4294967295,0),this[H]=B>>>24,this[H+1]=B>>>16,this[H+2]=B>>>8,this[H+3]=B&255,H+4};function Q(B,H,X,te,pe){ce(H,te,pe,B,X,7);let le=Number(H&BigInt(4294967295));B[X++]=le,le=le>>8,B[X++]=le,le=le>>8,B[X++]=le,le=le>>8,B[X++]=le;let $=Number(H>>BigInt(32)&BigInt(4294967295));return B[X++]=$,$=$>>8,B[X++]=$,$=$>>8,B[X++]=$,$=$>>8,B[X++]=$,X}T(Q,"K");function ae(B,H,X,te,pe){ce(H,te,pe,B,X,7);let le=Number(H&BigInt(4294967295));B[X+7]=le,le=le>>8,B[X+6]=le,le=le>>8,B[X+5]=le,le=le>>8,B[X+4]=le;let $=Number(H>>BigInt(32)&BigInt(4294967295));return B[X+3]=$,$=$>>8,B[X+2]=$,$=$>>8,B[X+1]=$,$=$>>8,B[X]=$,X+8}T(ae,"Z"),k.prototype.writeBigUInt64LE=fe(function(B,H=0){return Q(this,B,H,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=fe(function(B,H=0){return ae(this,B,H,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function(B,H,X,te){if(B=+B,H=H>>>0,!te){let ne=Math.pow(2,8*X-1);W(this,B,H,X,ne-1,-ne)}let pe=0,le=1,$=0;for(this[H]=B&255;++pe<X&&(le*=256);)B<0&&$===0&&this[H+pe-1]!==0&&($=1),this[H+pe]=(B/le>>0)-$&255;return H+X},k.prototype.writeIntBE=function(B,H,X,te){if(B=+B,H=H>>>0,!te){let ne=Math.pow(2,8*X-1);W(this,B,H,X,ne-1,-ne)}let pe=X-1,le=1,$=0;for(this[H+pe]=B&255;--pe>=0&&(le*=256);)B<0&&$===0&&this[H+pe+1]!==0&&($=1),this[H+pe]=(B/le>>0)-$&255;return H+X},k.prototype.writeInt8=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,1,127,-128),B<0&&(B=255+B+1),this[H]=B&255,H+1},k.prototype.writeInt16LE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,2,32767,-32768),this[H]=B&255,this[H+1]=B>>>8,H+2},k.prototype.writeInt16BE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,2,32767,-32768),this[H]=B>>>8,this[H+1]=B&255,H+2},k.prototype.writeInt32LE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,4,2147483647,-2147483648),this[H]=B&255,this[H+1]=B>>>8,this[H+2]=B>>>16,this[H+3]=B>>>24,H+4},k.prototype.writeInt32BE=function(B,H,X){return B=+B,H=H>>>0,X||W(this,B,H,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[H]=B>>>24,this[H+1]=B>>>16,this[H+2]=B>>>8,this[H+3]=B&255,H+4},k.prototype.writeBigInt64LE=fe(function(B,H=0){return Q(this,B,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=fe(function(B,H=0){return ae(this,B,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function j(B,H,X,te,pe,le){if(X+te>B.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}T(j,"Q");function L(B,H,X,te,pe){return H=+H,X=X>>>0,pe||j(B,H,X,4,34028234663852886e22,-34028234663852886e22),Oe.write(B,H,X,te,23,4),X+4}T(L,"v"),k.prototype.writeFloatLE=function(B,H,X){return L(this,B,H,!0,X)},k.prototype.writeFloatBE=function(B,H,X){return L(this,B,H,!1,X)};function G(B,H,X,te,pe){return H=+H,X=X>>>0,pe||j(B,H,X,8,17976931348623157e292,-17976931348623157e292),Oe.write(B,H,X,te,52,8),X+8}T(G,"rr"),k.prototype.writeDoubleLE=function(B,H,X){return G(this,B,H,!0,X)},k.prototype.writeDoubleBE=function(B,H,X){return G(this,B,H,!1,X)},k.prototype.copy=function(B,H,X,te){if(!k.isBuffer(B))throw new TypeError("argument should be a Buffer");if(X||(X=0),!te&&te!==0&&(te=this.length),H>=B.length&&(H=B.length),H||(H=0),te>0&&te<X&&(te=X),te===X||B.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),B.length-H<te-X&&(te=B.length-H+X);let pe=te-X;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(H,X,te):Uint8Array.prototype.set.call(B,this.subarray(X,te),H),pe},k.prototype.fill=function(B,H,X,te){if(typeof B=="string"){if(typeof H=="string"?(te=H,H=0,X=this.length):typeof X=="string"&&(te=X,X=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!k.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(B.length===1){let le=B.charCodeAt(0);(te==="utf8"&&le<128||te==="latin1")&&(B=le)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(H<0||this.length<H||this.length<X)throw new RangeError("Out of range index");if(X<=H)return this;H=H>>>0,X=X===void 0?this.length:X>>>0,B||(B=0);let pe;if(typeof B=="number")for(pe=H;pe<X;++pe)this[pe]=B;else{let le=k.isBuffer(B)?B:k.from(B,te),$=le.length;if($===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(pe=0;pe<X-H;++pe)this[pe+H]=le[pe%$]}return this};var N={};function Z(B,H,X){N[B]=class extends X{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}T(Z,"k"),Z("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(B,H){return`The "${B}" argument must be of type number. Received type ${typeof H}`},TypeError),Z("ERR_OUT_OF_RANGE",function(B,H,X){let te=`The value of "${B}" is out of range.`,pe=X;return Number.isInteger(X)&&Math.abs(X)>2**32?pe=oe(String(X)):typeof X=="bigint"&&(pe=String(X),(X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))&&(pe=oe(pe)),pe+="n"),te+=` It must be ${H}. Received ${pe}`,te},RangeError);function oe(B){let H="",X=B.length,te=B[0]==="-"?1:0;for(;X>=te+4;X-=3)H=`_${B.slice(X-3,X)}${H}`;return`${B.slice(0,X)}${H}`}T(oe,"X");function ie(B,H,X){ue(H,"offset"),(B[H]===void 0||B[H+X]===void 0)&&be(H,B.length-(X+1))}T(ie,"Cr");function ce(B,H,X,te,pe,le){if(B>X||B<H){let $=typeof H=="bigint"?"n":"",ne;throw le>3?H===0||H===BigInt(0)?ne=`>= 0${$} and < 2${$} ** ${(le+1)*8}${$}`:ne=`>= -(2${$} ** ${(le+1)*8-1}${$}) and < 2 ** ${(le+1)*8-1}${$}`:ne=`>= ${H}${$} and <= ${X}${$}`,new N.ERR_OUT_OF_RANGE("value",ne,B)}ie(te,pe,le)}T(ce,"tr");function ue(B,H){if(typeof B!="number")throw new N.ERR_INVALID_ARG_TYPE(H,"number",B)}T(ue,"F");function be(B,H,X){throw Math.floor(B)!==B?(ue(B,X),new N.ERR_OUT_OF_RANGE(X||"offset","an integer",B)):H<0?new N.ERR_BUFFER_OUT_OF_BOUNDS:new N.ERR_OUT_OF_RANGE(X||"offset",`>= ${X?1:0} and <= ${H}`,B)}T(be,"A");var ye=/[^+/0-9A-Za-z-_]/g;function se(B){if(B=B.split("=")[0],B=B.trim().replace(ye,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}T(se,"Lr");function xe(B,H){H=H||1/0;let X,te=B.length,pe=null,le=[];for(let $=0;$<te;++$){if(X=B.charCodeAt($),X>55295&&X<57344){if(!pe){if(X>56319){(H-=3)>-1&&le.push(239,191,189);continue}else if($+1===te){(H-=3)>-1&&le.push(239,191,189);continue}pe=X;continue}if(X<56320){(H-=3)>-1&&le.push(239,191,189),pe=X;continue}X=(pe-55296<<10|X-56320)+65536}else pe&&(H-=3)>-1&&le.push(239,191,189);if(pe=null,X<128){if((H-=1)<0)break;le.push(X)}else if(X<2048){if((H-=2)<0)break;le.push(X>>6|192,X&63|128)}else if(X<65536){if((H-=3)<0)break;le.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((H-=4)<0)break;le.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return le}T(xe,"D");function Se(B){let H=[];for(let X=0;X<B.length;++X)H.push(B.charCodeAt(X)&255);return H}T(Se,"Dr");function Ie(B,H){let X,te,pe,le=[];for(let $=0;$<B.length&&!((H-=2)<0);++$)X=B.charCodeAt($),te=X>>8,pe=X%256,le.push(pe),le.push(te);return le}T(Ie,"Nr");function Me(B){return ke.toByteArray(se(B))}T(Me,"ir");function q(B,H,X,te){let pe;for(pe=0;pe<te&&!(pe+X>=H.length||pe>=B.length);++pe)H[pe+X]=B[pe];return pe}T(q,"T");function we(B,H){return B instanceof H||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===H.name}T(we,"a");function ve(B){return B!==B}T(ve,"P");var re=function(){let B="0123456789abcdef",H=new Array(256);for(let X=0;X<16;++X){let te=X*16;for(let pe=0;pe<16;++pe)H[te+pe]=B[X]+B[pe]}return H}();function fe(B){return typeof BigInt>"u"?ge:B}T(fe,"B");function ge(){throw new Error("BigInt not supported")}T(ge,"kr")}),bn={};Gs(bn,{Buffer:()=>qt,INSPECT_MAX_BYTES:()=>Hs,SlowBuffer:()=>Vs,default:()=>Xs,kMaxLength:()=>Ws});var wn=gn(vn());zs(bn,gn(vn()));var{Buffer:qt,SlowBuffer:Vs,INSPECT_MAX_BYTES:Hs,kMaxLength:Ws}=wn,{default:yn,...qs}=wn,Xs=yn!==void 0?yn:qs;var xn=T((De,...ke)=>setTimeout(De,0,...ke),"__setImmediate$"),Ys=Object.create,Jr=Object.defineProperty,Zs=Object.getOwnPropertyDescriptor,Ks=Object.getOwnPropertyNames,Qs=Object.getPrototypeOf,$s=Object.prototype.hasOwnProperty,_n=(De=>typeof Wt<"u"?Wt:typeof Proxy<"u"?new Proxy(De,{get:(ke,Oe)=>(typeof Wt<"u"?Wt:ke)[Oe]}):De)(function(De){if(typeof Wt<"u")return Wt.apply(this,arguments);throw Error('Dynamic require of "'+De+'" is not supported')}),Js=T((De,ke)=>()=>(ke||De((ke={exports:{}}).exports,ke),ke.exports),"et"),ei=T((De,ke)=>{for(var Oe in ke)Jr(De,Oe,{get:ke[Oe],enumerable:!0})},"tt"),$r=T((De,ke,Oe,Ze)=>{if(ke&&typeof ke=="object"||typeof ke=="function")for(let Je of Ks(ke))!$s.call(De,Je)&&Je!==Oe&&Jr(De,Je,{get:()=>ke[Je],enumerable:!(Ze=Zs(ke,Je))||Ze.enumerable});return De},"Ne"),ti=T((De,ke,Oe)=>($r(De,ke,"default"),Oe&&$r(Oe,ke,"default")),"Me"),Sn=T((De,ke,Oe)=>(Oe=De!=null?Ys(Qs(De)):{},$r(ke||!De||!De.__esModule?Jr(Oe,"default",{value:De,enumerable:!0}):Oe,De)),"Ke"),En=Js((De,ke)=>{(function(Oe,Ze){typeof De=="object"&&typeof ke=="object"?ke.exports=Ze():typeof define=="function"&&define.amd?define([],Ze):typeof De=="object"?De.CanvasCaptureLib=Ze():Oe.CanvasCaptureLib=Ze()})(self,()=>(()=>{var Oe={76:(Y,k,v)=>{let p=v(72),{devDependencies:d}=v(681);Y.exports={corePath:`https://unpkg.com/@ffmpeg/core@${d["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`}},339:(Y,k,v)=>{let p=v(72),d=T(h=>new Promise((m,f)=>{let r=new FileReader;r.onload=()=>{m(r.result)},r.onerror=({target:{error:{code:s}}})=>{f(Error(`File could not be read! Code=${s}`))},r.readAsArrayBuffer(h)}),"B");Y.exports=async h=>{let m=h;return typeof h>"u"?new Uint8Array:(typeof h=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(h)?m=atob(h.split(",")[1]).split("").map(f=>f.charCodeAt(0)):m=await(await fetch(p(h))).arrayBuffer():(h instanceof File||h instanceof Blob)&&(m=await d(h)),new Uint8Array(m))}},440:(Y,k,v)=>{let p=v(72),{log:d}=v(888),h=T(async(m,f)=>{d("info",`fetch ${m}`);let r=await(await fetch(m)).arrayBuffer();d("info",`${m} file size = ${r.byteLength} bytes`);let s=new Blob([r],{type:f}),l=URL.createObjectURL(s);return d("info",`${m} blob URL = ${l}`),l},"_");Y.exports=async({corePath:m})=>{if(typeof m!="string")throw Error("corePath should be a string!");let f=p(m),r=await h(f,"application/javascript"),s=await h(f.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),l=await h(f.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(i=>{let n=document.createElement("script"),u=T(()=>{n.removeEventListener("load",u),d("info","ffmpeg-core.js script loaded"),i({createFFmpegCore,corePath:r,wasmPath:s,workerPath:l})},"l");n.src=r,n.type="text/javascript",n.addEventListener("load",u),document.getElementsByTagName("head")[0].appendChild(n)}):(d("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:r,wasmPath:s,workerPath:l}))}},451:(Y,k,v)=>{let p=v(76),d=v(440),h=v(339);Y.exports={defaultOptions:p,getCreateFFmpegCore:d,fetchFile:h}},617:Y=>{Y.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}},648:(Y,k,v)=>{let{defaultArgs:p,baseOptions:d}=v(617),{setLogging:h,setCustomLogger:m,log:f}=v(888),r=v(405),s=v(10),{defaultOptions:l,getCreateFFmpegCore:i}=v(451),{version:n}=v(681),u=Error("ffmpeg.wasm is not ready, make sure you have completed load().");Y.exports=(a={})=>{let{log:o,logger:c,progress:y,..._}={...d,...l,...a},x=null,b=null,w=null,M=!1,E=y,A=T(Q=>{Q==="FFMPEG_END"&&w!==null&&(w(),w=null,M=!1)},"x"),C=T(({type:Q,message:ae})=>{f(Q,ae),r(ae,E),A(ae)},"O"),I=T(async()=>{if(f("info","load ffmpeg-core"),x===null){f("info","loading ffmpeg-core");let{createFFmpegCore:Q,corePath:ae,workerPath:j,wasmPath:L}=await i(_);x=await Q({mainScriptUrlOrBlob:ae,printErr:G=>C({type:"fferr",message:G}),print:G=>C({type:"ffout",message:G}),locateFile:(G,N)=>{if(typeof window<"u"){if(typeof L<"u"&&G.endsWith("ffmpeg-core.wasm"))return L;if(typeof j<"u"&&G.endsWith("ffmpeg-core.worker.js"))return j}return N+G}}),b=x.cwrap("proxy_main","number",["number","number"]),f("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},"S"),F=T(()=>x!==null,"I"),R=T((...Q)=>{if(f("info",`run ffmpeg command: ${Q.join(" ")}`),x===null)throw u;if(M)throw Error("ffmpeg.wasm can only run one command at a time");return M=!0,new Promise(ae=>{let j=[...p,...Q].filter(L=>L.length!==0);w=ae,b(...s(x,j))})},"V"),U=T((Q,...ae)=>{if(f("info",`run FS.${Q} ${ae.map(j=>typeof j=="string"?j:`<${j.length} bytes binary file>`).join(" ")}`),x===null)throw u;{let j=null;try{j=x.FS[Q](...ae)}catch{throw Error(Q==="readdir"?`ffmpeg.FS('readdir', '${ae[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:Q==="readFile"?`ffmpeg.FS('readFile', '${ae[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return j}},"E"),z=T(()=>{if(x===null)throw u;M=!1,x.exit(1),x=null,b=null,w=null},"j"),P=T(Q=>{E=Q},"s"),W=T(Q=>{m(Q)},"F");return h(o),m(c),f("info",`use ffmpeg.wasm v${n}`),{setProgress:P,setLogger:W,setLogging:h,load:I,isLoaded:F,run:R,exit:z,FS:U}}},888:Y=>{let k=!1,v=T(()=>{},"J"),p=T(m=>{k=m},"g"),d=T(m=>{v=m},"B"),h=T((m,f)=>{v({type:m,message:f}),k&&console.log(`[${m}] ${f}`)},"_");Y.exports={logging:k,setLogging:p,setCustomLogger:d,log:h}},10:Y=>{Y.exports=(k,v)=>{let p=k._malloc(v.length*Uint32Array.BYTES_PER_ELEMENT);return v.forEach((d,h)=>{let m=k._malloc(d.length+1);k.writeAsciiToMemory(d,m),k.setValue(p+Uint32Array.BYTES_PER_ELEMENT*h,m,"i32")}),[v.length,p]}},405:Y=>{let k=0,v=0,p=T(d=>{let[h,m,f]=d.split(":");return parseFloat(h)*60*60+parseFloat(m)*60+parseFloat(f)},"g");Y.exports=(d,h)=>{if(typeof d=="string")if(d.startsWith("  Duration")){let m=d.split(", ")[0].split(": ")[1],f=p(m);h({duration:f,ratio:v}),(k===0||k>f)&&(k=f)}else if(d.startsWith("frame")||d.startsWith("size")){let m=d.split("time=")[1].split(" ")[0],f=p(m);v=f/k,h({ratio:v,time:f})}else d.startsWith("video:")&&(h({ratio:1}),k=0)}},809:(Y,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.changeDpiBlob=o,k.changeDpiDataUrl=c;function v(b){if(Array.isArray(b)){for(var w=0,M=Array(b.length);w<b.length;w++)M[w]=b[w];return M}else return Array.from(b)}T(v,"J");function p(){for(var b=new Int32Array(256),w=0;w<256;w++){for(var M=w,E=0;E<8;E++)M=M&1?3988292384^M>>>1:M>>>1;b[w]=M}return b}T(p,"g");function d(b){var w=-1;h||(h=p());for(var M=0;M<b.length;M++)w=h[(w^b[M])&255]^w>>>8;return w^-1}T(d,"B");var h=void 0,m="image/png",f="image/jpeg",r="AAlwSFlz",s="AAAJcEhZ",l="AAAACXBI",i=112,n=72,u=89,a=115;function o(b,w){var M=b.slice(0,33);return new Promise(function(E,A){var C=new FileReader;C.onload=function(){var I=new Uint8Array(C.result),F=b.slice(33),R=x(I,w,b.type);E(new Blob([R,F],{type:b.type}))},C.readAsArrayBuffer(M)})}T(o,"h");function c(b,w){var M=b.split(","),E=M[0],A=M[1],C=void 0,I=void 0,F=!1;if(E.indexOf(m)!==-1){C=m;var R=y(A);R>=0?(I=Math.ceil((R+28)/3)*4,F=!0):I=44}E.indexOf(f)!==-1&&(C=f,I=24);for(var U=A.substring(0,I),z=A.substring(I),P=atob(U),W=new Uint8Array(P.length),Q=0;Q<W.length;Q++)W[Q]=P.charCodeAt(Q);var ae=x(W,w,C,F),j=btoa(String.fromCharCode.apply(String,v(ae)));return[E,",",j,z].join("")}T(c,"i");function y(b){var w=b.indexOf(r);return w===-1&&(w=b.indexOf(s)),w===-1&&(w=b.indexOf(l)),w}T(y,"n");function _(b){for(var w=b.length-1,M=w;M>=4;M--)if(b[M-4]===9&&b[M-3]===i&&b[M-2]===n&&b[M-1]===u&&b[M]===a)return M-3}T(_,"d");function x(b,w,M,E){if(M===f)return b[13]=1,b[14]=w>>8,b[15]=w&255,b[16]=w>>8,b[17]=w&255,b;if(M===m){var A=new Uint8Array(13);w*=39.3701,A[0]=i,A[1]=n,A[2]=u,A[3]=a,A[4]=w>>>24,A[5]=w>>>16,A[6]=w>>>8,A[7]=w&255,A[8]=A[4],A[9]=A[5],A[10]=A[6],A[11]=A[7],A[12]=1;var C=d(A),I=new Uint8Array(4);if(I[0]=C>>>24,I[1]=C>>>16,I[2]=C>>>8,I[3]=C&255,E){var F=_(b);return b.set(A,F),b.set(I,F+13),b}else{var R=new Uint8Array(4);R[0]=0,R[1]=0,R[2]=0,R[3]=9;var U=new Uint8Array(54);return U.set(b,0),U.set(R,33),U.set(A,37),U.set(I,50),U}}}T(x,"p")},162:function(Y,k,v){var p,d,h;(function(m,f){d=[],p=f,h=typeof p=="function"?p.apply(k,d):p,h!==void 0&&(Y.exports=h)})(this,function(){"use strict";function m(u,a){return typeof a>"u"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}T(m,"c");function f(u,a,o){var c=new XMLHttpRequest;c.open("GET",u),c.responseType="blob",c.onload=function(){n(c.response,a,o)},c.onerror=function(){console.error("could not download file")},c.send()}T(f,"o");function r(u){var a=new XMLHttpRequest;a.open("HEAD",u,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}T(r,"r");function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(a)}}T(s,"f");var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof v.g=="object"&&v.g.global===v.g?v.g:void 0,i=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),n=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(u,a,o){var c=l.URL||l.webkitURL,y=document.createElement("a");a=a||u.name||"download",y.download=a,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?s(y):r(y.href)?f(u,a,o):s(y,y.target="_blank")):(y.href=c.createObjectURL(u),setTimeout(function(){c.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,a,o){if(a=a||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(m(u,o),a);else if(r(u))f(u,a,o);else{var c=document.createElement("a");c.href=u,c.target="_blank",setTimeout(function(){s(c)})}}:function(u,a,o,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof u=="string")return f(u,a,o);var y=u.type==="application/octet-stream",_=/constructor/i.test(l.HTMLElement)||l.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||y&&_||i)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var E=b.result;E=x?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=E:location=E,c=null},b.readAsDataURL(u)}else{var w=l.URL||l.webkitURL,M=w.createObjectURL(u);c?c.location=M:location.href=M,c=null,setTimeout(function(){w.revokeObjectURL(M)},4e4)}});l.saveAs=n.saveAs=n,Y.exports=n})},733:(Y,k,v)=>{(function(p){Y.exports=p()})(function(){return T(function p(d,h,m){function f(l,i){if(!h[l]){if(!d[l]){var n=void 0;if(!i&&n)return _n(l,!0);if(r)return r(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var a=h[l]={exports:{}};d[l][0].call(a.exports,function(o){var c=d[l][1][o];return f(c||o)},a,a.exports,p,d,h,m)}return h[l].exports}T(f,"o");for(var r=void 0,s=0;s<m.length;s++)f(m[s]);return f},"g")({1:[function(p,d,h){"use strict";var m=p("./utils"),f=p("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(s){for(var l,i,n,u,a,o,c,y=[],_=0,x=s.length,b=x,w=m.getTypeOf(s)!=="string";_<s.length;)b=x-_,n=w?(l=s[_++],i=_<x?s[_++]:0,_<x?s[_++]:0):(l=s.charCodeAt(_++),i=_<x?s.charCodeAt(_++):0,_<x?s.charCodeAt(_++):0),u=l>>2,a=(3&l)<<4|i>>4,o=1<b?(15&i)<<2|n>>6:64,c=2<b?63&n:64,y.push(r.charAt(u)+r.charAt(a)+r.charAt(o)+r.charAt(c));return y.join("")},h.decode=function(s){var l,i,n,u,a,o,c=0,y=0,_="data:";if(s.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var x,b=3*(s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(s.charAt(s.length-1)===r.charAt(64)&&b--,s.charAt(s.length-2)===r.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=f.uint8array?new Uint8Array(0|b):new Array(0|b);c<s.length;)l=r.indexOf(s.charAt(c++))<<2|(u=r.indexOf(s.charAt(c++)))>>4,i=(15&u)<<4|(a=r.indexOf(s.charAt(c++)))>>2,n=(3&a)<<6|(o=r.indexOf(s.charAt(c++))),x[y++]=l,a!==64&&(x[y++]=i),o!==64&&(x[y++]=n);return x}},{"./support":30,"./utils":32}],2:[function(p,d,h){"use strict";var m=p("./external"),f=p("./stream/DataWorker"),r=p("./stream/Crc32Probe"),s=p("./stream/DataLengthProbe");function l(i,n,u,a,o){this.compressedSize=i,this.uncompressedSize=n,this.crc32=u,this.compression=a,this.compressedContent=o}T(l,"m"),l.prototype={getContentWorker:function(){var i=new f(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),n=this;return i.on("end",function(){if(this.streamInfo.data_length!==n.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),i},getCompressedWorker:function(){return new f(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(i,n,u){return i.pipe(new r).pipe(new s("uncompressedSize")).pipe(n.compressWorker(u)).pipe(new s("compressedSize")).withStreamInfo("compression",n)},d.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,d,h){"use strict";var m=p("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(f){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},h.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,d,h){"use strict";var m=p("./utils"),f=function(){for(var r,s=[],l=0;l<256;l++){r=l;for(var i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;s[l]=r}return s}();d.exports=function(r,s){return r!==void 0&&r.length?m.getTypeOf(r)!=="string"?function(l,i,n,u){var a=f,o=u+n;l^=-1;for(var c=u;c<o;c++)l=l>>>8^a[255&(l^i[c])];return-1^l}(0|s,r,r.length,0):function(l,i,n,u){var a=f,o=u+n;l^=-1;for(var c=u;c<o;c++)l=l>>>8^a[255&(l^i.charCodeAt(c))];return-1^l}(0|s,r,r.length,0):0}},{"./utils":32}],5:[function(p,d,h){"use strict";h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(p,d,h){"use strict";var m=null;m=typeof Promise<"u"?Promise:p("lie"),d.exports={Promise:m}},{lie:37}],7:[function(p,d,h){"use strict";var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=p("pako"),r=p("./utils"),s=p("./stream/GenericWorker"),l=m?"uint8array":"array";function i(n,u){s.call(this,"FlateWorker/"+n),this._pako=null,this._pakoAction=n,this._pakoOptions=u,this.meta={}}T(i,"w"),h.magic="\b\0",r.inherits(i,s),i.prototype.processChunk=function(n){this.meta=n.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(l,n.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var n=this;this._pako.onData=function(u){n.push({data:u,meta:n.meta})}},h.compressWorker=function(n){return new i("Deflate",n)},h.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,d,h){"use strict";function m(a,o){var c,y="";for(c=0;c<o;c++)y+=String.fromCharCode(255&a),a>>>=8;return y}T(m,"c");function f(a,o,c,y,_,x){var b,w,M=a.file,E=a.compression,A=x!==l.utf8encode,C=r.transformTo("string",x(M.name)),I=r.transformTo("string",l.utf8encode(M.name)),F=M.comment,R=r.transformTo("string",x(F)),U=r.transformTo("string",l.utf8encode(F)),z=I.length!==M.name.length,P=U.length!==F.length,W="",Q="",ae="",j=M.dir,L=M.date,G={crc32:0,compressedSize:0,uncompressedSize:0};o&&!c||(G.crc32=a.crc32,G.compressedSize=a.compressedSize,G.uncompressedSize=a.uncompressedSize);var N=0;o&&(N|=8),A||!z&&!P||(N|=2048);var Z=0,oe=0;j&&(Z|=16),_==="UNIX"?(oe=798,Z|=function(ce,ue){var be=ce;return ce||(be=ue?16893:33204),(65535&be)<<16}(M.unixPermissions,j)):(oe=20,Z|=function(ce){return 63&(ce||0)}(M.dosPermissions)),b=L.getUTCHours(),b<<=6,b|=L.getUTCMinutes(),b<<=5,b|=L.getUTCSeconds()/2,w=L.getUTCFullYear()-1980,w<<=4,w|=L.getUTCMonth()+1,w<<=5,w|=L.getUTCDate(),z&&(Q=m(1,1)+m(i(C),4)+I,W+="up"+m(Q.length,2)+Q),P&&(ae=m(1,1)+m(i(R),4)+U,W+="uc"+m(ae.length,2)+ae);var ie="";return ie+=`
\0`,ie+=m(N,2),ie+=E.magic,ie+=m(b,2),ie+=m(w,2),ie+=m(G.crc32,4),ie+=m(G.compressedSize,4),ie+=m(G.uncompressedSize,4),ie+=m(C.length,2),ie+=m(W.length,2),{fileRecord:n.LOCAL_FILE_HEADER+ie+C+W,dirRecord:n.CENTRAL_FILE_HEADER+m(oe,2)+ie+m(R.length,2)+"\0\0\0\0"+m(Z,4)+m(y,4)+C+W+R}}T(f,"o");var r=p("../utils"),s=p("../stream/GenericWorker"),l=p("../utf8"),i=p("../crc32"),n=p("../signature");function u(a,o,c,y){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=o,this.zipPlatform=c,this.encodeFileName=y,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}T(u,"l"),r.inherits(u,s),u.prototype.push=function(a){var o=a.meta.percent||0,c=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,s.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:c?(o+100*(c-y-1))/c:100}}))},u.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var o=this.streamFiles&&!a.file.dir;if(o){var c=f(a,o,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(a){this.accumulate=!1;var o=this.streamFiles&&!a.file.dir,c=f(a,o,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),o)this.push({data:function(y){return n.DATA_DESCRIPTOR+m(y.crc32,4)+m(y.compressedSize,4)+m(y.uncompressedSize,4)}(a),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var a=this.bytesWritten,o=0;o<this.dirRecords.length;o++)this.push({data:this.dirRecords[o],meta:{percent:100}});var c=this.bytesWritten-a,y=function(_,x,b,w,M){var E=r.transformTo("string",M(w));return n.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(_,2)+m(_,2)+m(x,4)+m(b,4)+m(E.length,2)+E}(this.dirRecords.length,c,a,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(a){this._sources.push(a);var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.closedSource(o.previous.streamInfo),o._sources.length?o.prepareNextSource():o.end()}),a.on("error",function(c){o.error(c)}),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(a){var o=this._sources;if(!s.prototype.error.call(this,a))return!1;for(var c=0;c<o.length;c++)try{o[c].error(a)}catch{}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var a=this._sources,o=0;o<a.length;o++)a[o].lock()},d.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,d,h){"use strict";var m=p("../compressions"),f=p("./ZipFileWorker");h.generateWorker=function(r,s,l){var i=new f(s.streamFiles,l,s.platform,s.encodeFileName),n=0;try{r.forEach(function(u,a){n++;var o=function(x,b){var w=x||b,M=m[w];if(!M)throw new Error(w+" is not a valid compression method !");return M}(a.options.compression,s.compression),c=a.options.compressionOptions||s.compressionOptions||{},y=a.dir,_=a.date;a._compressWorker(o,c).withStreamInfo("file",{name:u,dir:y,date:_,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(i)}),i.entriesCount=n}catch(u){i.error(u)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,d,h){"use strict";function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new m;for(var r in this)typeof this[r]!="function"&&(f[r]=this[r]);return f}}T(m,"c"),(m.prototype=p("./object")).loadAsync=p("./load"),m.support=p("./support"),m.defaults=p("./defaults"),m.version="3.7.1",m.loadAsync=function(f,r){return new m().loadAsync(f,r)},m.external=p("./external"),d.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,d,h){"use strict";var m=p("./utils"),f=p("./external"),r=p("./utf8"),s=p("./zipEntries"),l=p("./stream/Crc32Probe"),i=p("./nodejsUtils");function n(u){return new f.Promise(function(a,o){var c=u.decompressed.getContentWorker().pipe(new l);c.on("error",function(y){o(y)}).on("end",function(){c.streamInfo.crc32!==u.decompressed.crc32?o(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}T(n,"a"),d.exports=function(u,a){var o=this;return a=m.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),i.isNode&&i.isStream(u)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",u,!0,a.optimizedBinaryString,a.base64).then(function(c){var y=new s(a);return y.load(c),y}).then(function(c){var y=[f.Promise.resolve(c)],_=c.files;if(a.checkCRC32)for(var x=0;x<_.length;x++)y.push(n(_[x]));return f.Promise.all(y)}).then(function(c){for(var y=c.shift(),_=y.files,x=0;x<_.length;x++){var b=_[x];o.file(b.fileNameStr,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:a.createFolders})}return y.zipComment.length&&(o.comment=y.zipComment),o})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,d,h){"use strict";var m=p("../utils"),f=p("../stream/GenericWorker");function r(s,l){f.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(l)}T(r,"r"),m.inherits(r,f),r.prototype._bindStream=function(s){var l=this;(this._stream=s).pause(),s.on("data",function(i){l.push({data:i,meta:{percent:0}})}).on("error",function(i){l.isPaused?this.generatedError=i:l.error(i)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},r.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,d,h){"use strict";var m=p("readable-stream").Readable;function f(r,s,l){m.call(this,s),this._helper=r;var i=this;r.on("data",function(n,u){i.push(n)||i._helper.pause(),l&&l(u)}).on("error",function(n){i.emit("error",n)}).on("end",function(){i.push(null)})}T(f,"o"),p("../utils").inherits(f,m),f.prototype._read=function(){this._helper.resume()},d.exports=f},{"../utils":32,"readable-stream":16}],14:[function(p,d,h){"use strict";d.exports={isNode:typeof qt<"u",newBufferFrom:function(m,f){if(qt.from&&qt.from!==Uint8Array.from)return qt.from(m,f);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new qt(m,f)},allocBuffer:function(m){if(qt.alloc)return qt.alloc(m);var f=new qt(m);return f.fill(0),f},isBuffer:function(m){return qt.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(p,d,h){"use strict";function m(M,E,A){var C,I=r.getTypeOf(E),F=r.extend(A||{},i);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(M=_(M)),F.createFolders&&(C=y(M))&&x.call(this,C,!0);var R=I==="string"&&F.binary===!1&&F.base64===!1;A&&A.binary!==void 0||(F.binary=!R),(E instanceof n&&E.uncompressedSize===0||F.dir||!E||E.length===0)&&(F.base64=!1,F.binary=!0,E="",F.compression="STORE",I="string");var U=null;U=E instanceof n||E instanceof s?E:o.isNode&&o.isStream(E)?new c(M,E):r.prepareContent(M,E,F.binary,F.optimizedBinaryString,F.base64);var z=new u(M,U,F);this.files[M]=z}T(m,"c");var f=p("./utf8"),r=p("./utils"),s=p("./stream/GenericWorker"),l=p("./stream/StreamHelper"),i=p("./defaults"),n=p("./compressedObject"),u=p("./zipObject"),a=p("./generate"),o=p("./nodejsUtils"),c=p("./nodejs/NodejsStreamInputAdapter"),y=T(function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var E=M.lastIndexOf("/");return 0<E?M.substring(0,E):""},"n"),_=T(function(M){return M.slice(-1)!=="/"&&(M+="/"),M},"d"),x=T(function(M,E){return E=E!==void 0?E:i.createFolders,M=_(M),this.files[M]||m.call(this,M,null,{dir:!0,createFolders:E}),this.files[M]},"p");function b(M){return Object.prototype.toString.call(M)==="[object RegExp]"}T(b,"u");var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var E,A,C;for(E in this.files)C=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&M(A,C)},filter:function(M){var E=[];return this.forEach(function(A,C){M(A,C)&&E.push(C)}),E},file:function(M,E,A){if(arguments.length!==1)return M=this.root+M,m.call(this,M,E,A),this;if(b(M)){var C=M;return this.filter(function(F,R){return!R.dir&&C.test(F)})}var I=this.files[this.root+M];return I&&!I.dir?I:null},folder:function(M){if(!M)return this;if(b(M))return this.filter(function(I,F){return F.dir&&M.test(I)});var E=this.root+M,A=x.call(this,E),C=this.clone();return C.root=A.name,C},remove:function(M){M=this.root+M;var E=this.files[M];if(E||(M.slice(-1)!=="/"&&(M+="/"),E=this.files[M]),E&&!E.dir)delete this.files[M];else for(var A=this.filter(function(I,F){return F.name.slice(0,M.length)===M}),C=0;C<A.length;C++)delete this.files[A[C].name];return this},generate:function(M){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var E,A={};try{if((A=r.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");r.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var C=A.comment||this.comment||"";E=a.generateWorker(this,A,C)}catch(I){(E=new s("error")).error(I)}return new l(E,A.type||"string",A.mimeType)},generateAsync:function(M,E){return this.generateInternalStream(M).accumulate(E)},generateNodeStream:function(M,E){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(E)}};d.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,d,h){d.exports=p("stream")},{stream:void 0}],17:[function(p,d,h){"use strict";var m=p("./DataReader");function f(r){m.call(this,r);for(var s=0;s<this.data.length;s++)r[s]=255&r[s]}T(f,"o"),p("../utils").inherits(f,m),f.prototype.byteAt=function(r){return this.data[this.zero+r]},f.prototype.lastIndexOfSignature=function(r){for(var s=r.charCodeAt(0),l=r.charCodeAt(1),i=r.charCodeAt(2),n=r.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===s&&this.data[u+1]===l&&this.data[u+2]===i&&this.data[u+3]===n)return u-this.zero;return-1},f.prototype.readAndCheckSignature=function(r){var s=r.charCodeAt(0),l=r.charCodeAt(1),i=r.charCodeAt(2),n=r.charCodeAt(3),u=this.readData(4);return s===u[0]&&l===u[1]&&i===u[2]&&n===u[3]},f.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},d.exports=f},{"../utils":32,"./DataReader":18}],18:[function(p,d,h){"use strict";var m=p("../utils");function f(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}T(f,"o"),f.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(r){},readInt:function(r){var s,l=0;for(this.checkOffset(r),s=this.index+r-1;s>=this.index;s--)l=(l<<8)+this.byteAt(s);return this.index+=r,l},readString:function(r){return m.transformTo("string",this.readData(r))},readData:function(r){},lastIndexOfSignature:function(r){},readAndCheckSignature:function(r){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},d.exports=f},{"../utils":32}],19:[function(p,d,h){"use strict";var m=p("./Uint8ArrayReader");function f(r){m.call(this,r)}T(f,"o"),p("../utils").inherits(f,m),f.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},d.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,d,h){"use strict";var m=p("./DataReader");function f(r){m.call(this,r)}T(f,"o"),p("../utils").inherits(f,m),f.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},f.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},f.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},f.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},d.exports=f},{"../utils":32,"./DataReader":18}],21:[function(p,d,h){"use strict";var m=p("./ArrayReader");function f(r){m.call(this,r)}T(f,"o"),p("../utils").inherits(f,m),f.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},d.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(p,d,h){"use strict";var m=p("../utils"),f=p("../support"),r=p("./ArrayReader"),s=p("./StringReader"),l=p("./NodeBufferReader"),i=p("./Uint8ArrayReader");d.exports=function(n){var u=m.getTypeOf(n);return m.checkSupport(u),u!=="string"||f.uint8array?u==="nodebuffer"?new l(n):f.uint8array?new i(m.transformTo("uint8array",n)):new r(m.transformTo("array",n)):new s(n)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,d,h){"use strict";h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,d,h){"use strict";var m=p("./GenericWorker"),f=p("../utils");function r(s){m.call(this,"ConvertWorker to "+s),this.destType=s}T(r,"r"),f.inherits(r,m),r.prototype.processChunk=function(s){this.push({data:f.transformTo(this.destType,s.data),meta:s.meta})},d.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(p,d,h){"use strict";var m=p("./GenericWorker"),f=p("../crc32");function r(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}T(r,"r"),p("../utils").inherits(r,m),r.prototype.processChunk=function(s){this.streamInfo.crc32=f(s.data,this.streamInfo.crc32||0),this.push(s)},d.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,d,h){"use strict";var m=p("../utils"),f=p("./GenericWorker");function r(s){f.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}T(r,"r"),m.inherits(r,f),r.prototype.processChunk=function(s){if(s){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+s.data.length}f.prototype.processChunk.call(this,s)},d.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(p,d,h){"use strict";var m=p("../utils"),f=p("./GenericWorker");function r(s){f.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(i){l.dataIsReady=!0,l.data=i,l.max=i&&i.length||0,l.type=m.getTypeOf(i),l.isPaused||l._tickAndRepeat()},function(i){l.error(i)})}T(r,"r"),m.inherits(r,f),r.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,l);break;case"uint8array":s=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":s=this.data.slice(this.index,l)}return this.index=l,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(p,d,h){"use strict";function m(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}T(m,"c"),m.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,r){return this._listeners[f].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,r){if(this._listeners[f])for(var s=0;s<this._listeners[f].length;s++)this._listeners[f][s].call(this,r)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var r=this;return f.on("data",function(s){r.processChunk(s)}),f.on("end",function(){r.end()}),f.on("error",function(s){r.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,r){return this.extraStreamInfo[f]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},d.exports=m},{}],29:[function(p,d,h){"use strict";var m=p("../utils"),f=p("./ConvertWorker"),r=p("./GenericWorker"),s=p("../base64"),l=p("../support"),i=p("../external"),n=null;if(l.nodestream)try{n=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function u(o,c){return new i.Promise(function(y,_){var x=[],b=o._internalType,w=o._outputType,M=o._mimeType;o.on("data",function(E,A){x.push(E),c&&c(A)}).on("error",function(E){x=[],_(E)}).on("end",function(){try{var E=function(A,C,I){switch(A){case"blob":return m.newBlob(m.transformTo("arraybuffer",C),I);case"base64":return s.encode(C);default:return m.transformTo(A,C)}}(w,function(A,C){var I,F=0,R=null,U=0;for(I=0;I<C.length;I++)U+=C[I].length;switch(A){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(R=new Uint8Array(U),I=0;I<C.length;I++)R.set(C[I],F),F+=C[I].length;return R;case"nodebuffer":return qt.concat(C);default:throw new Error("concat : unsupported type '"+A+"'")}}(b,x),M);y(E)}catch(A){_(A)}x=[]}).resume()})}T(u,"l");function a(o,c,y){var _=c;switch(c){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=c,this._mimeType=y,m.checkSupport(_),this._worker=o.pipe(new f(_)),o.lock()}catch(x){this._worker=new r("error"),this._worker.error(x)}}T(a,"e"),a.prototype={accumulate:function(o){return u(this,o)},on:function(o,c){var y=this;return o==="data"?this._worker.on(o,function(_){c.call(y,_.data,_.meta)}):this._worker.on(o,function(){m.delay(c,arguments,y)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(o){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:this._outputType!=="nodebuffer"},o)}},d.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,d,h){"use strict";if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",h.nodebuffer=typeof qt<"u",h.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")h.blob=!1;else{var m=new ArrayBuffer(0);try{h.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(m),h.blob=f.getBlob("application/zip").size===0}catch{h.blob=!1}}}try{h.nodestream=!!p("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(p,d,h){"use strict";for(var m=p("./utils"),f=p("./support"),r=p("./nodejsUtils"),s=p("./stream/GenericWorker"),l=new Array(256),i=0;i<256;i++)l[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;l[254]=l[254]=1;function n(){s.call(this,"utf-8 decode"),this.leftOver=null}T(n,"a");function u(){s.call(this,"utf-8 encode")}T(u,"l"),h.utf8encode=function(a){return f.nodebuffer?r.newBufferFrom(a,"utf-8"):function(o){var c,y,_,x,b,w=o.length,M=0;for(x=0;x<w;x++)(64512&(y=o.charCodeAt(x)))==55296&&x+1<w&&(64512&(_=o.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),M+=y<128?1:y<2048?2:y<65536?3:4;for(c=f.uint8array?new Uint8Array(M):new Array(M),x=b=0;b<M;x++)(64512&(y=o.charCodeAt(x)))==55296&&x+1<w&&(64512&(_=o.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),y<128?c[b++]=y:(y<2048?c[b++]=192|y>>>6:(y<65536?c[b++]=224|y>>>12:(c[b++]=240|y>>>18,c[b++]=128|y>>>12&63),c[b++]=128|y>>>6&63),c[b++]=128|63&y);return c}(a)},h.utf8decode=function(a){return f.nodebuffer?m.transformTo("nodebuffer",a).toString("utf-8"):function(o){var c,y,_,x,b=o.length,w=new Array(2*b);for(c=y=0;c<b;)if((_=o[c++])<128)w[y++]=_;else if(4<(x=l[_]))w[y++]=65533,c+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&c<b;)_=_<<6|63&o[c++],x--;1<x?w[y++]=65533:_<65536?w[y++]=_:(_-=65536,w[y++]=55296|_>>10&1023,w[y++]=56320|1023&_)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),m.applyFromCharCode(w)}(a=m.transformTo(f.uint8array?"uint8array":"array",a))},m.inherits(n,s),n.prototype.processChunk=function(a){var o=m.transformTo(f.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var c=o;(o=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),o.set(c,this.leftOver.length)}else o=this.leftOver.concat(o);this.leftOver=null}var y=function(x,b){var w;for((b=b||x.length)>x.length&&(b=x.length),w=b-1;0<=w&&(192&x[w])==128;)w--;return w<0||w===0?b:w+l[x[w]]>b?w:b}(o),_=o;y!==o.length&&(f.uint8array?(_=o.subarray(0,y),this.leftOver=o.subarray(y,o.length)):(_=o.slice(0,y),this.leftOver=o.slice(y,o.length))),this.push({data:h.utf8decode(_),meta:a.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=n,m.inherits(u,s),u.prototype.processChunk=function(a){this.push({data:h.utf8encode(a.data),meta:a.meta})},h.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,d,h){"use strict";var m=p("./support"),f=p("./base64"),r=p("./nodejsUtils"),s=p("set-immediate-shim"),l=p("./external");function i(y){return y}T(i,"w");function n(y,_){for(var x=0;x<y.length;++x)_[x]=255&y.charCodeAt(x);return _}T(n,"a"),h.newBlob=function(y,_){h.checkSupport("blob");try{return new Blob([y],{type:_})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(y,_,x){var b=[],w=0,M=y.length;if(M<=x)return String.fromCharCode.apply(null,y);for(;w<M;)_==="array"||_==="nodebuffer"?b.push(String.fromCharCode.apply(null,y.slice(w,Math.min(w+x,M)))):b.push(String.fromCharCode.apply(null,y.subarray(w,Math.min(w+x,M)))),w+=x;return b.join("")},stringifyByChar:function(y){for(var _="",x=0;x<y.length;x++)_+=String.fromCharCode(y[x]);return _},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function a(y){var _=65536,x=h.getTypeOf(y),b=!0;if(x==="uint8array"?b=u.applyCanBeUsed.uint8array:x==="nodebuffer"&&(b=u.applyCanBeUsed.nodebuffer),b)for(;1<_;)try{return u.stringifyByChunk(y,x,_)}catch{_=Math.floor(_/2)}return u.stringifyByChar(y)}T(a,"e");function o(y,_){for(var x=0;x<y.length;x++)_[x]=y[x];return _}T(o,"h"),h.applyFromCharCode=a;var c={};c.string={string:i,array:function(y){return n(y,new Array(y.length))},arraybuffer:function(y){return c.string.uint8array(y).buffer},uint8array:function(y){return n(y,new Uint8Array(y.length))},nodebuffer:function(y){return n(y,r.allocBuffer(y.length))}},c.array={string:a,array:i,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return r.newBufferFrom(y)}},c.arraybuffer={string:function(y){return a(new Uint8Array(y))},array:function(y){return o(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:i,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return r.newBufferFrom(new Uint8Array(y))}},c.uint8array={string:a,array:function(y){return o(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:i,nodebuffer:function(y){return r.newBufferFrom(y)}},c.nodebuffer={string:a,array:function(y){return o(y,new Array(y.length))},arraybuffer:function(y){return c.nodebuffer.uint8array(y).buffer},uint8array:function(y){return o(y,new Uint8Array(y.length))},nodebuffer:i},h.transformTo=function(y,_){if(_=_||"",!y)return _;h.checkSupport(y);var x=h.getTypeOf(_);return c[x][y](_)},h.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":m.nodebuffer&&r.isBuffer(y)?"nodebuffer":m.uint8array&&y instanceof Uint8Array?"uint8array":m.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(y){if(!m[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(y){var _,x,b="";for(x=0;x<(y||"").length;x++)b+="\\x"+((_=y.charCodeAt(x))<16?"0":"")+_.toString(16).toUpperCase();return b},h.delay=function(y,_,x){s(function(){y.apply(x||null,_||[])})},h.inherits=function(y,_){function x(){}T(x,"p"),x.prototype=_.prototype,y.prototype=new x},h.extend=function(){var y,_,x={};for(y=0;y<arguments.length;y++)for(_ in arguments[y])arguments[y].hasOwnProperty(_)&&x[_]===void 0&&(x[_]=arguments[y][_]);return x},h.prepareContent=function(y,_,x,b,w){return l.Promise.resolve(_).then(function(M){return m.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,A){var C=new FileReader;C.onload=function(I){E(I.target.result)},C.onerror=function(I){A(I.target.error)},C.readAsArrayBuffer(M)}):M}).then(function(M){var E=h.getTypeOf(M);return E?(E==="arraybuffer"?M=h.transformTo("uint8array",M):E==="string"&&(w?M=f.decode(M):x&&b!==!0&&(M=function(A){return n(A,m.uint8array?new Uint8Array(A.length):new Array(A.length))}(M))),M):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(p,d,h){"use strict";var m=p("./reader/readerFor"),f=p("./utils"),r=p("./signature"),s=p("./zipEntry"),l=(p("./utf8"),p("./support"));function i(n){this.files=[],this.loadOptions=n}T(i,"w"),i.prototype={checkSignature:function(n){if(!this.reader.readAndCheckSignature(n)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(u)+", expected "+f.pretty(n)+")")}},isSignature:function(n,u){var a=this.reader.index;this.reader.setIndex(n);var o=this.reader.readString(4)===u;return this.reader.setIndex(a),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var n=this.reader.readData(this.zipCommentLength),u=l.uint8array?"uint8array":"array",a=f.transformTo(u,n);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var n,u,a,o=this.zip64EndOfCentralSize-44;0<o;)n=this.reader.readInt(2),u=this.reader.readInt(4),a=this.reader.readData(u),this.zip64ExtensibleData[n]={id:n,length:u,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var n,u;for(n=0;n<this.files.length;n++)u=this.files[n],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var n;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(n=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(n);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var n=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(n<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(n);var u=n;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(n=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(n),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var o=u-a;if(0<o)this.isSignature(u,r.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(n){this.reader=m(n)},load:function(n){this.prepareReader(n),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(p,d,h){"use strict";var m=p("./reader/readerFor"),f=p("./utils"),r=p("./compressedObject"),s=p("./crc32"),l=p("./utf8"),i=p("./compressions"),n=p("./support");function u(a,o){this.options=a,this.loadOptions=o}T(u,"l"),u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(a){var o,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((o=function(y){for(var _ in i)if(i.hasOwnProperty(_)&&i[_].magic===y)return i[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,o,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var o=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(o),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a==0&&(this.dosPermissions=63&this.externalFileAttributes),a==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var o=m(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(a){var o,c,y,_=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<_;)o=a.readInt(2),c=a.readInt(2),y=a.readData(c),this.extraFields[o]={id:o,length:c,value:y};a.setIndex(_)},handleUTF8:function(){var a=n.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var o=this.findExtraFieldUnicodePath();if(o!==null)this.fileNameStr=o;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var _=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var o=m(a.value);return o.readInt(1)!==1||s(this.fileName)!==o.readInt(4)?null:l.utf8decode(o.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var o=m(a.value);return o.readInt(1)!==1||s(this.fileComment)!==o.readInt(4)?null:l.utf8decode(o.readData(a.length-5))}return null}},d.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,d,h){"use strict";function m(o,c,y){this.name=o,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=c,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}T(m,"c");var f=p("./stream/StreamHelper"),r=p("./stream/DataWorker"),s=p("./utf8"),l=p("./compressedObject"),i=p("./stream/GenericWorker");m.prototype={internalStream:function(o){var c=null,y="string";try{if(!o)throw new Error("No output type specified.");var _=(y=o.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),c=this._decompressWorker();var x=!this._dataBinary;x&&!_&&(c=c.pipe(new s.Utf8EncodeWorker)),!x&&_&&(c=c.pipe(new s.Utf8DecodeWorker))}catch(b){(c=new i("error")).error(b)}return new f(c,y,"")},async:function(o,c){return this.internalStream(o).accumulate(c)},nodeStream:function(o,c){return this.internalStream(o||"nodebuffer").toNodejsStream(c)},_compressWorker:function(o,c){if(this._data instanceof l&&this._data.compression.magic===o.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new s.Utf8EncodeWorker)),l.createWorkerFrom(y,o,c)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof i?this._data:new r(this._data)}};for(var n=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<n.length;a++)m.prototype[n[a]]=u;d.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,d,h){(function(m){"use strict";var f,r,s=m.MutationObserver||m.WebKitMutationObserver;if(s){var l=0,i=new s(o),n=m.document.createTextNode("");i.observe(n,{characterData:!0}),f=T(function(){n.data=l=++l%2},"o")}else if(m.setImmediate||m.MessageChannel===void 0)f="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var c=m.document.createElement("script");c.onreadystatechange=function(){o(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},m.document.documentElement.appendChild(c)}:function(){setTimeout(o,0)};else{var u=new m.MessageChannel;u.port1.onmessage=o,f=T(function(){u.port2.postMessage(0)},"o")}var a=[];function o(){var c,y;r=!0;for(var _=a.length;_;){for(y=a,a=[],c=-1;++c<_;)y[c]();_=a.length}r=!1}T(o,"h"),d.exports=function(c){a.push(c)!==1||r||f()}}).call(this,typeof v.g<"u"?v.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,d,h){"use strict";var m=p("immediate");function f(){}T(f,"o");var r={},s=["REJECTED"],l=["FULFILLED"],i=["PENDING"];function n(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,_!==f&&c(this,_)}T(n,"a");function u(_,x,b){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}T(u,"l");function a(_,x,b){m(function(){var w;try{w=x(b)}catch(M){return r.reject(_,M)}w===_?r.reject(_,new TypeError("Cannot resolve promise with itself")):r.resolve(_,w)})}T(a,"e");function o(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}T(o,"h");function c(_,x){var b=!1;function w(A){b||(b=!0,r.reject(_,A))}T(w,"k");function M(A){b||(b=!0,r.resolve(_,A))}T(M,"y");var E=y(function(){x(M,w)});E.status==="error"&&w(E.value)}T(c,"i");function y(_,x){var b={};try{b.value=_(x),b.status="success"}catch(w){b.status="error",b.value=w}return b}T(y,"n"),(d.exports=n).prototype.finally=function(_){if(typeof _!="function")return this;var x=this.constructor;return this.then(function(b){return x.resolve(_()).then(function(){return b})},function(b){return x.resolve(_()).then(function(){throw b})})},n.prototype.catch=function(_){return this.then(null,_)},n.prototype.then=function(_,x){if(typeof _!="function"&&this.state===l||typeof x!="function"&&this.state===s)return this;var b=new this.constructor(f);return this.state!==i?a(b,this.state===l?_:x,this.outcome):this.queue.push(new u(b,_,x)),b},u.prototype.callFulfilled=function(_){r.resolve(this.promise,_)},u.prototype.otherCallFulfilled=function(_){a(this.promise,this.onFulfilled,_)},u.prototype.callRejected=function(_){r.reject(this.promise,_)},u.prototype.otherCallRejected=function(_){a(this.promise,this.onRejected,_)},r.resolve=function(_,x){var b=y(o,x);if(b.status==="error")return r.reject(_,b.value);var w=b.value;if(w)c(_,w);else{_.state=l,_.outcome=x;for(var M=-1,E=_.queue.length;++M<E;)_.queue[M].callFulfilled(x)}return _},r.reject=function(_,x){_.state=s,_.outcome=x;for(var b=-1,w=_.queue.length;++b<w;)_.queue[b].callRejected(x);return _},n.resolve=function(_){return _ instanceof this?_:r.resolve(new this(f),_)},n.reject=function(_){var x=new this(f);return r.reject(x,_)},n.all=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=_.length,w=!1;if(!b)return this.resolve([]);for(var M=new Array(b),E=0,A=-1,C=new this(f);++A<b;)I(_[A],A);return C;function I(F,R){x.resolve(F).then(function(U){M[R]=U,++E!==b||w||(w=!0,r.resolve(C,M))},function(U){w||(w=!0,r.reject(C,U))})}},n.race=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=_.length,w=!1;if(!b)return this.resolve([]);for(var M=-1,E=new this(f);++M<b;)A=_[M],x.resolve(A).then(function(C){w||(w=!0,r.resolve(E,C))},function(C){w||(w=!0,r.reject(E,C))});var A;return E}},{immediate:36}],38:[function(p,d,h){"use strict";var m={};(0,p("./lib/utils/common").assign)(m,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),d.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,d,h){"use strict";var m=p("./zlib/deflate"),f=p("./utils/common"),r=p("./utils/strings"),s=p("./zlib/messages"),l=p("./zlib/zstream"),i=Object.prototype.toString,n=0,u=-1,a=0,o=8;function c(_){if(!(this instanceof c))return new c(_);this.options=f.assign({level:u,method:o,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},_||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var b=m.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(b!==n)throw new Error(s[b]);if(x.header&&m.deflateSetHeader(this.strm,x.header),x.dictionary){var w;if(w=typeof x.dictionary=="string"?r.string2buf(x.dictionary):i.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(b=m.deflateSetDictionary(this.strm,w))!==n)throw new Error(s[b]);this._dict_set=!0}}T(c,"i");function y(_,x){var b=new c(x);if(b.push(_,!0),b.err)throw b.msg||s[b.err];return b.result}T(y,"n"),c.prototype.push=function(_,x){var b,w,M=this.strm,E=this.options.chunkSize;if(this.ended)return!1;w=x===~~x?x:x===!0?4:0,typeof _=="string"?M.input=r.string2buf(_):i.call(_)==="[object ArrayBuffer]"?M.input=new Uint8Array(_):M.input=_,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new f.Buf8(E),M.next_out=0,M.avail_out=E),(b=m.deflate(M,w))!==1&&b!==n)return this.onEnd(b),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(f.shrinkBuf(M.output,M.next_out))):this.onData(f.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&b!==1);return w===4?(b=m.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===n):w!==2||(this.onEnd(n),!(M.avail_out=0))},c.prototype.onData=function(_){this.chunks.push(_)},c.prototype.onEnd=function(_){_===n&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},h.Deflate=c,h.deflate=y,h.deflateRaw=function(_,x){return(x=x||{}).raw=!0,y(_,x)},h.gzip=function(_,x){return(x=x||{}).gzip=!0,y(_,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,d,h){"use strict";var m=p("./zlib/inflate"),f=p("./utils/common"),r=p("./utils/strings"),s=p("./zlib/constants"),l=p("./zlib/messages"),i=p("./zlib/zstream"),n=p("./zlib/gzheader"),u=Object.prototype.toString;function a(c){if(!(this instanceof a))return new a(c);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},c||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||c&&c.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var _=m.inflateInit2(this.strm,y.windowBits);if(_!==s.Z_OK)throw new Error(l[_]);this.header=new n,m.inflateGetHeader(this.strm,this.header)}T(a,"e");function o(c,y){var _=new a(y);if(_.push(c,!0),_.err)throw _.msg||l[_.err];return _.result}T(o,"h"),a.prototype.push=function(c,y){var _,x,b,w,M,E,A=this.strm,C=this.options.chunkSize,I=this.options.dictionary,F=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof c=="string"?A.input=r.binstring2buf(c):u.call(c)==="[object ArrayBuffer]"?A.input=new Uint8Array(c):A.input=c,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new f.Buf8(C),A.next_out=0,A.avail_out=C),(_=m.inflate(A,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&I&&(E=typeof I=="string"?r.string2buf(I):u.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,_=m.inflateSetDictionary(this.strm,E)),_===s.Z_BUF_ERROR&&F===!0&&(_=s.Z_OK,F=!1),_!==s.Z_STREAM_END&&_!==s.Z_OK)return this.onEnd(_),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&_!==s.Z_STREAM_END&&(A.avail_in!==0||x!==s.Z_FINISH&&x!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=r.utf8border(A.output,A.next_out),w=A.next_out-b,M=r.buf2string(A.output,b),A.next_out=w,A.avail_out=C-w,w&&f.arraySet(A.output,A.output,b,w,0),this.onData(M)):this.onData(f.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(F=!0)}while((0<A.avail_in||A.avail_out===0)&&_!==s.Z_STREAM_END);return _===s.Z_STREAM_END&&(x=s.Z_FINISH),x===s.Z_FINISH?(_=m.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===s.Z_OK):x!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(A.avail_out=0))},a.prototype.onData=function(c){this.chunks.push(c)},a.prototype.onEnd=function(c){c===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},h.Inflate=a,h.inflate=o,h.inflateRaw=function(c,y){return(y=y||{}).raw=!0,o(c,y)},h.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,d,h){"use strict";var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";h.assign=function(s){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var i=l.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(s[n]=i[n])}}return s},h.shrinkBuf=function(s,l){return s.length===l?s:s.subarray?s.subarray(0,l):(s.length=l,s)};var f={arraySet:function(s,l,i,n,u){if(l.subarray&&s.subarray)s.set(l.subarray(i,i+n),u);else for(var a=0;a<n;a++)s[u+a]=l[i+a]},flattenChunks:function(s){var l,i,n,u,a,o;for(l=n=0,i=s.length;l<i;l++)n+=s[l].length;for(o=new Uint8Array(n),l=u=0,i=s.length;l<i;l++)a=s[l],o.set(a,u),u+=a.length;return o}},r={arraySet:function(s,l,i,n,u){for(var a=0;a<n;a++)s[u+a]=l[i+a]},flattenChunks:function(s){return[].concat.apply([],s)}};h.setTyped=function(s){s?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,f)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,r))},h.setTyped(m)},{}],42:[function(p,d,h){"use strict";var m=p("./common"),f=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var s=new m.Buf8(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function i(n,u){if(u<65537&&(n.subarray&&r||!n.subarray&&f))return String.fromCharCode.apply(null,m.shrinkBuf(n,u));for(var a="",o=0;o<u;o++)a+=String.fromCharCode(n[o]);return a}T(i,"w"),s[254]=s[254]=1,h.string2buf=function(n){var u,a,o,c,y,_=n.length,x=0;for(c=0;c<_;c++)(64512&(a=n.charCodeAt(c)))==55296&&c+1<_&&(64512&(o=n.charCodeAt(c+1)))==56320&&(a=65536+(a-55296<<10)+(o-56320),c++),x+=a<128?1:a<2048?2:a<65536?3:4;for(u=new m.Buf8(x),c=y=0;y<x;c++)(64512&(a=n.charCodeAt(c)))==55296&&c+1<_&&(64512&(o=n.charCodeAt(c+1)))==56320&&(a=65536+(a-55296<<10)+(o-56320),c++),a<128?u[y++]=a:(a<2048?u[y++]=192|a>>>6:(a<65536?u[y++]=224|a>>>12:(u[y++]=240|a>>>18,u[y++]=128|a>>>12&63),u[y++]=128|a>>>6&63),u[y++]=128|63&a);return u},h.buf2binstring=function(n){return i(n,n.length)},h.binstring2buf=function(n){for(var u=new m.Buf8(n.length),a=0,o=u.length;a<o;a++)u[a]=n.charCodeAt(a);return u},h.buf2string=function(n,u){var a,o,c,y,_=u||n.length,x=new Array(2*_);for(a=o=0;a<_;)if((c=n[a++])<128)x[o++]=c;else if(4<(y=s[c]))x[o++]=65533,a+=y-1;else{for(c&=y===2?31:y===3?15:7;1<y&&a<_;)c=c<<6|63&n[a++],y--;1<y?x[o++]=65533:c<65536?x[o++]=c:(c-=65536,x[o++]=55296|c>>10&1023,x[o++]=56320|1023&c)}return i(x,o)},h.utf8border=function(n,u){var a;for((u=u||n.length)>n.length&&(u=n.length),a=u-1;0<=a&&(192&n[a])==128;)a--;return a<0||a===0?u:a+s[n[a]]>u?a:u}},{"./common":41}],43:[function(p,d,h){"use strict";d.exports=function(m,f,r,s){for(var l=65535&m|0,i=m>>>16&65535|0,n=0;r!==0;){for(r-=n=2e3<r?2e3:r;i=i+(l=l+f[s++]|0)|0,--n;);l%=65521,i%=65521}return l|i<<16|0}},{}],44:[function(p,d,h){"use strict";d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,d,h){"use strict";var m=function(){for(var f,r=[],s=0;s<256;s++){f=s;for(var l=0;l<8;l++)f=1&f?3988292384^f>>>1:f>>>1;r[s]=f}return r}();d.exports=function(f,r,s,l){var i=m,n=l+s;f^=-1;for(var u=l;u<n;u++)f=f>>>8^i[255&(f^r[u])];return-1^f}},{}],46:[function(p,d,h){"use strict";var m,f=p("../utils/common"),r=p("./trees"),s=p("./adler32"),l=p("./crc32"),i=p("./messages"),n=0,u=4,a=0,o=-2,c=-1,y=4,_=2,x=8,b=9,w=286,M=30,E=19,A=2*w+1,C=15,I=3,F=258,R=F+I+1,U=42,z=113,P=1,W=2,Q=3,ae=4;function j(q,we){return q.msg=i[we],we}T(j,"ee");function L(q){return(q<<1)-(4<q?9:0)}T(L,"q");function G(q){for(var we=q.length;0<=--we;)q[we]=0}T(G,"te");function N(q){var we=q.state,ve=we.pending;ve>q.avail_out&&(ve=q.avail_out),ve!==0&&(f.arraySet(q.output,we.pending_buf,we.pending_out,ve,q.next_out),q.next_out+=ve,we.pending_out+=ve,q.total_out+=ve,q.avail_out-=ve,we.pending-=ve,we.pending===0&&(we.pending_out=0))}T(N,"P");function Z(q,we){r._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,we),q.block_start=q.strstart,N(q.strm)}T(Z,"L");function oe(q,we){q.pending_buf[q.pending++]=we}T(oe,"le");function ie(q,we){q.pending_buf[q.pending++]=we>>>8&255,q.pending_buf[q.pending++]=255&we}T(ie,"X");function ce(q,we){var ve,re,fe=q.max_chain_length,ge=q.strstart,B=q.prev_length,H=q.nice_match,X=q.strstart>q.w_size-R?q.strstart-(q.w_size-R):0,te=q.window,pe=q.w_mask,le=q.prev,$=q.strstart+F,ne=te[ge+B-1],J=te[ge+B];q.prev_length>=q.good_match&&(fe>>=2),H>q.lookahead&&(H=q.lookahead);do if(te[(ve=we)+B]===J&&te[ve+B-1]===ne&&te[ve]===te[ge]&&te[++ve]===te[ge+1]){ge+=2,ve++;do;while(te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&te[++ge]===te[++ve]&&ge<$);if(re=F-($-ge),ge=$-F,B<re){if(q.match_start=we,H<=(B=re))break;ne=te[ge+B-1],J=te[ge+B]}}while((we=le[we&pe])>X&&--fe!=0);return B<=q.lookahead?B:q.lookahead}T(ce,"N");function ue(q){var we,ve,re,fe,ge,B,H,X,te,pe,le=q.w_size;do{if(fe=q.window_size-q.lookahead-q.strstart,q.strstart>=le+(le-R)){for(f.arraySet(q.window,q.window,le,le,0),q.match_start-=le,q.strstart-=le,q.block_start-=le,we=ve=q.hash_size;re=q.head[--we],q.head[we]=le<=re?re-le:0,--ve;);for(we=ve=le;re=q.prev[--we],q.prev[we]=le<=re?re-le:0,--ve;);fe+=le}if(q.strm.avail_in===0)break;if(B=q.strm,H=q.window,X=q.strstart+q.lookahead,te=fe,pe=void 0,pe=B.avail_in,te<pe&&(pe=te),ve=pe===0?0:(B.avail_in-=pe,f.arraySet(H,B.input,B.next_in,pe,X),B.state.wrap===1?B.adler=s(B.adler,H,pe,X):B.state.wrap===2&&(B.adler=l(B.adler,H,pe,X)),B.next_in+=pe,B.total_in+=pe,pe),q.lookahead+=ve,q.lookahead+q.insert>=I)for(ge=q.strstart-q.insert,q.ins_h=q.window[ge],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ge+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ge+I-1])&q.hash_mask,q.prev[ge&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ge,ge++,q.insert--,!(q.lookahead+q.insert<I)););}while(q.lookahead<R&&q.strm.avail_in!==0)}T(ue,"se");function be(q,we){for(var ve,re;;){if(q.lookahead<R){if(ue(q),q.lookahead<R&&we===n)return P;if(q.lookahead===0)break}if(ve=0,q.lookahead>=I&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+I-1])&q.hash_mask,ve=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),ve!==0&&q.strstart-ve<=q.w_size-R&&(q.match_length=ce(q,ve)),q.match_length>=I)if(re=r._tr_tally(q,q.strstart-q.match_start,q.match_length-I),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=I){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+I-1])&q.hash_mask,ve=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else re=r._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(re&&(Z(q,!1),q.strm.avail_out===0))return P}return q.insert=q.strstart<I-1?q.strstart:I-1,we===u?(Z(q,!0),q.strm.avail_out===0?Q:ae):q.last_lit&&(Z(q,!1),q.strm.avail_out===0)?P:W}T(be,"pe");function ye(q,we){for(var ve,re,fe;;){if(q.lookahead<R){if(ue(q),q.lookahead<R&&we===n)return P;if(q.lookahead===0)break}if(ve=0,q.lookahead>=I&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+I-1])&q.hash_mask,ve=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=I-1,ve!==0&&q.prev_length<q.max_lazy_match&&q.strstart-ve<=q.w_size-R&&(q.match_length=ce(q,ve),q.match_length<=5&&(q.strategy===1||q.match_length===I&&4096<q.strstart-q.match_start)&&(q.match_length=I-1)),q.prev_length>=I&&q.match_length<=q.prev_length){for(fe=q.strstart+q.lookahead-I,re=r._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-I),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=fe&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+I-1])&q.hash_mask,ve=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=I-1,q.strstart++,re&&(Z(q,!1),q.strm.avail_out===0))return P}else if(q.match_available){if((re=r._tr_tally(q,0,q.window[q.strstart-1]))&&Z(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return P}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(re=r._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<I-1?q.strstart:I-1,we===u?(Z(q,!0),q.strm.avail_out===0?Q:ae):q.last_lit&&(Z(q,!1),q.strm.avail_out===0)?P:W}T(ye,"ue");function se(q,we,ve,re,fe){this.good_length=q,this.max_lazy=we,this.nice_length=ve,this.max_chain=re,this.func=fe}T(se,"ve");function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*A),this.dyn_dtree=new f.Buf16(2*(2*M+1)),this.bl_tree=new f.Buf16(2*(2*E+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(C+1),this.heap=new f.Buf16(2*w+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*w+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}T(xe,"ke");function Se(q){var we;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=_,(we=q.state).pending=0,we.pending_out=0,we.wrap<0&&(we.wrap=-we.wrap),we.status=we.wrap?U:z,q.adler=we.wrap===2?0:1,we.last_flush=n,r._tr_init(we),a):j(q,o)}T(Se,"_e");function Ie(q){var we=Se(q);return we===a&&function(ve){ve.window_size=2*ve.w_size,G(ve.head),ve.max_lazy_match=m[ve.level].max_lazy,ve.good_match=m[ve.level].good_length,ve.nice_match=m[ve.level].nice_length,ve.max_chain_length=m[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=I-1,ve.match_available=0,ve.ins_h=0}(q.state),we}T(Ie,"Pe");function Me(q,we,ve,re,fe,ge){if(!q)return o;var B=1;if(we===c&&(we=6),re<0?(B=0,re=-re):15<re&&(B=2,re-=16),fe<1||b<fe||ve!==x||re<8||15<re||we<0||9<we||ge<0||y<ge)return j(q,o);re===8&&(re=9);var H=new xe;return(q.state=H).strm=q,H.wrap=B,H.gzhead=null,H.w_bits=re,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=fe+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+I-1)/I),H.window=new f.Buf8(2*H.w_size),H.head=new f.Buf16(H.hash_size),H.prev=new f.Buf16(H.w_size),H.lit_bufsize=1<<fe+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new f.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=we,H.strategy=ge,H.method=ve,Ie(q)}T(Me,"Ee"),m=[new se(0,0,0,0,function(q,we){var ve=65535;for(ve>q.pending_buf_size-5&&(ve=q.pending_buf_size-5);;){if(q.lookahead<=1){if(ue(q),q.lookahead===0&&we===n)return P;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var re=q.block_start+ve;if((q.strstart===0||q.strstart>=re)&&(q.lookahead=q.strstart-re,q.strstart=re,Z(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-R&&(Z(q,!1),q.strm.avail_out===0))return P}return q.insert=0,we===u?(Z(q,!0),q.strm.avail_out===0?Q:ae):(q.strstart>q.block_start&&(Z(q,!1),q.strm.avail_out),P)}),new se(4,4,8,4,be),new se(4,5,16,8,be),new se(4,6,32,32,be),new se(4,4,16,16,ye),new se(8,16,32,32,ye),new se(8,16,128,128,ye),new se(8,32,128,256,ye),new se(32,128,258,1024,ye),new se(32,258,258,4096,ye)],h.deflateInit=function(q,we){return Me(q,we,x,15,8,0)},h.deflateInit2=Me,h.deflateReset=Ie,h.deflateResetKeep=Se,h.deflateSetHeader=function(q,we){return q&&q.state?q.state.wrap!==2?o:(q.state.gzhead=we,a):o},h.deflate=function(q,we){var ve,re,fe,ge;if(!q||!q.state||5<we||we<0)return q?j(q,o):o;if(re=q.state,!q.output||!q.input&&q.avail_in!==0||re.status===666&&we!==u)return j(q,q.avail_out===0?-5:o);if(re.strm=q,ve=re.last_flush,re.last_flush=we,re.status===U)if(re.wrap===2)q.adler=0,oe(re,31),oe(re,139),oe(re,8),re.gzhead?(oe(re,(re.gzhead.text?1:0)+(re.gzhead.hcrc?2:0)+(re.gzhead.extra?4:0)+(re.gzhead.name?8:0)+(re.gzhead.comment?16:0)),oe(re,255&re.gzhead.time),oe(re,re.gzhead.time>>8&255),oe(re,re.gzhead.time>>16&255),oe(re,re.gzhead.time>>24&255),oe(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),oe(re,255&re.gzhead.os),re.gzhead.extra&&re.gzhead.extra.length&&(oe(re,255&re.gzhead.extra.length),oe(re,re.gzhead.extra.length>>8&255)),re.gzhead.hcrc&&(q.adler=l(q.adler,re.pending_buf,re.pending,0)),re.gzindex=0,re.status=69):(oe(re,0),oe(re,0),oe(re,0),oe(re,0),oe(re,0),oe(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),oe(re,3),re.status=z);else{var B=x+(re.w_bits-8<<4)<<8;B|=(2<=re.strategy||re.level<2?0:re.level<6?1:re.level===6?2:3)<<6,re.strstart!==0&&(B|=32),B+=31-B%31,re.status=z,ie(re,B),re.strstart!==0&&(ie(re,q.adler>>>16),ie(re,65535&q.adler)),q.adler=1}if(re.status===69)if(re.gzhead.extra){for(fe=re.pending;re.gzindex<(65535&re.gzhead.extra.length)&&(re.pending!==re.pending_buf_size||(re.gzhead.hcrc&&re.pending>fe&&(q.adler=l(q.adler,re.pending_buf,re.pending-fe,fe)),N(q),fe=re.pending,re.pending!==re.pending_buf_size));)oe(re,255&re.gzhead.extra[re.gzindex]),re.gzindex++;re.gzhead.hcrc&&re.pending>fe&&(q.adler=l(q.adler,re.pending_buf,re.pending-fe,fe)),re.gzindex===re.gzhead.extra.length&&(re.gzindex=0,re.status=73)}else re.status=73;if(re.status===73)if(re.gzhead.name){fe=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>fe&&(q.adler=l(q.adler,re.pending_buf,re.pending-fe,fe)),N(q),fe=re.pending,re.pending===re.pending_buf_size)){ge=1;break}ge=re.gzindex<re.gzhead.name.length?255&re.gzhead.name.charCodeAt(re.gzindex++):0,oe(re,ge)}while(ge!==0);re.gzhead.hcrc&&re.pending>fe&&(q.adler=l(q.adler,re.pending_buf,re.pending-fe,fe)),ge===0&&(re.gzindex=0,re.status=91)}else re.status=91;if(re.status===91)if(re.gzhead.comment){fe=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>fe&&(q.adler=l(q.adler,re.pending_buf,re.pending-fe,fe)),N(q),fe=re.pending,re.pending===re.pending_buf_size)){ge=1;break}ge=re.gzindex<re.gzhead.comment.length?255&re.gzhead.comment.charCodeAt(re.gzindex++):0,oe(re,ge)}while(ge!==0);re.gzhead.hcrc&&re.pending>fe&&(q.adler=l(q.adler,re.pending_buf,re.pending-fe,fe)),ge===0&&(re.status=103)}else re.status=103;if(re.status===103&&(re.gzhead.hcrc?(re.pending+2>re.pending_buf_size&&N(q),re.pending+2<=re.pending_buf_size&&(oe(re,255&q.adler),oe(re,q.adler>>8&255),q.adler=0,re.status=z)):re.status=z),re.pending!==0){if(N(q),q.avail_out===0)return re.last_flush=-1,a}else if(q.avail_in===0&&L(we)<=L(ve)&&we!==u)return j(q,-5);if(re.status===666&&q.avail_in!==0)return j(q,-5);if(q.avail_in!==0||re.lookahead!==0||we!==n&&re.status!==666){var H=re.strategy===2?function(X,te){for(var pe;;){if(X.lookahead===0&&(ue(X),X.lookahead===0)){if(te===n)return P;break}if(X.match_length=0,pe=r._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,pe&&(Z(X,!1),X.strm.avail_out===0))return P}return X.insert=0,te===u?(Z(X,!0),X.strm.avail_out===0?Q:ae):X.last_lit&&(Z(X,!1),X.strm.avail_out===0)?P:W}(re,we):re.strategy===3?function(X,te){for(var pe,le,$,ne,J=X.window;;){if(X.lookahead<=F){if(ue(X),X.lookahead<=F&&te===n)return P;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=I&&0<X.strstart&&(le=J[$=X.strstart-1])===J[++$]&&le===J[++$]&&le===J[++$]){ne=X.strstart+F;do;while(le===J[++$]&&le===J[++$]&&le===J[++$]&&le===J[++$]&&le===J[++$]&&le===J[++$]&&le===J[++$]&&le===J[++$]&&$<ne);X.match_length=F-(ne-$),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=I?(pe=r._tr_tally(X,1,X.match_length-I),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(pe=r._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),pe&&(Z(X,!1),X.strm.avail_out===0))return P}return X.insert=0,te===u?(Z(X,!0),X.strm.avail_out===0?Q:ae):X.last_lit&&(Z(X,!1),X.strm.avail_out===0)?P:W}(re,we):m[re.level].func(re,we);if(H!==Q&&H!==ae||(re.status=666),H===P||H===Q)return q.avail_out===0&&(re.last_flush=-1),a;if(H===W&&(we===1?r._tr_align(re):we!==5&&(r._tr_stored_block(re,0,0,!1),we===3&&(G(re.head),re.lookahead===0&&(re.strstart=0,re.block_start=0,re.insert=0))),N(q),q.avail_out===0))return re.last_flush=-1,a}return we!==u?a:re.wrap<=0?1:(re.wrap===2?(oe(re,255&q.adler),oe(re,q.adler>>8&255),oe(re,q.adler>>16&255),oe(re,q.adler>>24&255),oe(re,255&q.total_in),oe(re,q.total_in>>8&255),oe(re,q.total_in>>16&255),oe(re,q.total_in>>24&255)):(ie(re,q.adler>>>16),ie(re,65535&q.adler)),N(q),0<re.wrap&&(re.wrap=-re.wrap),re.pending!==0?a:1)},h.deflateEnd=function(q){var we;return q&&q.state?(we=q.state.status)!==U&&we!==69&&we!==73&&we!==91&&we!==103&&we!==z&&we!==666?j(q,o):(q.state=null,we===z?j(q,-3):a):o},h.deflateSetDictionary=function(q,we){var ve,re,fe,ge,B,H,X,te,pe=we.length;if(!q||!q.state||(ge=(ve=q.state).wrap)===2||ge===1&&ve.status!==U||ve.lookahead)return o;for(ge===1&&(q.adler=s(q.adler,we,pe,0)),ve.wrap=0,pe>=ve.w_size&&(ge===0&&(G(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),te=new f.Buf8(ve.w_size),f.arraySet(te,we,pe-ve.w_size,ve.w_size,0),we=te,pe=ve.w_size),B=q.avail_in,H=q.next_in,X=q.input,q.avail_in=pe,q.next_in=0,q.input=we,ue(ve);ve.lookahead>=I;){for(re=ve.strstart,fe=ve.lookahead-(I-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[re+I-1])&ve.hash_mask,ve.prev[re&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=re,re++,--fe;);ve.strstart=re,ve.lookahead=I-1,ue(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=I-1,ve.match_available=0,q.next_in=H,q.input=X,q.avail_in=B,ve.wrap=ge,a},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,d,h){"use strict";d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,d,h){"use strict";d.exports=function(m,f){var r,s,l,i,n,u,a,o,c,y,_,x,b,w,M,E,A,C,I,F,R,U,z,P,W;r=m.state,s=m.next_in,P=m.input,l=s+(m.avail_in-5),i=m.next_out,W=m.output,n=i-(f-m.avail_out),u=i+(m.avail_out-257),a=r.dmax,o=r.wsize,c=r.whave,y=r.wnext,_=r.window,x=r.hold,b=r.bits,w=r.lencode,M=r.distcode,E=(1<<r.lenbits)-1,A=(1<<r.distbits)-1;e:do{b<15&&(x+=P[s++]<<b,b+=8,x+=P[s++]<<b,b+=8),C=w[x&E];t:for(;;){if(x>>>=I=C>>>24,b-=I,(I=C>>>16&255)===0)W[i++]=65535&C;else{if(!(16&I)){if(!(64&I)){C=w[(65535&C)+(x&(1<<I)-1)];continue t}if(32&I){r.mode=12;break e}m.msg="invalid literal/length code",r.mode=30;break e}F=65535&C,(I&=15)&&(b<I&&(x+=P[s++]<<b,b+=8),F+=x&(1<<I)-1,x>>>=I,b-=I),b<15&&(x+=P[s++]<<b,b+=8,x+=P[s++]<<b,b+=8),C=M[x&A];r:for(;;){if(x>>>=I=C>>>24,b-=I,!(16&(I=C>>>16&255))){if(!(64&I)){C=M[(65535&C)+(x&(1<<I)-1)];continue r}m.msg="invalid distance code",r.mode=30;break e}if(R=65535&C,b<(I&=15)&&(x+=P[s++]<<b,(b+=8)<I&&(x+=P[s++]<<b,b+=8)),a<(R+=x&(1<<I)-1)){m.msg="invalid distance too far back",r.mode=30;break e}if(x>>>=I,b-=I,(I=i-n)<R){if(c<(I=R-I)&&r.sane){m.msg="invalid distance too far back",r.mode=30;break e}if(z=_,(U=0)===y){if(U+=o-I,I<F){for(F-=I;W[i++]=_[U++],--I;);U=i-R,z=W}}else if(y<I){if(U+=o+y-I,(I-=y)<F){for(F-=I;W[i++]=_[U++],--I;);if(U=0,y<F){for(F-=I=y;W[i++]=_[U++],--I;);U=i-R,z=W}}}else if(U+=y-I,I<F){for(F-=I;W[i++]=_[U++],--I;);U=i-R,z=W}for(;2<F;)W[i++]=z[U++],W[i++]=z[U++],W[i++]=z[U++],F-=3;F&&(W[i++]=z[U++],1<F&&(W[i++]=z[U++]))}else{for(U=i-R;W[i++]=W[U++],W[i++]=W[U++],W[i++]=W[U++],2<(F-=3););F&&(W[i++]=W[U++],1<F&&(W[i++]=W[U++]))}break}}break}}while(s<l&&i<u);s-=F=b>>3,x&=(1<<(b-=F<<3))-1,m.next_in=s,m.next_out=i,m.avail_in=s<l?l-s+5:5-(s-l),m.avail_out=i<u?u-i+257:257-(i-u),r.hold=x,r.bits=b}},{}],49:[function(p,d,h){"use strict";var m=p("../utils/common"),f=p("./adler32"),r=p("./crc32"),s=p("./inffast"),l=p("./inftrees"),i=1,n=2,u=0,a=-2,o=1,c=852,y=592;function _(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}T(_,"d");function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}T(x,"p");function b(U){var z;return U&&U.state?(z=U.state,U.total_in=U.total_out=z.total=0,U.msg="",z.wrap&&(U.adler=1&z.wrap),z.mode=o,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new m.Buf32(c),z.distcode=z.distdyn=new m.Buf32(y),z.sane=1,z.back=-1,u):a}T(b,"u");function w(U){var z;return U&&U.state?((z=U.state).wsize=0,z.whave=0,z.wnext=0,b(U)):a}T(w,"k");function M(U,z){var P,W;return U&&U.state?(W=U.state,z<0?(P=0,z=-z):(P=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?a:(W.window!==null&&W.wbits!==z&&(W.window=null),W.wrap=P,W.wbits=z,w(U))):a}T(M,"y");function E(U,z){var P,W;return U?(W=new x,(U.state=W).window=null,(P=M(U,z))!==u&&(U.state=null),P):a}T(E,"T");var A,C,I=!0;function F(U){if(I){var z;for(A=new m.Buf32(512),C=new m.Buf32(32),z=0;z<144;)U.lens[z++]=8;for(;z<256;)U.lens[z++]=9;for(;z<280;)U.lens[z++]=7;for(;z<288;)U.lens[z++]=8;for(l(i,U.lens,0,288,A,0,U.work,{bits:9}),z=0;z<32;)U.lens[z++]=5;l(n,U.lens,0,32,C,0,U.work,{bits:5}),I=!1}U.lencode=A,U.lenbits=9,U.distcode=C,U.distbits=5}T(F,"I");function R(U,z,P,W){var Q,ae=U.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new m.Buf8(ae.wsize)),W>=ae.wsize?(m.arraySet(ae.window,z,P-ae.wsize,ae.wsize,0),ae.wnext=0,ae.whave=ae.wsize):(W<(Q=ae.wsize-ae.wnext)&&(Q=W),m.arraySet(ae.window,z,P-W,Q,ae.wnext),(W-=Q)?(m.arraySet(ae.window,z,P-W,W,0),ae.wnext=W,ae.whave=ae.wsize):(ae.wnext+=Q,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=Q))),0}T(R,"V"),h.inflateReset=w,h.inflateReset2=M,h.inflateResetKeep=b,h.inflateInit=function(U){return E(U,15)},h.inflateInit2=E,h.inflate=function(U,z){var P,W,Q,ae,j,L,G,N,Z,oe,ie,ce,ue,be,ye,se,xe,Se,Ie,Me,q,we,ve,re,fe=0,ge=new m.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return a;(P=U.state).mode===12&&(P.mode=13),j=U.next_out,Q=U.output,G=U.avail_out,ae=U.next_in,W=U.input,L=U.avail_in,N=P.hold,Z=P.bits,oe=L,ie=G,we=u;e:for(;;)switch(P.mode){case o:if(P.wrap===0){P.mode=13;break}for(;Z<16;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(2&P.wrap&&N===35615){ge[P.check=0]=255&N,ge[1]=N>>>8&255,P.check=r(P.check,ge,2,0),Z=N=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&N)<<8)+(N>>8))%31){U.msg="incorrect header check",P.mode=30;break}if((15&N)!=8){U.msg="unknown compression method",P.mode=30;break}if(Z-=4,q=8+(15&(N>>>=4)),P.wbits===0)P.wbits=q;else if(q>P.wbits){U.msg="invalid window size",P.mode=30;break}P.dmax=1<<q,U.adler=P.check=1,P.mode=512&N?10:12,Z=N=0;break;case 2:for(;Z<16;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(P.flags=N,(255&P.flags)!=8){U.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){U.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=N>>8&1),512&P.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,P.check=r(P.check,ge,2,0)),Z=N=0,P.mode=3;case 3:for(;Z<32;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}P.head&&(P.head.time=N),512&P.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,ge[2]=N>>>16&255,ge[3]=N>>>24&255,P.check=r(P.check,ge,4,0)),Z=N=0,P.mode=4;case 4:for(;Z<16;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}P.head&&(P.head.xflags=255&N,P.head.os=N>>8),512&P.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,P.check=r(P.check,ge,2,0)),Z=N=0,P.mode=5;case 5:if(1024&P.flags){for(;Z<16;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}P.length=N,P.head&&(P.head.extra_len=N),512&P.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,P.check=r(P.check,ge,2,0)),Z=N=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(L<(ce=P.length)&&(ce=L),ce&&(P.head&&(q=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),m.arraySet(P.head.extra,W,ae,ce,q)),512&P.flags&&(P.check=r(P.check,W,ce,ae)),L-=ce,ae+=ce,P.length-=ce),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(L===0)break e;for(ce=0;q=W[ae+ce++],P.head&&q&&P.length<65536&&(P.head.name+=String.fromCharCode(q)),q&&ce<L;);if(512&P.flags&&(P.check=r(P.check,W,ce,ae)),L-=ce,ae+=ce,q)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(L===0)break e;for(ce=0;q=W[ae+ce++],P.head&&q&&P.length<65536&&(P.head.comment+=String.fromCharCode(q)),q&&ce<L;);if(512&P.flags&&(P.check=r(P.check,W,ce,ae)),L-=ce,ae+=ce,q)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;Z<16;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(N!==(65535&P.check)){U.msg="header crc mismatch",P.mode=30;break}Z=N=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),U.adler=P.check=0,P.mode=12;break;case 10:for(;Z<32;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}U.adler=P.check=_(N),Z=N=0,P.mode=11;case 11:if(P.havedict===0)return U.next_out=j,U.avail_out=G,U.next_in=ae,U.avail_in=L,P.hold=N,P.bits=Z,2;U.adler=P.check=1,P.mode=12;case 12:if(z===5||z===6)break e;case 13:if(P.last){N>>>=7&Z,Z-=7&Z,P.mode=27;break}for(;Z<3;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}switch(P.last=1&N,Z-=1,3&(N>>>=1)){case 0:P.mode=14;break;case 1:if(F(P),P.mode=20,z!==6)break;N>>>=2,Z-=2;break e;case 2:P.mode=17;break;case 3:U.msg="invalid block type",P.mode=30}N>>>=2,Z-=2;break;case 14:for(N>>>=7&Z,Z-=7&Z;Z<32;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if((65535&N)!=(N>>>16^65535)){U.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&N,Z=N=0,P.mode=15,z===6)break e;case 15:P.mode=16;case 16:if(ce=P.length){if(L<ce&&(ce=L),G<ce&&(ce=G),ce===0)break e;m.arraySet(Q,W,ae,ce,j),L-=ce,ae+=ce,G-=ce,j+=ce,P.length-=ce;break}P.mode=12;break;case 17:for(;Z<14;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(P.nlen=257+(31&N),N>>>=5,Z-=5,P.ndist=1+(31&N),N>>>=5,Z-=5,P.ncode=4+(15&N),N>>>=4,Z-=4,286<P.nlen||30<P.ndist){U.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;Z<3;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}P.lens[B[P.have++]]=7&N,N>>>=3,Z-=3}for(;P.have<19;)P.lens[B[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,ve={bits:P.lenbits},we=l(0,P.lens,0,19,P.lencode,0,P.work,ve),P.lenbits=ve.bits,we){U.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;se=(fe=P.lencode[N&(1<<P.lenbits)-1])>>>16&255,xe=65535&fe,!((ye=fe>>>24)<=Z);){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(xe<16)N>>>=ye,Z-=ye,P.lens[P.have++]=xe;else{if(xe===16){for(re=ye+2;Z<re;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(N>>>=ye,Z-=ye,P.have===0){U.msg="invalid bit length repeat",P.mode=30;break}q=P.lens[P.have-1],ce=3+(3&N),N>>>=2,Z-=2}else if(xe===17){for(re=ye+3;Z<re;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}Z-=ye,q=0,ce=3+(7&(N>>>=ye)),N>>>=3,Z-=3}else{for(re=ye+7;Z<re;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}Z-=ye,q=0,ce=11+(127&(N>>>=ye)),N>>>=7,Z-=7}if(P.have+ce>P.nlen+P.ndist){U.msg="invalid bit length repeat",P.mode=30;break}for(;ce--;)P.lens[P.have++]=q}}if(P.mode===30)break;if(P.lens[256]===0){U.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,ve={bits:P.lenbits},we=l(i,P.lens,0,P.nlen,P.lencode,0,P.work,ve),P.lenbits=ve.bits,we){U.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,ve={bits:P.distbits},we=l(n,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,ve),P.distbits=ve.bits,we){U.msg="invalid distances set",P.mode=30;break}if(P.mode=20,z===6)break e;case 20:P.mode=21;case 21:if(6<=L&&258<=G){U.next_out=j,U.avail_out=G,U.next_in=ae,U.avail_in=L,P.hold=N,P.bits=Z,s(U,ie),j=U.next_out,Q=U.output,G=U.avail_out,ae=U.next_in,W=U.input,L=U.avail_in,N=P.hold,Z=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;se=(fe=P.lencode[N&(1<<P.lenbits)-1])>>>16&255,xe=65535&fe,!((ye=fe>>>24)<=Z);){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(se&&!(240&se)){for(Se=ye,Ie=se,Me=xe;se=(fe=P.lencode[Me+((N&(1<<Se+Ie)-1)>>Se)])>>>16&255,xe=65535&fe,!(Se+(ye=fe>>>24)<=Z);){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}N>>>=Se,Z-=Se,P.back+=Se}if(N>>>=ye,Z-=ye,P.back+=ye,P.length=xe,se===0){P.mode=26;break}if(32&se){P.back=-1,P.mode=12;break}if(64&se){U.msg="invalid literal/length code",P.mode=30;break}P.extra=15&se,P.mode=22;case 22:if(P.extra){for(re=P.extra;Z<re;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}P.length+=N&(1<<P.extra)-1,N>>>=P.extra,Z-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;se=(fe=P.distcode[N&(1<<P.distbits)-1])>>>16&255,xe=65535&fe,!((ye=fe>>>24)<=Z);){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(!(240&se)){for(Se=ye,Ie=se,Me=xe;se=(fe=P.distcode[Me+((N&(1<<Se+Ie)-1)>>Se)])>>>16&255,xe=65535&fe,!(Se+(ye=fe>>>24)<=Z);){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}N>>>=Se,Z-=Se,P.back+=Se}if(N>>>=ye,Z-=ye,P.back+=ye,64&se){U.msg="invalid distance code",P.mode=30;break}P.offset=xe,P.extra=15&se,P.mode=24;case 24:if(P.extra){for(re=P.extra;Z<re;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}P.offset+=N&(1<<P.extra)-1,N>>>=P.extra,Z-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){U.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(G===0)break e;if(ce=ie-G,P.offset>ce){if((ce=P.offset-ce)>P.whave&&P.sane){U.msg="invalid distance too far back",P.mode=30;break}ue=ce>P.wnext?(ce-=P.wnext,P.wsize-ce):P.wnext-ce,ce>P.length&&(ce=P.length),be=P.window}else be=Q,ue=j-P.offset,ce=P.length;for(G<ce&&(ce=G),G-=ce,P.length-=ce;Q[j++]=be[ue++],--ce;);P.length===0&&(P.mode=21);break;case 26:if(G===0)break e;Q[j++]=P.length,G--,P.mode=21;break;case 27:if(P.wrap){for(;Z<32;){if(L===0)break e;L--,N|=W[ae++]<<Z,Z+=8}if(ie-=G,U.total_out+=ie,P.total+=ie,ie&&(U.adler=P.check=P.flags?r(P.check,Q,ie,j-ie):f(P.check,Q,ie,j-ie)),ie=G,(P.flags?N:_(N))!==P.check){U.msg="incorrect data check",P.mode=30;break}Z=N=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;Z<32;){if(L===0)break e;L--,N+=W[ae++]<<Z,Z+=8}if(N!==(4294967295&P.total)){U.msg="incorrect length check",P.mode=30;break}Z=N=0}P.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;case 32:default:return a}return U.next_out=j,U.avail_out=G,U.next_in=ae,U.avail_in=L,P.hold=N,P.bits=Z,(P.wsize||ie!==U.avail_out&&P.mode<30&&(P.mode<27||z!==4))&&R(U,U.output,U.next_out,ie-U.avail_out)?(P.mode=31,-4):(oe-=U.avail_in,ie-=U.avail_out,U.total_in+=oe,U.total_out+=ie,P.total+=ie,P.wrap&&ie&&(U.adler=P.check=P.flags?r(P.check,Q,ie,U.next_out-ie):f(P.check,Q,ie,U.next_out-ie)),U.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(oe==0&&ie===0||z===4)&&we===u&&(we=-5),we)},h.inflateEnd=function(U){if(!U||!U.state)return a;var z=U.state;return z.window&&(z.window=null),U.state=null,u},h.inflateGetHeader=function(U,z){var P;return U&&U.state&&2&(P=U.state).wrap?((P.head=z).done=!1,u):a},h.inflateSetDictionary=function(U,z){var P,W=z.length;return U&&U.state?(P=U.state).wrap!==0&&P.mode!==11?a:P.mode===11&&f(1,z,W,0)!==P.check?-3:R(U,z,W,W)?(P.mode=31,-4):(P.havedict=1,u):a},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,d,h){"use strict";var m=p("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(i,n,u,a,o,c,y,_){var x,b,w,M,E,A,C,I,F,R=_.bits,U=0,z=0,P=0,W=0,Q=0,ae=0,j=0,L=0,G=0,N=0,Z=null,oe=0,ie=new m.Buf16(16),ce=new m.Buf16(16),ue=null,be=0;for(U=0;U<=15;U++)ie[U]=0;for(z=0;z<a;z++)ie[n[u+z]]++;for(Q=R,W=15;1<=W&&ie[W]===0;W--);if(W<Q&&(Q=W),W===0)return o[c++]=20971520,o[c++]=20971520,_.bits=1,0;for(P=1;P<W&&ie[P]===0;P++);for(Q<P&&(Q=P),U=L=1;U<=15;U++)if(L<<=1,(L-=ie[U])<0)return-1;if(0<L&&(i===0||W!==1))return-1;for(ce[1]=0,U=1;U<15;U++)ce[U+1]=ce[U]+ie[U];for(z=0;z<a;z++)n[u+z]!==0&&(y[ce[n[u+z]]++]=z);if(A=i===0?(Z=ue=y,19):i===1?(Z=f,oe-=257,ue=r,be-=257,256):(Z=s,ue=l,-1),U=P,E=c,j=z=N=0,w=-1,M=(G=1<<(ae=Q))-1,i===1&&852<G||i===2&&592<G)return 1;for(;;){for(C=U-j,F=y[z]<A?(I=0,y[z]):y[z]>A?(I=ue[be+y[z]],Z[oe+y[z]]):(I=96,0),x=1<<U-j,P=b=1<<ae;o[E+(N>>j)+(b-=x)]=C<<24|I<<16|F|0,b!==0;);for(x=1<<U-1;N&x;)x>>=1;if(x!==0?(N&=x-1,N+=x):N=0,z++,--ie[U]==0){if(U===W)break;U=n[u+y[z]]}if(Q<U&&(N&M)!==w){for(j===0&&(j=Q),E+=P,L=1<<(ae=U-j);ae+j<W&&!((L-=ie[ae+j])<=0);)ae++,L<<=1;if(G+=1<<ae,i===1&&852<G||i===2&&592<G)return 1;o[w=N&M]=Q<<24|ae<<16|E-c|0}}return N!==0&&(o[E+N]=U-j<<24|4194304|0),_.bits=Q,0}},{"../utils/common":41}],51:[function(p,d,h){"use strict";d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,d,h){"use strict";var m=p("../utils/common"),f=0,r=1;function s(fe){for(var ge=fe.length;0<=--ge;)fe[ge]=0}T(s,"f");var l=0,i=29,n=256,u=n+1+i,a=30,o=19,c=2*u+1,y=15,_=16,x=7,b=256,w=16,M=17,E=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(u+2));s(R);var U=new Array(2*a);s(U);var z=new Array(512);s(z);var P=new Array(256);s(P);var W=new Array(i);s(W);var Q,ae,j,L=new Array(a);function G(fe,ge,B,H,X){this.static_tree=fe,this.extra_bits=ge,this.extra_base=B,this.elems=H,this.max_length=X,this.has_stree=fe&&fe.length}T(G,"te");function N(fe,ge){this.dyn_tree=fe,this.max_code=0,this.stat_desc=ge}T(N,"P");function Z(fe){return fe<256?z[fe]:z[256+(fe>>>7)]}T(Z,"L");function oe(fe,ge){fe.pending_buf[fe.pending++]=255&ge,fe.pending_buf[fe.pending++]=ge>>>8&255}T(oe,"le");function ie(fe,ge,B){fe.bi_valid>_-B?(fe.bi_buf|=ge<<fe.bi_valid&65535,oe(fe,fe.bi_buf),fe.bi_buf=ge>>_-fe.bi_valid,fe.bi_valid+=B-_):(fe.bi_buf|=ge<<fe.bi_valid&65535,fe.bi_valid+=B)}T(ie,"X");function ce(fe,ge,B){ie(fe,B[2*ge],B[2*ge+1])}T(ce,"N");function ue(fe,ge){for(var B=0;B|=1&fe,fe>>>=1,B<<=1,0<--ge;);return B>>>1}T(ue,"se");function be(fe,ge,B){var H,X,te=new Array(y+1),pe=0;for(H=1;H<=y;H++)te[H]=pe=pe+B[H-1]<<1;for(X=0;X<=ge;X++){var le=fe[2*X+1];le!==0&&(fe[2*X]=ue(te[le]++,le))}}T(be,"pe");function ye(fe){var ge;for(ge=0;ge<u;ge++)fe.dyn_ltree[2*ge]=0;for(ge=0;ge<a;ge++)fe.dyn_dtree[2*ge]=0;for(ge=0;ge<o;ge++)fe.bl_tree[2*ge]=0;fe.dyn_ltree[2*b]=1,fe.opt_len=fe.static_len=0,fe.last_lit=fe.matches=0}T(ye,"ue");function se(fe){8<fe.bi_valid?oe(fe,fe.bi_buf):0<fe.bi_valid&&(fe.pending_buf[fe.pending++]=fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0}T(se,"ve");function xe(fe,ge,B,H){var X=2*ge,te=2*B;return fe[X]<fe[te]||fe[X]===fe[te]&&H[ge]<=H[B]}T(xe,"ke");function Se(fe,ge,B){for(var H=fe.heap[B],X=B<<1;X<=fe.heap_len&&(X<fe.heap_len&&xe(ge,fe.heap[X+1],fe.heap[X],fe.depth)&&X++,!xe(ge,H,fe.heap[X],fe.depth));)fe.heap[B]=fe.heap[X],B=X,X<<=1;fe.heap[B]=H}T(Se,"_e");function Ie(fe,ge,B){var H,X,te,pe,le=0;if(fe.last_lit!==0)for(;H=fe.pending_buf[fe.d_buf+2*le]<<8|fe.pending_buf[fe.d_buf+2*le+1],X=fe.pending_buf[fe.l_buf+le],le++,H===0?ce(fe,X,ge):(ce(fe,(te=P[X])+n+1,ge),(pe=A[te])!==0&&ie(fe,X-=W[te],pe),ce(fe,te=Z(--H),B),(pe=C[te])!==0&&ie(fe,H-=L[te],pe)),le<fe.last_lit;);ce(fe,b,ge)}T(Ie,"Pe");function Me(fe,ge){var B,H,X,te=ge.dyn_tree,pe=ge.stat_desc.static_tree,le=ge.stat_desc.has_stree,$=ge.stat_desc.elems,ne=-1;for(fe.heap_len=0,fe.heap_max=c,B=0;B<$;B++)te[2*B]!==0?(fe.heap[++fe.heap_len]=ne=B,fe.depth[B]=0):te[2*B+1]=0;for(;fe.heap_len<2;)te[2*(X=fe.heap[++fe.heap_len]=ne<2?++ne:0)]=1,fe.depth[X]=0,fe.opt_len--,le&&(fe.static_len-=pe[2*X+1]);for(ge.max_code=ne,B=fe.heap_len>>1;1<=B;B--)Se(fe,te,B);for(X=$;B=fe.heap[1],fe.heap[1]=fe.heap[fe.heap_len--],Se(fe,te,1),H=fe.heap[1],fe.heap[--fe.heap_max]=B,fe.heap[--fe.heap_max]=H,te[2*X]=te[2*B]+te[2*H],fe.depth[X]=(fe.depth[B]>=fe.depth[H]?fe.depth[B]:fe.depth[H])+1,te[2*B+1]=te[2*H+1]=X,fe.heap[1]=X++,Se(fe,te,1),2<=fe.heap_len;);fe.heap[--fe.heap_max]=fe.heap[1],function(J,de){var Te,me,Ee,Le,Fe,Ge,ze=de.dyn_tree,et=de.max_code,Ke=de.stat_desc.static_tree,Qe=de.stat_desc.has_stree,Xe=de.stat_desc.extra_bits,tt=de.stat_desc.extra_base,ht=de.stat_desc.max_length,mt=0;for(Le=0;Le<=y;Le++)J.bl_count[Le]=0;for(ze[2*J.heap[J.heap_max]+1]=0,Te=J.heap_max+1;Te<c;Te++)ht<(Le=ze[2*ze[2*(me=J.heap[Te])+1]+1]+1)&&(Le=ht,mt++),ze[2*me+1]=Le,et<me||(J.bl_count[Le]++,Fe=0,tt<=me&&(Fe=Xe[me-tt]),Ge=ze[2*me],J.opt_len+=Ge*(Le+Fe),Qe&&(J.static_len+=Ge*(Ke[2*me+1]+Fe)));if(mt!==0){do{for(Le=ht-1;J.bl_count[Le]===0;)Le--;J.bl_count[Le]--,J.bl_count[Le+1]+=2,J.bl_count[ht]--,mt-=2}while(0<mt);for(Le=ht;Le!==0;Le--)for(me=J.bl_count[Le];me!==0;)et<(Ee=J.heap[--Te])||(ze[2*Ee+1]!==Le&&(J.opt_len+=(Le-ze[2*Ee+1])*ze[2*Ee],ze[2*Ee+1]=Le),me--)}}(fe,ge),be(te,ne,fe.bl_count)}T(Me,"Ee");function q(fe,ge,B){var H,X,te=-1,pe=ge[1],le=0,$=7,ne=4;for(pe===0&&($=138,ne=3),ge[2*(B+1)+1]=65535,H=0;H<=B;H++)X=pe,pe=ge[2*(H+1)+1],++le<$&&X===pe||(le<ne?fe.bl_tree[2*X]+=le:X!==0?(X!==te&&fe.bl_tree[2*X]++,fe.bl_tree[2*w]++):le<=10?fe.bl_tree[2*M]++:fe.bl_tree[2*E]++,te=X,ne=(le=0)===pe?($=138,3):X===pe?($=6,3):($=7,4))}T(q,"t");function we(fe,ge,B){var H,X,te=-1,pe=ge[1],le=0,$=7,ne=4;for(pe===0&&($=138,ne=3),H=0;H<=B;H++)if(X=pe,pe=ge[2*(H+1)+1],!(++le<$&&X===pe)){if(le<ne)for(;ce(fe,X,fe.bl_tree),--le!=0;);else X!==0?(X!==te&&(ce(fe,X,fe.bl_tree),le--),ce(fe,w,fe.bl_tree),ie(fe,le-3,2)):le<=10?(ce(fe,M,fe.bl_tree),ie(fe,le-3,3)):(ce(fe,E,fe.bl_tree),ie(fe,le-11,7));te=X,ne=(le=0)===pe?($=138,3):X===pe?($=6,3):($=7,4)}}T(we,"K"),s(L);var ve=!1;function re(fe,ge,B,H){ie(fe,(l<<1)+(H?1:0),3),function(X,te,pe,le){se(X),le&&(oe(X,pe),oe(X,~pe)),m.arraySet(X.pending_buf,X.window,te,pe,X.pending),X.pending+=pe}(fe,ge,B,!0)}T(re,"v"),h._tr_init=function(fe){ve||(function(){var ge,B,H,X,te,pe=new Array(y+1);for(X=H=0;X<i-1;X++)for(W[X]=H,ge=0;ge<1<<A[X];ge++)P[H++]=X;for(P[H-1]=X,X=te=0;X<16;X++)for(L[X]=te,ge=0;ge<1<<C[X];ge++)z[te++]=X;for(te>>=7;X<a;X++)for(L[X]=te<<7,ge=0;ge<1<<C[X]-7;ge++)z[256+te++]=X;for(B=0;B<=y;B++)pe[B]=0;for(ge=0;ge<=143;)R[2*ge+1]=8,ge++,pe[8]++;for(;ge<=255;)R[2*ge+1]=9,ge++,pe[9]++;for(;ge<=279;)R[2*ge+1]=7,ge++,pe[7]++;for(;ge<=287;)R[2*ge+1]=8,ge++,pe[8]++;for(be(R,u+1,pe),ge=0;ge<a;ge++)U[2*ge+1]=5,U[2*ge]=ue(ge,5);Q=new G(R,A,n+1,u,y),ae=new G(U,C,0,a,y),j=new G(new Array(0),I,0,o,x)}(),ve=!0),fe.l_desc=new N(fe.dyn_ltree,Q),fe.d_desc=new N(fe.dyn_dtree,ae),fe.bl_desc=new N(fe.bl_tree,j),fe.bi_buf=0,fe.bi_valid=0,ye(fe)},h._tr_stored_block=re,h._tr_flush_block=function(fe,ge,B,H){var X,te,pe=0;0<fe.level?(fe.strm.data_type===2&&(fe.strm.data_type=function(le){var $,ne=4093624447;for($=0;$<=31;$++,ne>>>=1)if(1&ne&&le.dyn_ltree[2*$]!==0)return f;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return r;for($=32;$<n;$++)if(le.dyn_ltree[2*$]!==0)return r;return f}(fe)),Me(fe,fe.l_desc),Me(fe,fe.d_desc),pe=function(le){var $;for(q(le,le.dyn_ltree,le.l_desc.max_code),q(le,le.dyn_dtree,le.d_desc.max_code),Me(le,le.bl_desc),$=o-1;3<=$&&le.bl_tree[2*F[$]+1]===0;$--);return le.opt_len+=3*($+1)+5+5+4,$}(fe),X=fe.opt_len+3+7>>>3,(te=fe.static_len+3+7>>>3)<=X&&(X=te)):X=te=B+5,B+4<=X&&ge!==-1?re(fe,ge,B,H):fe.strategy===4||te===X?(ie(fe,2+(H?1:0),3),Ie(fe,R,U)):(ie(fe,4+(H?1:0),3),function(le,$,ne,J){var de;for(ie(le,$-257,5),ie(le,ne-1,5),ie(le,J-4,4),de=0;de<J;de++)ie(le,le.bl_tree[2*F[de]+1],3);we(le,le.dyn_ltree,$-1),we(le,le.dyn_dtree,ne-1)}(fe,fe.l_desc.max_code+1,fe.d_desc.max_code+1,pe+1),Ie(fe,fe.dyn_ltree,fe.dyn_dtree)),ye(fe),H&&se(fe)},h._tr_tally=function(fe,ge,B){return fe.pending_buf[fe.d_buf+2*fe.last_lit]=ge>>>8&255,fe.pending_buf[fe.d_buf+2*fe.last_lit+1]=255&ge,fe.pending_buf[fe.l_buf+fe.last_lit]=255&B,fe.last_lit++,ge===0?fe.dyn_ltree[2*B]++:(fe.matches++,ge--,fe.dyn_ltree[2*(P[B]+n+1)]++,fe.dyn_dtree[2*Z(ge)]++),fe.last_lit===fe.lit_bufsize-1},h._tr_align=function(fe){ie(fe,2,3),ce(fe,b,R),function(ge){ge.bi_valid===16?(oe(ge,ge.bi_buf),ge.bi_buf=0,ge.bi_valid=0):8<=ge.bi_valid&&(ge.pending_buf[ge.pending++]=255&ge.bi_buf,ge.bi_buf>>=8,ge.bi_valid-=8)}(fe)}},{"../utils/common":41}],53:[function(p,d,h){"use strict";d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,d,h){"use strict";d.exports=typeof xn=="function"?xn:function(){var m=[].slice.apply(arguments);m.splice(1,0,0),setTimeout.apply(null,m)}},{}]},{},[10])(10)})},560:()=>{HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(Y,k,v){var p=this.toDataURL(k,v).split(",")[1];setTimeout(function(){for(var d=atob(p),h=d.length,m=new Uint8Array(h),f=0;f<h;f++)m[f]=d.charCodeAt(f);Y(new Blob([m],{type:k||"image/png"}))})})},650:(Y,k,v)=>{"use strict";v.r(k),v.d(k,{default:()=>u});function p(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}T(p,"g");function d(a,o){for(var c=0;c<o.length;c++){var y=o[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}T(d,"B");function h(a,o,c){return o&&d(a.prototype,o),c&&d(a,c),a}T(h,"_");function m(a){return f(a)||r(a)||s(a)||i()}T(m,"c");function f(a){if(Array.isArray(a))return l(a)}T(f,"o");function r(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}T(r,"r");function s(a,o){if(a){if(typeof a=="string")return l(a,o);var c=Object.prototype.toString.call(a).slice(8,-1);if(c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set")return Array.from(c);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,o)}}T(s,"f");function l(a,o){(o==null||o>a.length)&&(o=a.length);for(var c=0,y=new Array(o);c<o;c++)y[c]=a[c];return y}T(l,"m");function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}T(i,"w");var n=function(){var a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],o=function(){function A(C){var I=C.targetModal,F=C.triggers,R=F===void 0?[]:F,U=C.onShow,z=U===void 0?function(){}:U,P=C.onClose,W=P===void 0?function(){}:P,Q=C.openTrigger,ae=Q===void 0?"data-micromodal-trigger":Q,j=C.closeTrigger,L=j===void 0?"data-micromodal-close":j,G=C.openClass,N=G===void 0?"is-open":G,Z=C.disableScroll,oe=Z===void 0?!1:Z,ie=C.disableFocus,ce=ie===void 0?!1:ie,ue=C.awaitCloseAnimation,be=ue===void 0?!1:ue,ye=C.awaitOpenAnimation,se=ye===void 0?!1:ye,xe=C.debugMode,Se=xe===void 0?!1:xe;p(this,A),this.modal=document.getElementById(I),this.config={debugMode:Se,disableScroll:oe,openTrigger:ae,closeTrigger:L,openClass:N,onShow:z,onClose:W,awaitCloseAnimation:be,awaitOpenAnimation:se,disableFocus:ce},R.length>0&&this.registerTriggers.apply(this,m(R)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return T(A,"x"),h(A,[{key:"registerTriggers",value:function(){for(var C=this,I=arguments.length,F=new Array(I),R=0;R<I;R++)F[R]=arguments[R];F.filter(Boolean).forEach(function(U){U.addEventListener("click",function(z){return C.showModal(z)})})}},{key:"showModal",value:function(){var C=this,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var F=T(function R(){C.modal.removeEventListener("animationend",R,!1),C.setFocusToFirstNode()},"E");this.modal.addEventListener("animationend",F,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,I)}},{key:"closeModal",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,I=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,C),this.config.awaitCloseAnimation){var F=this.config.openClass;this.modal.addEventListener("animationend",T(function R(){I.classList.remove(F),I.removeEventListener("animationend",R,!1)},"E"),!1)}else I.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(C){this.modal=document.getElementById(C),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(C){if(this.config.disableScroll){var I=document.querySelector("body");switch(C){case"enable":Object.assign(I.style,{overflow:""});break;case"disable":Object.assign(I.style,{overflow:"hidden"});break}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(C){C.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(C)}},{key:"onKeydown",value:function(C){C.keyCode===27&&this.closeModal(C),C.keyCode===9&&this.retainFocus(C)}},{key:"getFocusableNodes",value:function(){var C=this.modal.querySelectorAll(a);return Array.apply(void 0,m(C))}},{key:"setFocusToFirstNode",value:function(){var C=this;if(!this.config.disableFocus){var I=this.getFocusableNodes();if(I.length!==0){var F=I.filter(function(R){return!R.hasAttribute(C.config.closeTrigger)});F.length>0&&F[0].focus(),F.length===0&&I[0].focus()}}}},{key:"retainFocus",value:function(C){var I=this.getFocusableNodes();if(I.length!==0)if(I=I.filter(function(R){return R.offsetParent!==null}),!this.modal.contains(document.activeElement))I[0].focus();else{var F=I.indexOf(document.activeElement);C.shiftKey&&F===0&&(I[I.length-1].focus(),C.preventDefault()),!C.shiftKey&&I.length>0&&F===I.length-1&&(I[0].focus(),C.preventDefault())}}}]),A}(),c=null,y=T(function(A,C){var I=[];return A.forEach(function(F){var R=F.attributes[C].value;I[R]===void 0&&(I[R]=[]),I[R].push(F)}),I},"n"),_=T(function(A){if(!document.getElementById(A))return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(A,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(A,'"></div>')),!1},"d"),x=T(function(A){if(A.length<=0)return console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'),!1},"p"),b=T(function(A,C){if(x(A),!C)return!0;for(var I in C)_(I);return!0},"u"),w=T(function(A){var C=Object.assign({},{openTrigger:"data-micromodal-trigger"},A),I=m(document.querySelectorAll("[".concat(C.openTrigger,"]"))),F=y(I,C.openTrigger);if(!(C.debugMode===!0&&b(I,F)===!1))for(var R in F){var U=F[R];C.targetModal=R,C.triggers=m(U),c=new o(C)}},"k"),M=T(function(A,C){var I=C||{};I.targetModal=A,!(I.debugMode===!0&&_(A)===!1)&&(c&&c.removeEventListeners(),c=new o(I),c.showModal())},"y"),E=T(function(A){A?c.closeModalById(A):c.closeModal()},"T");return{init:w,show:M,close:E}}();window.MicroModal=n;let u=n},57:(Y,k,v)=>{"use strict";v.r(k),v.d(k,{default:()=>p});let p=`(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c},a.define('/gif.worker.coffee',function(d,e,f,g){var b,c;b=a('/GIFEncoder.js',d),c=function(a){var c,e,d,f;return c=new b(a.width,a.height),a.index===0?c.writeHeader():c.firstFrame=!1,c.setTransparent(a.transparent),c.setRepeat(a.repeat),c.setDelay(a.delay),c.setQuality(a.quality),c.addFrame(a.data),a.last&&c.finish(),d=c.stream(),a.data=d.pages,a.cursor=d.cursor,a.pageSize=d.constructor.pageSize,a.canTransfer?(f=function(c){for(var b=0,d=a.data.length;b<d;++b)e=a.data[b],c.push(e.buffer);return c}.call(this,[]),self.postMessage(a,f)):self.postMessage(a)},self.onmessage=function(a){return c(a.data)}}),a.define('/GIFEncoder.js',function(e,h,i,j){function c(){this.page=-1,this.pages=[],this.newPage()}function b(a,b){this.width=~~a,this.height=~~b,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.out=new c}var f=a('/TypedNeuQuant.js',e),g=a('/LZWEncoder.js',e);c.pageSize=4096,c.charMap={};for(var d=0;d<256;d++)c.charMap[d]=String.fromCharCode(d);c.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(c.pageSize),this.cursor=0},c.prototype.getData=function(){var d='';for(var a=0;a<this.pages.length;a++)for(var b=0;b<c.pageSize;b++)d+=c.charMap[this.pages[a][b]];return d},c.prototype.writeByte=function(a){this.cursor>=c.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=a},c.prototype.writeUTFBytes=function(b){for(var c=b.length,a=0;a<c;a++)this.writeByte(b.charCodeAt(a))},c.prototype.writeBytes=function(b,d,e){for(var c=e||b.length,a=d||0;a<c;a++)this.writeByte(b[a])},b.prototype.setDelay=function(a){this.delay=Math.round(a/10)},b.prototype.setFrameRate=function(a){this.delay=Math.round(100/a)},b.prototype.setDispose=function(a){a>=0&&(this.dispose=a)},b.prototype.setRepeat=function(a){this.repeat=a},b.prototype.setTransparent=function(a){this.transparent=a},b.prototype.addFrame=function(a){this.image=a,this.getImagePixels(),this.analyzePixels(),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.writePixels(),this.firstFrame=!1},b.prototype.finish=function(){this.out.writeByte(59)},b.prototype.setQuality=function(a){a<1&&(a=1),this.sample=a},b.prototype.writeHeader=function(){this.out.writeUTFBytes('GIF89a')},b.prototype.analyzePixels=function(){var g=this.pixels.length,d=g/3;this.indexedPixels=new Uint8Array(d);var a=new f(this.pixels,this.sample);a.buildColormap(),this.colorTab=a.getColormap();var b=0;for(var c=0;c<d;c++){var e=a.lookupRGB(this.pixels[b++]&255,this.pixels[b++]&255,this.pixels[b++]&255);this.usedEntry[e]=!0,this.indexedPixels[c]=e}this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent))},b.prototype.findClosest=function(e){if(this.colorTab===null)return-1;var k=(e&16711680)>>16,l=(e&65280)>>8,m=e&255,c=0,d=16777216,j=this.colorTab.length;for(var a=0;a<j;){var f=k-(this.colorTab[a++]&255),g=l-(this.colorTab[a++]&255),h=m-(this.colorTab[a]&255),i=f*f+g*g+h*h,b=parseInt(a/3);this.usedEntry[b]&&i<d&&(d=i,c=b),a++}return c},b.prototype.getImagePixels=function(){var a=this.width,g=this.height;this.pixels=new Uint8Array(a*g*3);var b=this.image,c=0;for(var d=0;d<g;d++)for(var e=0;e<a;e++){var f=d*a*4+e*4;this.pixels[c++]=b[f],this.pixels[c++]=b[f+1],this.pixels[c++]=b[f+2]}},b.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var b,a;this.transparent===null?(b=0,a=0):(b=1,a=2),this.dispose>=0&&(a=dispose&7),a<<=2,this.out.writeByte(0|a|0|b),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},b.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},b.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},b.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes('NETSCAPE2.0'),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},b.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var b=768-this.colorTab.length;for(var a=0;a<b;a++)this.out.writeByte(0)},b.prototype.writeShort=function(a){this.out.writeByte(a&255),this.out.writeByte(a>>8&255)},b.prototype.writePixels=function(){var a=new g(this.width,this.height,this.indexedPixels,this.colorDepth);a.encode(this.out)},b.prototype.stream=function(){return this.out},e.exports=b}),a.define('/LZWEncoder.js',function(e,g,h,i){function f(y,D,C,B){function w(a,b){r[f++]=a,f>=254&&t(b)}function x(b){u(a),k=i+2,j=!0,l(i,b)}function u(b){for(var a=0;a<b;++a)h[a]=-1}function A(z,r){var g,t,d,e,y,w,s;for(q=z,j=!1,n_bits=q,m=p(n_bits),i=1<<z-1,o=i+1,k=i+2,f=0,e=v(),s=0,g=a;g<65536;g*=2)++s;s=8-s,w=a,u(w),l(i,r);a:while((t=v())!=c){if(g=(t<<b)+e,d=t<<s^e,h[d]===g){e=n[d];continue}if(h[d]>=0){y=w-d,d===0&&(y=1);do if((d-=y)<0&&(d+=w),h[d]===g){e=n[d];continue a}while(h[d]>=0)}l(e,r),e=t,k<1<<b?(n[d]=k++,h[d]=g):x(r)}l(e,r),l(o,r)}function z(a){a.writeByte(s),remaining=y*D,curPixel=0,A(s+1,a),a.writeByte(0)}function t(a){f>0&&(a.writeByte(f),a.writeBytes(r,0,f),f=0)}function p(a){return(1<<a)-1}function v(){if(remaining===0)return c;--remaining;var a=C[curPixel++];return a&255}function l(a,c){g&=d[e],e>0?g|=a<<e:g=a,e+=n_bits;while(e>=8)w(g&255,c),g>>=8,e-=8;if((k>m||j)&&(j?(m=p(n_bits=q),j=!1):(++n_bits,n_bits==b?m=1<<b:m=p(n_bits))),a==o){while(e>0)w(g&255,c),g>>=8,e-=8;t(c)}}var s=Math.max(2,B),r=new Uint8Array(256),h=new Int32Array(a),n=new Int32Array(a),g,e=0,f,k=0,m,j=!1,q,i,o;this.encode=z}var c=-1,b=12,a=5003,d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=f}),a.define('/TypedNeuQuant.js',function(A,F,E,D){function C(A,B){function I(){o=[],q=new Int32Array(256),t=new Int32Array(a),y=new Int32Array(a),z=new Int32Array(a>>3);var c,d;for(c=0;c<a;c++)d=(c<<b+8)/a,o[c]=new Float64Array([d,d,d,0]),y[c]=e/a,t[c]=0}function J(){for(var c=0;c<a;c++)o[c][0]>>=b,o[c][1]>>=b,o[c][2]>>=b,o[c][3]=c}function K(b,a,c,e,f){o[a][0]-=b*(o[a][0]-c)/d,o[a][1]-=b*(o[a][1]-e)/d,o[a][2]-=b*(o[a][2]-f)/d}function L(j,e,n,l,k){var h=Math.abs(e-j),i=Math.min(e+j,a),g=e+1,f=e-1,m=1,b,d;while(g<i||f>h)d=z[m++],g<i&&(b=o[g++],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c),f>h&&(b=o[f--],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c)}function C(p,s,q){var h=2147483647,k=h,d=-1,m=d,c,j,e,n,l;for(c=0;c<a;c++)j=o[c],e=Math.abs(j[0]-p)+Math.abs(j[1]-s)+Math.abs(j[2]-q),e<h&&(h=e,d=c),n=e-(t[c]>>i-b),n<k&&(k=n,m=c),l=y[c]>>g,y[c]-=l,t[c]+=l<<f;return y[d]+=x,t[d]-=r,m}function D(){var d,b,e,c,h,g,f=0,i=0;for(d=0;d<a;d++){for(e=o[d],h=d,g=e[1],b=d+1;b<a;b++)c=o[b],c[1]<g&&(h=b,g=c[1]);if(c=o[h],d!=h&&(b=c[0],c[0]=e[0],e[0]=b,b=c[1],c[1]=e[1],e[1]=b,b=c[2],c[2]=e[2],e[2]=b,b=c[3],c[3]=e[3],e[3]=b),g!=f){for(q[f]=i+d>>1,b=f+1;b<g;b++)q[b]=d;f=g,i=d}}for(q[f]=i+n>>1,b=f+1;b<256;b++)q[b]=n}function E(j,i,k){var b,d,c,e=1e3,h=-1,f=q[i],g=f-1;while(f<a||g>=0)f<a&&(d=o[f],c=d[1]-i,c>=e?f=a:(f++,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3])))),g>=0&&(d=o[g],c=i-d[1],c>=e?g=-1:(g--,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3]))));return h}function F(){var c,f=A.length,D=30+(B-1)/3,y=f/(3*B),q=~~(y/w),n=d,o=u,a=o>>h;for(a<=1&&(a=0),c=0;c<a;c++)z[c]=n*((a*a-c*c)*m/(a*a));var i;f<s?(B=1,i=3):f%l!==0?i=3*l:f%k!==0?i=3*k:f%p!==0?i=3*p:i=3*j;var r,t,x,e,g=0;c=0;while(c<y)if(r=(A[g]&255)<<b,t=(A[g+1]&255)<<b,x=(A[g+2]&255)<<b,e=C(r,t,x),K(n,e,r,t,x),a!==0&&L(a,e,r,t,x),g+=i,g>=f&&(g-=f),c++,q===0&&(q=1),c%q===0)for(n-=n/D,o-=o/v,a=o>>h,a<=1&&(a=0),e=0;e<a;e++)z[e]=n*((a*a-e*e)*m/(a*a))}function G(){I(),F(),J(),D()}function H(){var b=[],g=[];for(var c=0;c<a;c++)g[o[c][3]]=c;var d=0;for(var e=0;e<a;e++){var f=g[e];b[d++]=o[f][0],b[d++]=o[f][1],b[d++]=o[f][2]}return b}var o,q,t,y,z;this.buildColormap=G,this.getColormap=H,this.lookupRGB=E}var w=100,a=256,n=a-1,b=4,i=16,e=1<<i,f=10,B=1<<f,g=10,x=e>>g,r=e<<f-g,z=a>>3,h=6,t=1<<h,u=z*t,v=30,o=10,d=1<<o,q=8,m=1<<q,y=o+q,c=1<<y,l=499,k=491,p=487,j=503,s=3*j;A.exports=C}),a('/gif.worker.coffee')}.call(this,this))\r
//# sourceMappingURL=gif.worker.js.map\r
// gif.worker.js 0.1.6 - https://github.com/jnordberg/gif.js`},72:function(Y,k,v){var p,d;(function(h,m){p=m,d=typeof p=="function"?p.call(k,v,k,Y):p,d!==void 0&&(Y.exports=d)})(this,function(){function h(){var m=arguments.length;if(m===0)throw new Error("resolveUrl requires at least one argument; got none.");var f=document.createElement("base");if(f.href=arguments[0],m===1)return f.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(f,r.firstChild);for(var s=document.createElement("a"),l,i=1;i<m;i++)s.href=arguments[i],l=s.href,f.href=l;return r.removeChild(f),l}return T(h,"_"),h})},914:function(Y,k,v){"use strict";var p=this&&this.__assign||function(){return p=Object.assign||function(me){for(var Ee,Le=1,Fe=arguments.length;Le<Fe;Le++){Ee=arguments[Le];for(var Ge in Ee)Object.prototype.hasOwnProperty.call(Ee,Ge)&&(me[Ge]=Ee[Ge])}return me},p.apply(this,arguments)},d=this&&this.__awaiter||function(me,Ee,Le,Fe){function Ge(ze){return ze instanceof Le?ze:new Le(function(et){et(ze)})}return T(Ge,"oe"),new(Le||(Le=Promise))(function(ze,et){function Ke(tt){try{Xe(Fe.next(tt))}catch(ht){et(ht)}}T(Ke,"me");function Qe(tt){try{Xe(Fe.throw(tt))}catch(ht){et(ht)}}T(Qe,"be");function Xe(tt){tt.done?ze(tt.value):Ge(tt.value).then(Ke,Qe)}T(Xe,"he"),Xe((Fe=Fe.apply(me,Ee||[])).next())})},h=this&&this.__generator||function(me,Ee){var Le={label:0,sent:function(){if(ze[0]&1)throw ze[1];return ze[1]},trys:[],ops:[]},Fe,Ge,ze,et;return et={next:Ke(0),throw:Ke(1),return:Ke(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function Ke(Xe){return function(tt){return Qe([Xe,tt])}}function Qe(Xe){if(Fe)throw new TypeError("Generator is already executing.");for(;Le;)try{if(Fe=1,Ge&&(ze=Xe[0]&2?Ge.return:Xe[0]?Ge.throw||((ze=Ge.return)&&ze.call(Ge),0):Ge.next)&&!(ze=ze.call(Ge,Xe[1])).done)return ze;switch(Ge=0,ze&&(Xe=[Xe[0]&2,ze.value]),Xe[0]){case 0:case 1:ze=Xe;break;case 4:return Le.label++,{value:Xe[1],done:!1};case 5:Le.label++,Ge=Xe[1],Xe=[0];continue;case 7:Xe=Le.ops.pop(),Le.trys.pop();continue;default:if(ze=Le.trys,!(ze=ze.length>0&&ze[ze.length-1])&&(Xe[0]===6||Xe[0]===2)){Le=0;continue}if(Xe[0]===3&&(!ze||Xe[1]>ze[0]&&Xe[1]<ze[3])){Le.label=Xe[1];break}if(Xe[0]===6&&Le.label<ze[1]){Le.label=ze[1],ze=Xe;break}if(ze&&Le.label<ze[2]){Le.label=ze[2],Le.ops.push(Xe);break}ze[2]&&Le.ops.pop(),Le.trys.pop();continue}Xe=Ee.call(me,Le)}catch(tt){Xe=[6,tt],Ge=0}finally{Fe=ze=0}if(Xe[0]&5)throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}},m=this&&this.__spreadArray||function(me,Ee,Le){if(Le||arguments.length===2)for(var Fe=0,Ge=Ee.length,ze;Fe<Ge;Fe++)(ze||!(Fe in Ee))&&(ze||(ze=Array.prototype.slice.call(Ee,0,Fe)),ze[Fe]=Ee[Fe]);return me.concat(ze||Array.prototype.slice.call(Ee))};Object.defineProperty(k,"__esModule",{value:!0}),k.browserSupportsGIF=k.browserSupportsMP4=k.browserSupportsWEBM=k.checkHotkeys=k.isRecording=k.stopRecord=k.recordFrame=k.takeJPEGSnapshot=k.takePNGSnapshot=k.beginJPEGFramesRecord=k.beginPNGFramesRecord=k.beginGIFRecord=k.beginVideoRecord=k.bindKeyToJPEGSnapshot=k.bindKeyToPNGSnapshot=k.bindKeyToJPEGFramesRecord=k.bindKeyToPNGFramesRecord=k.bindKeyToGIFRecord=k.bindKeyToVideoRecord=k.setVerbose=k.dispose=k.init=k.MP4=k.WEBM=k.showDialog=void 0;var f=v(886),r=v(162);v(560);var s=v(809),l=v(848),i=v(330),n=v(57),u=v(733),a=URL.createObjectURL(new Blob([n.default])),o,c=void 0,y=v(330);Object.defineProperty(k,"showDialog",{enumerable:!0,get:function(){return y.showDialog}});var _="gif";k.WEBM="webm",k.MP4="mp4";var x="jpegzip",b="pngzip",w="jpeg",M="png",E=[],A=f.default,C=[],I={},F={},R=null;function U(me,Ee){R=me,o=Ee?.ffmpegCorePath||"https://unpkg.com/@ffmpeg/core@0.10.0/dist/ffmpeg-core.js",Ee&&Ee.verbose!==void 0&&Q(Ee.verbose),Ee&&Ee.showAlerts!==void 0&&(l.PARAMS.SHOW_ALERTS=Ee.showAlerts),Ee&&Ee.showDialogs!==void 0&&(l.PARAMS.SHOW_DIALOGS=Ee.showDialogs),Ee&&Ee.showRecDot!==void 0&&(l.PARAMS.SHOW_REC_DOT=Ee.showRecDot),l.PARAMS.SHOW_REC_DOT&&(0,i.initDotWithCSS)(Ee?.recDotCSS),R.addEventListener("resize",P),window.addEventListener("keydown",z)}T(U,"E"),k.init=U;function z(me){C.push({key:me.key}),l.PARAMS.IS_MANUALLY_CHECKING_HOTKEYS||ce()}T(z,"j");function P(){if(E.length){var me="Don't resize while recording canvas!";(0,i.showWarning)(me)}}T(P,"s");function W(){R?.removeEventListener("resize",P),R=null,window.removeEventListener("keydown",z)}T(W,"F"),k.dispose=W;function Q(me){l.PARAMS.VERBOSE=!!me,c&&c.setLogging(l.PARAMS.VERBOSE)}T(Q,"M"),k.setVerbose=Q;function ae(){if(R===null)throw new Error("No canvas supplied, please call CanvasCapture.init() and pass in canvas element.")}T(ae,"W");function j(me,Ee){Object.keys(F).forEach(function(Le){F[Le]===me&&delete F[Le]}),F[Ee]=me}T(j,"ee");function L(me,Ee){Ee?.format===k.WEBM?(I.webm=Ee,j(me,k.WEBM)):(I.mp4=Ee,j(me,k.MP4))}T(L,"q"),k.bindKeyToVideoRecord=L;function G(me,Ee){I.gif=Ee,j(me,_)}T(G,"te"),k.bindKeyToGIFRecord=G;function N(me,Ee){I.pngzip=Ee,j(me,b)}T(N,"P"),k.bindKeyToPNGFramesRecord=N;function Z(me,Ee){I.jpegzip=Ee,j(me,x)}T(Z,"L"),k.bindKeyToJPEGFramesRecord=Z;function oe(me,Ee){I.png=Ee,j(me,M)}T(oe,"le"),k.bindKeyToPNGSnapshot=oe;function ie(me,Ee){I.jpeg=Ee,j(me,w)}T(ie,"X"),k.bindKeyToJPEGSnapshot=ie;function ce(){for(var me,Ee,Le=0;Le<C.length;Le++){var Fe=C[Le].key;if(F.mp4&&Fe===F[k.MP4]){var Ge=ge(k.MP4);if(Ge.length)fe(Ge);else{if(!de()){var ze="This browser does not support MP4 video recording, please try again in Chrome as be sure to set the correct server headers: https://github.com/amandaghassaei/canvas-capture#caveats.",et=(me=I[k.MP4])===null||me===void 0?void 0:me.onError;et&&et(new Error(ze)),(0,i.showWarning)(ze)}be(I[k.MP4])}}if(F.webm&&Fe===F[k.WEBM]){var Ke=ge(k.WEBM);if(Ke.length)fe(Ke);else{if(!J()){var ze="This browser does not support WEBM video recording, please try again in Chrome.",et=(Ee=I[k.WEBM])===null||Ee===void 0?void 0:Ee.onError;et&&et(new Error(ze)),(0,i.showWarning)(ze)}be(I[k.WEBM])}}if(F.gif&&Fe===F[_]){var Qe=ge(_);Qe.length?fe(Qe):ye(I[_])}if(F.pngzip&&Fe===F[b]){var Xe=ge(b);Xe.length?fe(Xe):se(I[b])}if(F.jpegzip&&Fe===F[x]){var tt=ge(x);tt.length?fe(tt):xe(I[x])}F.png&&Fe===F[M]&&Me(I[M]),F.jpeg&&Fe===F[w]&&q(I[w])}C.length=0}T(ce,"N");function ue(me){E.push(me),me.type!==b&&me.type!==x&&me.capturer.start(),(0,i.showDot)(H())}T(ue,"se");function be(me){try{var Ee=me?.format||k.MP4;if(Ee===k.MP4){if(!de()){var Le="This browser does not support MP4 video recording, please try again in Chrome.";throw(0,i.showWarning)(Le),new Error(Le)}}else if(Ee===k.WEBM){if(!J()){var Le="This browser does not support WEBM video recording, please try again in Chrome.";throw(0,i.showWarning)(Le),new Error(Le)}}else throw new Error("invalid video format ".concat(Ee,"."));if(B().length){var Le="CCapture.js only supports one video/gif capture at a time.";throw(0,i.showWarning)(Le),new Error(Le)}var Fe=1;me&&me.quality&&(Fe=me.quality);var Ge=me?.name||"Video_Capture",ze=new window.CCapture({format:k.WEBM,name:Ge,framerate:me?.fps||60,quality:Fe*100,verbose:l.PARAMS.VERBOSE,motionBlurFrames:me?.motionBlurFrames}),et={name:Ge,capturer:ze,numFrames:0,type:Ee,ffmpegOptions:me?.ffmpegOptions,onExportProgress:me?.onExportProgress,onExport:me?.onExport,onExportFinish:me?.onExportFinish,onError:me?.onError};return ue(et),et}catch(Ke){if(me?.onError)me.onError(Ke);else throw Ke}}T(be,"pe"),k.beginVideoRecord=be;function ye(me){try{if(B().length){var Ee="CCapture.js only supports one video/gif capture at a time.";throw(0,i.showWarning)(Ee),new Error(Ee)}var Le=100;me&&me.quality&&(Le=me.quality*100);var Fe=me?.name||"GIF_Capture",Ge=new window.CCapture({format:_,name:Fe,framerate:me?.fps||60,workersPath:a,quality:Le,verbose:l.PARAMS.VERBOSE,onProgress:me?.onExportProgress,motionBlurFrames:me?.motionBlurFrames}),ze={name:Fe,capturer:Ge,numFrames:0,type:_,onExport:me?.onExport,onExportFinish:me?.onExportFinish,onError:me?.onError};return ue(ze),ze}catch(et){if(me?.onError)me.onError(et);else throw et}}T(ye,"ue"),k.beginGIFRecord=ye;function se(me){try{var Ee=me?.name||"PNG_Frames_Capture",Le={dpi:me?.dpi},Fe={name:Ee,zipOptions:Le,zipPromises:[],capturer:new u,numFrames:0,type:b,onExportProgress:me?.onExportProgress,onExport:me?.onExport,onExportFinish:me?.onExportFinish,onError:me?.onError};return ue(Fe),Fe}catch(Ge){if(me?.onError)me.onError(Ge);else throw Ge}}T(se,"ve"),k.beginPNGFramesRecord=se;function xe(me){try{var Ee=me?.name||"JPEG_Frames_Capture",Le={dpi:me?.dpi,quality:me?.quality},Fe={name:Ee,zipOptions:Le,zipPromises:[],capturer:new u,numFrames:0,type:x,onExportProgress:me?.onExportProgress,onExport:me?.onExport,onExportFinish:me?.onExportFinish,onError:me?.onError};return ue(Fe),Fe}catch(Ge){if(me?.onError)me.onError(Ge);else throw Ge}}T(xe,"ke"),k.beginJPEGFramesRecord=xe;function Se(me,Ee,Le){return d(this,void 0,void 0,function(){return h(this,function(Fe){return[2,new Promise(function(Ge){me.toBlob(function(ze){Ge(ze)},"image/".concat(Ee),Le)})]})})}T(Se,"_e");function Ie(me,Ee,Le,Fe){return d(this,void 0,void 0,function(){var Ge,ze,et,Ke;return h(this,function(Qe){switch(Qe.label){case 0:return ae(),Ge=Fe?.onExportFinish,[4,Se(R,Ee,Le)];case 1:if(ze=Qe.sent(),!ze)throw et="Problem saving ".concat(Ee.toUpperCase(),", please try again!"),(0,i.showWarning)(et),new Error(et);return Ke=Fe?.onExport||r.saveAs,Fe?.dpi?[4,(0,s.changeDpiBlob)(ze,Fe?.dpi).then(function(Xe){Ke(Xe,me),Ge&&Ge()})]:[3,3];case 2:return Qe.sent(),[3,4];case 3:Ke(ze,me),Ge&&Ge(),Qe.label=4;case 4:return[2]}})})}T(Ie,"Pe");function Me(me){return d(this,void 0,void 0,function(){var Ee,Le,Fe;return h(this,function(Ge){switch(Ge.label){case 0:return Ge.trys.push([0,2,,3]),Ee=me?.name||"PNG_Capture",Le="".concat(Ee,".png"),[4,Ie(Le,M,void 0,me)];case 1:return Ge.sent(),[3,3];case 2:if(Fe=Ge.sent(),me?.onError)me.onError(Fe);else throw Fe;return[3,3];case 3:return[2]}})})}T(Me,"Ee"),k.takePNGSnapshot=Me;function q(me){return d(this,void 0,void 0,function(){var Ee,Le,Fe;return h(this,function(Ge){switch(Ge.label){case 0:return Ge.trys.push([0,2,,3]),Ee=me?.name||"JPEG_Capture",Le="".concat(Ee,".jpg"),[4,Ie(Le,w,me?.quality||1,me)];case 1:return Ge.sent(),[3,3];case 2:if(Fe=Ge.sent(),me?.onError)me.onError(Fe);else throw Fe;return[3,3];case 3:return[2]}})})}T(q,"t"),k.takeJPEGSnapshot=q;function we(me){var Ee=E;me&&(Array.isArray(me)?Ee=me:Ee=[me]);try{if(ae(),Ee.length===0){var Le="No valid capturer inited, please call CanvasCapture.beginVideoRecord(), CanvasCapture.beginGIFRecord(), CanvasCapture.beginPNGFramesRecord(), or CanvasCapture.beginJPEGFramesRecord() first.";throw(0,i.showWarning)(Le),new Error(Le)}for(var Fe=function(Ke){var Qe=Ee[Ke],Xe=Qe.capturer,tt=Qe.type,ht=Qe.zipOptions,mt=Qe.zipPromises,xt=Qe.numFrames;if(tt===x||tt===b){var ft="frame_".concat(xt+1),gt=new Promise(function(rt,ot){var dt={dpi:ht?.dpi,quality:ht.quality,name:ft,onExport:function(yt,Rt){Xe.file(Rt,yt)},onExportFinish:rt,onError:ot};tt===x?q(dt):Me(dt)});mt.push(gt)}else Xe.capture(R);Ee[Ke].numFrames=xt+1},Ge=0;Ge<Ee.length;Ge++)Fe(Ge)}catch(Ke){for(var ze=!0,Ge=0;Ge<Ee.length;Ge++){var et=Ee[Ge];et.onError?et.onError(Ke):ze=!1}if(!Ee.length||!ze)throw Ke}}T(we,"K"),k.recordFrame=we;function ve(me){return d(this,void 0,void 0,function(){return h(this,function(Ee){return[2,new Promise(function(Le){me.save(function(Fe){Le(Fe)})})]})})}T(ve,"z");function re(me){return d(this,void 0,void 0,function(){var Ee,Le,Fe,Ge,ze,et,Ke,Qe,Xe,tt,ht,mt,xt,ft,ft,gt,ft,gt;return h(this,function(rt){switch(rt.label){case 0:if(Ee=E[me],Le=Ee.name,Fe=Ee.capturer,Ge=Ee.numFrames,ze=Ee.type,et=Ee.zipPromises,Ke=Ee.onExportProgress,Qe=Ee.onExport,Xe=Ee.onExportFinish,tt=Ee.onError,ht=Ee.ffmpegOptions,E.splice(me,1),ze!==b&&ze!==x&&Fe.stop(),Ge===0)throw mt="No frames recorded, call CanvasCapture.recordFrame().",(0,i.showWarning)(mt),new Error(mt);switch(xt=ze,xt){case k.MP4:return[3,1];case k.WEBM:return[3,4];case _:return[3,6];case b:return[3,8];case x:return[3,8]}return[3,11];case 1:return[4,ve(Fe)];case 2:return ft=rt.sent(),(0,i.showDialog)("Processing...","MP4 is processing and may take a minute to save.  You can close this dialog in the meantime.",{autoCloseDelay:7e3}),[4,pe({name:Le,blob:ft,onExportProgress:Ke,onExport:Qe,onExportFinish:Xe,ffmpegOptions:ht})];case 3:return rt.sent(),[3,12];case 4:return Ke&&Ke(0),[4,ve(Fe)];case 5:return ft=rt.sent(),Ke&&Ke(1),gt="".concat(Le,".webm"),Qe?Qe(ft,gt):(0,r.saveAs)(ft,gt),Xe&&Xe(),[3,12];case 6:return(0,i.showDialog)("Processing...","GIF is processing and may take a minute to save.  You can close this dialog in the meantime.",{autoCloseDelay:7e3}),[4,ve(Fe)];case 7:return ft=rt.sent(),gt="".concat(Le,".gif"),Qe?Qe(ft,gt):(0,r.saveAs)(ft,gt),Xe&&Xe(),[3,12];case 8:return[4,Promise.all(et)];case 9:return rt.sent(),(0,i.showDialog)("Processing...","Frames are being zipped and may take a minute to save.  You can close this dialog in the meantime.",{autoCloseDelay:7e3}),[4,Fe.generateAsync({type:"blob"},function(ot){Ke&&Ke(ot.percent/100)}).then(function(ot){var dt="".concat(Le,".zip");Qe?Qe(ot,dt):(0,r.saveAs)(ot,dt),Xe&&Xe()})];case 10:return rt.sent(),[3,12];case 11:throw new Error("Need to handle saving type ".concat(ze,"."));case 12:return[2]}})})}T(re,"v");function fe(me){return d(this,void 0,void 0,function(){var Ee,Le,Fe,Ke,Ge,ze,et,Ke,Qe;return h(this,function(Xe){switch(Xe.label){case 0:me&&!Array.isArray(me)&&(me=[me]),Ee=me||E,Xe.label=1;case 1:if(Xe.trys.push([1,3,,4]),E.length===0)throw Le="No valid capturer inited, please call CanvasCapture.beginVideoRecord(), CanvasCapture.beginGIFRecord(), CanvasCapture.beginPNGFramesRecord(), or CanvasCapture.beginJPEGFramesRecord() first.",(0,i.showWarning)(Le),new Error(Le);for(Fe=[],Ke=0;Ke<Ee.length;Ke++){if(Ge=E.indexOf(Ee[Ke]),Ge<0)throw new Error("Invalid capture ".concat(Ee[Ke]," \u2013 may have already been stopped."));Fe.push(re(Ge))}return(0,i.showDot)(H()),[4,Promise.all(Fe)];case 2:return Xe.sent(),[3,4];case 3:for(ze=Xe.sent(),et=!0,Ke=0;Ke<Ee.length;Ke++)Qe=Ee[Ke],Qe.onError?Qe.onError(ze):et=!1;if(!Ee.length||!et)throw ze;return[3,4];case 4:return[2]}})})}T(fe,"b"),k.stopRecord=fe;function ge(me){for(var Ee=[],Le=0;Le<E.length;Le++)E[Le].type===me&&Ee.push(E[Le]);return Ee}T(ge,"A");function B(){return ge(k.WEBM).concat(ge(k.MP4)).concat(ge(_))}T(B,"G");function H(){return E.length>0}T(H,"U"),k.isRecording=H;function X(){l.PARAMS.IS_MANUALLY_CHECKING_HOTKEYS=!0,ce()}T(X,"R"),k.checkHotkeys=X;var te=!1;function pe(me){return d(this,void 0,void 0,function(){var Ee,Le,Fe,Ge,ze,et,Ke,Qe,Xe,tt,ht,mt,xt,ft,gt,rt;return h(this,function(ot){switch(ot.label){case 0:return c||(Ee=v(648),c=Ee({corePath:o})),te?[3,2]:[4,c.load().catch(function(){var dt="MP4 export not supported in this browser, try again in the latest version of Chrome.";throw(0,i.showWarning)(dt),new Error(dt)})];case 1:ot.sent(),te=!0,ot.label=2;case 2:return Le=me.name,Fe=me.blob,Ge=me.onExportProgress,ze=me.onExport,et=me.onExportFinish,Ke=me.ffmpegOptions,[4,Fe.arrayBuffer()];case 3:return Qe=ot.sent(),Xe=new Uint8Array(Qe),c.FS("writeFile","".concat(Le,".webm"),Xe),Ge&&c.setProgress(function(dt){Ge(Math.max(0,Math.min(dt.ratio,1)))}),tt={"-c:v":"libx264","-preset":"slow","-crf":"22","-pix_fmt":"yuv420p"},ht=p(p({},tt),Ke||{}),mt=[],Object.keys(ht).forEach(function(dt){mt.push(dt,ht[dt])}),xt="".concat(Le,".mp4"),[4,(rt=c).run.apply(rt,m(m(["-i","".concat(Le,".webm")],mt,!1),["-vf","crop=trunc(iw/2)*2:trunc(ih/2)*2","-an",xt],!1))];case 4:return ot.sent(),[4,c.FS("readFile",xt)];case 5:return ft=ot.sent(),gt=new Blob([ft],{type:"video/mp4"}),ze?ze(gt,xt):(0,r.saveAs)(gt,xt),c.FS("unlink","".concat(Le,".webm")),c.FS("unlink",xt),et&&et(),[2]}})})}T(pe,"Q");function le(){var me=document.createElement("canvas"),Ee=me.toDataURL("image/webp",{quality:1});return!(typeof Ee!="string"||!Ee.match(/^data:image\/webp;base64,/i))}T(le,"$");function $(){try{var me=new SharedArrayBuffer(1024)}catch{return!1}return!0}T($,"ae");function ne(){return!!window.Worker}T(ne,"ge");function J(){return le()}T(J,"ce"),k.browserSupportsWEBM=J;function de(){return le()&&$()}T(de,"Ce"),k.browserSupportsMP4=de;function Te(){return ne()}T(Te,"De"),k.browserSupportsGIF=Te},713:(Y,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.css=void 0,k.css=`
/**************************  Basic Modal Styles
**************************/

.modal {
  font-family: -apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;
}

.modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal__container {
  background-color: #fff;
  padding: 30px;
  max-width: 500px;
  max-height: 100vh;
  overflow-y: auto;
  box-sizing: border-box;
}

.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal__title {
  margin-top: 0;
  margin-bottom: 0;
  font-weight: 600;
  font-size: 1.25rem;
  line-height: 1.25;
  color: #222;
  box-sizing: border-box;
}

.modal__footer {
  text-align: right;
}

.modal__footer>.modal__btn {
  margin-right: 8px;
}

.modal__close {
  background: transparent;
  border: 0;
}

.modal__header .modal__close:before { content: "\u2715"; }

.modal__content {
  margin-top: 2rem;
  margin-bottom: 2rem;
  line-height: 1.5;
  color: rgba(0,0,0,.8);
}

.modal__btn {
  font-size: .875rem;
  padding-left: 1rem;
  padding-right: 1rem;
  padding-top: .5rem;
  padding-bottom: .5rem;
  background-color: #e6e6e6;
  color: rgba(0,0,0,.8);
  border-radius: .25rem;
  border-style: none;
  border-width: 0;
  cursor: pointer;
  -webkit-appearance: button;
  text-transform: none;
  overflow: visible;
  line-height: 1.15;
  margin: 0;
  will-change: transform;
  -moz-osx-font-smoothing: grayscale;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  transition: -webkit-transform .25s ease-out;
  transition: transform .25s ease-out;
  transition: transform .25s ease-out,-webkit-transform .25s ease-out;
}

.modal__btn:focus, .modal__btn:hover {
  -webkit-transform: scale(1.05);
  transform: scale(1.05);
}

.modal__btn-primary {
  background-color: #333;
  color: #fff;
}



/**************************  Demo Animation Style
**************************/
@keyframes mmfadeIn {
    from { opacity: 0; }
      to { opacity: 1; }
}

@keyframes mmfadeOut {
    from { opacity: 1; }
      to { opacity: 0; }
}

@keyframes mmslideIn {
  from { transform: translateY(15%); }
    to { transform: translateY(0); }
}

@keyframes mmslideOut {
    from { transform: translateY(0); }
    to { transform: translateY(-10%); }
}

.micromodal-slide {
  display: none;
}

.micromodal-slide.is-open {
  display: block;
}

.micromodal-slide[aria-hidden="false"] .modal__overlay {
  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}

.micromodal-slide[aria-hidden="false"] .modal__container {
  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);
}

.micromodal-slide[aria-hidden="true"] .modal__overlay {
  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}

.micromodal-slide[aria-hidden="true"] .modal__container {
  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);
}

.micromodal-slide .modal__container,
.micromodal-slide .modal__overlay {
  will-change: transform;
}
`},330:function(Y,k,v){"use strict";var p=this&&this.__assign||function(){return p=Object.assign||function(b){for(var w,M=1,E=arguments.length;M<E;M++){w=arguments[M];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(b[A]=w[A])}return b},p.apply(this,arguments)};Object.defineProperty(k,"__esModule",{value:!0}),k.showDot=k.initDotWithCSS=k.showDialog=k.showWarning=void 0;var d=v(650),h=v(713),m=v(848),f=document.createElement("style");f.textContent=h.css,document.head.append(f);function r(b,w,M){M===void 0&&(M="");var E='<div class="modal micromodal-slide" id="modal-'.concat(b,`" aria-hidden="true">
		<div class="modal__overlay" tabindex="-1" data-micromodal-close>
		<div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-`).concat(b,`-title">
			<header class="modal__header">
				<h2 class="modal__title" id="modal-`).concat(b,`-title">
					`).concat(w,`
				</h2>
				<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
			</header>
			<main class="modal__content">
				<p id="modal-`).concat(b,`-content">
					`).concat(M,`
				</p>
			</main>
		</div>
		</div>
	</div>`),A=document.createElement("div");return A.innerHTML=E,A.firstChild}T(r,"r");var s=!1,l=!1,i="alert",n=r(i,"Warning"),u="dialog",a=r(u,"Saving...");function o(b){console.warn(b),m.PARAMS.SHOW_ALERTS&&(s||(s=!0,document.getElementsByTagName("body")[0].appendChild(n)),document.getElementById("modal-".concat(i,"-content")).innerHTML=b,d.default.show("modal-".concat(i)))}T(o,"h"),k.showWarning=o;function c(b,w,M){if(m.PARAMS.VERBOSE&&console.log(b,w),!!m.PARAMS.SHOW_DIALOGS){l||(l=!0,document.getElementsByTagName("body")[0].appendChild(a)),document.getElementById("modal-".concat(u,"-title")).innerHTML=b,document.getElementById("modal-".concat(u,"-content")).innerHTML=w,d.default.show("modal-".concat(u));var E=M?.autoCloseDelay!==void 0?M.autoCloseDelay:-1;E>0&&setTimeout(function(){d.default.close("modal-".concat(u))},E)}}T(c,"i"),k.showDialog=c;var y=document.createElement("div");function _(b){y.id="recordingDot";var w=p({background:"red",width:"20px",height:"20px","border-radius":"50%",display:"none",position:"absolute",top:"0",right:"0","z-index":"10",margin:"20px"},b);Object.assign(y.style,w),document.getElementsByTagName("body")[0].appendChild(y)}T(_,"d"),k.initDotWithCSS=_;function x(b){m.PARAMS.SHOW_REC_DOT&&(b?y.style.display="inline-block":y.style.display="none")}T(x,"p"),k.showDot=x},848:(Y,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.PARAMS=void 0,k.PARAMS={VERBOSE:!1,SHOW_ALERTS:!1,SHOW_DIALOGS:!1,SHOW_REC_DOT:!1,IS_MANUALLY_CHECKING_HOTKEYS:!1}},886:(Y,k,v)=>{Y=v.nmd(Y);var p;(function(){if(typeof Y.exports<"u")var d=v(846),h=v(173),m=v(769),f=v(166);var r={function:!0,object:!0};function s(W){return W&&W.Object===Object?W:null}T(s,"f");var l=parseFloat,i=parseInt,n=r[typeof k]&&k&&!k.nodeType?k:void 0,u=r.object&&Y&&!Y.nodeType?Y:void 0,a=u&&u.exports===n?n:void 0,o=s(n&&u&&typeof v.g=="object"&&v.g),c=s(r[typeof self]&&self),y=s(r[typeof window]&&window),_=s(r[typeof this]&&this),x=o||y!==(_&&_.window)&&y||c||_||Function("return this")();"gc"in window||(window.gc=function(){}),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(W,Q,ae){for(var j=atob(this.toDataURL(Q,ae).split(",")[1]),L=j.length,G=new Uint8Array(L),N=0;N<L;N++)G[N]=j.charCodeAt(N);W(new Blob([G],{type:Q||"image/png"}))}}),function(){if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var W=Date.now();performance.timing&&performance.timing.navigationStart&&(W=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-W}}}();function b(W){return("0000000"+W).slice(-7)}T(b,"u");var w=window.Date.now();function M(){function W(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return T(W,"F"),W()+W()+"-"+W()+"-"+W()+"-"+W()+"-"+W()+W()+W()}T(M,"y");function E(W){var Q={};this.settings=W,this.on=function(ae,j){Q[ae]=j},this.emit=function(ae){var j=Q[ae];j&&j.apply(null,Array.prototype.slice.call(arguments,1))},this.filename=W.name||M(),this.extension="",this.mimeType=""}T(E,"T"),E.prototype.start=function(){},E.prototype.stop=function(){},E.prototype.add=function(){},E.prototype.save=function(){},E.prototype.dispose=function(){},E.prototype.safeToProceed=function(){return!0},E.prototype.step=function(){console.log("Step not set!")};function A(W){E.call(this,W),this.extension=".tar",this.mimeType="application/x-tar",this.fileExtension="",this.tape=null,this.count=0}T(A,"x"),A.prototype=Object.create(E.prototype),A.prototype.start=function(){this.dispose()},A.prototype.add=function(W){var Q=new FileReader;Q.onload=function(){this.tape.append(b(this.count)+this.fileExtension,new Uint8Array(Q.result)),this.count++,this.step()}.bind(this),Q.readAsArrayBuffer(W)},A.prototype.save=function(W){W(this.tape.save())},A.prototype.dispose=function(){this.tape=new d,this.count=0};function C(W){A.call(this,W),this.type="image/png",this.fileExtension=".png"}T(C,"O"),C.prototype=Object.create(A.prototype),C.prototype.add=function(W){W.toBlob(function(Q){A.prototype.add.call(this,Q)}.bind(this),this.type)};function I(W){A.call(this,W),this.type="image/jpeg",this.fileExtension=".jpg",this.quality=W.quality/100||.8}T(I,"S"),I.prototype=Object.create(A.prototype),I.prototype.add=function(W){W.toBlob(function(Q){A.prototype.add.call(this,Q)}.bind(this),this.type,this.quality)};function F(W){var Q=document.createElement("canvas");Q.toDataURL("image/webp").substr(5,10)!=="image/webp"&&console.log("WebP not supported - try another export format"),E.call(this,W),this.quality=W.quality/100||.8,this.extension=".webm",this.mimeType="video/webm",this.baseFilename=this.filename,this.frames=[],this.part=1,this.videoWriter=new f({quality:this.quality,fileWriter:null,fd:null,frameRate:W.framerate})}T(F,"I"),F.prototype=Object.create(E.prototype),F.prototype.start=function(W){this.dispose()},F.prototype.add=function(W){this.videoWriter.addFrame(W),this.settings.autoSaveTime>0&&this.frames.length/this.settings.framerate>=this.settings.autoSaveTime?this.save(function(Q){this.filename=this.baseFilename+"-part-"+b(this.part),h(Q,this.filename+this.extension,this.mimeType),this.dispose(),this.part++,this.filename=this.baseFilename+"-part-"+b(this.part),this.step()}.bind(this)):this.step()},F.prototype.save=function(W){this.videoWriter.complete().then(W)},F.prototype.dispose=function(W){this.frames=[]};function R(W){E.call(this,W),W.quality=W.quality/100||.8,this.encoder=new FFMpegServer.Video(W),this.encoder.on("process",function(){this.emit("process")}.bind(this)),this.encoder.on("finished",function(Q,ae){var j=this.callback;j&&(this.callback=void 0,j(Q,ae))}.bind(this)),this.encoder.on("progress",function(Q){this.settings.onProgress&&this.settings.onProgress(Q)}.bind(this)),this.encoder.on("error",function(Q){alert(JSON.stringify(Q,null,2))}.bind(this))}T(R,"V"),R.prototype=Object.create(E.prototype),R.prototype.start=function(){this.encoder.start(this.settings)},R.prototype.add=function(W){this.encoder.add(W)},R.prototype.save=function(W){this.callback=W,this.encoder.end()},R.prototype.safeToProceed=function(){return this.encoder.safeToProceed()};function U(W){E.call(this,W),this.framerate=this.settings.framerate,this.type="video/webm",this.extension=".webm",this.stream=null,this.mediaRecorder=null,this.chunks=[]}T(U,"E"),U.prototype=Object.create(E.prototype),U.prototype.add=function(W){this.stream||(this.stream=W.captureStream(this.framerate),this.mediaRecorder=new MediaRecorder(this.stream),this.mediaRecorder.start(),this.mediaRecorder.ondataavailable=function(Q){this.chunks.push(Q.data)}.bind(this)),this.step()},U.prototype.save=function(W){this.mediaRecorder.onstop=function(Q){var ae=new Blob(this.chunks,{type:"video/webm"});this.chunks=[],W(ae)}.bind(this),this.mediaRecorder.stop()};function z(W){E.call(this,W),W.quality=31-(W.quality*30/100||10),W.workers=W.workers||4,this.extension=".gif",this.mimeType="image/gif",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.sizeSet=!1,this.encoder=new m({workers:W.workers,quality:W.quality,workerScript:W.workersPath}),this.encoder.on("progress",function(Q){this.settings.onProgress&&this.settings.onProgress(Q)}.bind(this)),this.encoder.on("finished",function(Q){var ae=this.callback;ae&&(this.callback=void 0,ae(Q))}.bind(this))}T(z,"j"),z.prototype=Object.create(E.prototype),z.prototype.add=function(W){this.sizeSet||(this.encoder.setOption("width",W.width),this.encoder.setOption("height",W.height),this.sizeSet=!0),this.canvas.width=W.width,this.canvas.height=W.height,this.ctx.drawImage(W,0,0),this.encoder.addFrame(this.ctx,{copy:!0,delay:this.settings.step}),this.step()},z.prototype.save=function(W){this.callback=W,this.encoder.render()};function P(W){var Q=W||{},ae=new Date,j,L,G,N,Z,oe,Fe,ie,ce=[],ue=[],be=0,ye=0,se=null,xe=[],Se=!1,Ie={};Q.framerate=Q.framerate||60,Q.motionBlurFrames=2*(Q.motionBlurFrames||1),j=Q.verbose||!1,L=Q.display||!1,Q.step=1e3/Q.framerate,Q.timeLimit=Q.timeLimit||0,Q.frameLimit=Q.frameLimit||0,Q.startTime=Q.startTime||0;var Me=document.createElement("div");Me.style.position="absolute",Me.style.left=Me.style.top=0,Me.style.backgroundColor="black",Me.style.fontFamily="monospace",Me.style.fontSize="11px",Me.style.padding="5px",Me.style.color="red",Me.style.zIndex=1e5,Q.display&&document.body.appendChild(Me);var q=document.createElement("canvas"),we=q.getContext("2d"),ve,re;mt("Step is set to "+Q.step+"ms");var fe={gif:z,webm:F,ffmpegserver:R,png:C,jpg:I,"webm-mediarecorder":U},ge=fe[Q.format];if(!ge)throw"Error: Incorrect or missing format: Valid formats are "+Object.keys(fe).join(", ");if(ie=new ge(Q),ie.step=Fe,ie.on("process",tt),ie.on("progress",gt),"performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var B=Date.now();performance.timing&&performance.timing.navigationStart&&(B=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-B}}var H=window.setTimeout,X=window.setInterval,te=window.clearInterval,pe=window.clearTimeout,le=window.requestAnimationFrame,$=window.Date.now,ne=window.performance.now,J=window.Date.prototype.getTime,de=[];function Te(){mt("Capturer start"),N=window.Date.now(),G=N+Q.startTime,oe=window.performance.now(),Z=oe+Q.startTime,window.Date.prototype.getTime=function(){return G},window.Date.now=function(){return G},window.setTimeout=function(ot,dt){var yt={callback:ot,time:dt,triggerTime:G+dt};return ce.push(yt),mt("Timeout set to "+yt.time),yt},window.clearTimeout=function(ot){for(var dt=0;dt<ce.length;dt++)if(ce[dt]==ot){ce.splice(dt,1),mt("Timeout cleared");continue}},window.setInterval=function(ot,dt){var yt={callback:ot,time:dt,triggerTime:G+dt};return ue.push(yt),mt("Interval set to "+yt.time),yt},window.clearInterval=function(ot){return mt("clear Interval"),null},window.requestAnimationFrame=function(ot){xe.push(ot)},window.performance.now=function(){return Z};function rt(){return this._hooked||(this._hooked=!0,this._hookedTime=this.currentTime||0,this.pause(),de.push(this)),this._hookedTime+Q.startTime}T(rt,"de");try{Object.defineProperty(HTMLVideoElement.prototype,"currentTime",{get:rt}),Object.defineProperty(HTMLAudioElement.prototype,"currentTime",{get:rt})}catch(ot){mt(ot)}}T(Te,"De");function me(){Te(),ie.start(),Se=!0}T(me,"C");function Ee(){Se=!1,ie.stop(),Ge()}T(Ee,"H");function Le(rt,ot){H(rt,0,ot)}T(Le,"Y");function Fe(){Le(tt)}T(Fe,"ie");function Ge(){mt("Capturer stop"),window.setTimeout=H,window.setInterval=X,window.clearInterval=te,window.clearTimeout=pe,window.requestAnimationFrame=le,window.Date.prototype.getTime=J,window.Date.now=$,window.performance.now=ne}T(Ge,"oe");function ze(){var rt=be/Q.framerate;(Q.frameLimit&&be>=Q.frameLimit||Q.timeLimit&&rt>=Q.timeLimit)&&(Ee(),ht());var ot=new Date(null);ot.setSeconds(rt),Q.motionBlurFrames>2?Me.textContent="CCapture "+Q.format+" | "+be+" frames ("+ye+" inter) | "+ot.toISOString().substr(11,8):Me.textContent="CCapture "+Q.format+" | "+be+" frames | "+ot.toISOString().substr(11,8)}T(ze,"re");function et(rt){(q.width!==rt.width||q.height!==rt.height)&&(q.width=rt.width,q.height=rt.height,ve=new Uint16Array(q.height*q.width*4),we.fillStyle="#0",we.fillRect(0,0,q.width,q.height))}T(et,"we");function Ke(rt){we.drawImage(rt,0,0),re=we.getImageData(0,0,q.width,q.height);for(var ot=0;ot<ve.length;ot+=4)ve[ot]+=re.data[ot],ve[ot+1]+=re.data[ot+1],ve[ot+2]+=re.data[ot+2];ye++}T(Ke,"me");function Qe(){for(var rt=re.data,ot=0;ot<ve.length;ot+=4)rt[ot]=ve[ot]*2/Q.motionBlurFrames,rt[ot+1]=ve[ot+1]*2/Q.motionBlurFrames,rt[ot+2]=ve[ot+2]*2/Q.motionBlurFrames;we.putImageData(re,0,0),ie.add(q),be++,ye=0,mt("Full MB Frame! "+be+" "+G);for(var ot=0;ot<ve.length;ot+=4)ve[ot]=0,ve[ot+1]=0,ve[ot+2]=0;gc()}T(Qe,"be");function Xe(rt){Se&&(Q.motionBlurFrames>2?(et(rt),Ke(rt),ye>=.5*Q.motionBlurFrames?Qe():Fe()):(ie.add(rt),be++,mt("Full Frame! "+be)))}T(Xe,"he");function tt(){var rt=1e3/Q.framerate,ot=(be+ye/Q.motionBlurFrames)*rt;G=N+ot,Z=oe+ot,de.forEach(function(yt){yt._hookedTime=ot/1e3}),ze(),mt("Frame: "+be+" "+ye);for(var dt=0;dt<ce.length;dt++)if(G>=ce[dt].triggerTime){Le(ce[dt].callback),ce.splice(dt,1);continue}for(var dt=0;dt<ue.length;dt++)if(G>=ue[dt].triggerTime){Le(ue[dt].callback),ue[dt].triggerTime+=ue[dt].time;continue}xe.forEach(function(yt){Le(yt,G-w)}),xe=[]}T(tt,"xe");function ht(rt){rt||(rt=T(function(ot){return h(ot,ie.filename+ie.extension,ie.mimeType),!1},"de")),ie.save(rt)}T(ht,"Te");function mt(rt){j&&console.log(rt)}T(mt,"Be");function xt(rt,ot){Ie[rt]=ot}T(xt,"Oe");function ft(rt){var ot=Ie[rt];ot&&ot.apply(null,Array.prototype.slice.call(arguments,1))}T(ft,"ze");function gt(rt){ft("progress",rt)}return T(gt,"Ie"),{start:me,capture:Xe,stop:Ee,save:ht,on:xt}}T(P,"s"),(y||c||{}).CCapture=P,p=function(){return P}.call(k,v,k,Y),p!==void 0&&(Y.exports=p)})()},173:Y=>{function k(v,p,d){var h=window,m="application/octet-stream",f=d||m,r=v,s=document,l=s.createElement("a"),i=T(function(w){return String(w)},"w"),n=h.Blob||h.MozBlob||h.WebKitBlob||i,u=h.MSBlobBuilder||h.WebKitBlobBuilder||h.BlobBuilder,a=p||"download",o,c,y,_;if(String(this)==="true"&&(r=[r,f],f=r[0],r=r[1]),String(r).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/))return navigator.msSaveBlob?navigator.msSaveBlob(x(r),a):b(r);try{o=r instanceof n?r:new n([r],{type:f})}catch{u&&(c=new u,c.append([r]),o=c.getBlob(f))}function x(w){var M=w.split(/[:;,]/),E=M[1],A=M[2]=="base64"?atob:decodeURIComponent,C=A(M.pop()),I=C.length,F=0,R=new Uint8Array(I);for(F;F<I;++F)R[F]=C.charCodeAt(F);return new n([R],{type:E})}T(x,"p");function b(w,M){if("download"in l)return l.href=w,l.setAttribute("download",a),l.innerHTML="downloading...",l.style.display="none",s.body.appendChild(l),setTimeout(function(){l.click(),s.body.removeChild(l),M===!0&&setTimeout(function(){h.URL.revokeObjectURL(l.href)},250)},66),!0;var E=s.createElement("iframe");s.body.appendChild(E),M||(w="data:"+w.replace(/^data:([\w\/\-\+]+)/,m)),E.src=w,setTimeout(function(){s.body.removeChild(E)},333)}if(T(b,"u"),navigator.msSaveBlob)return navigator.msSaveBlob(o,a);if(h.URL)b(h.URL.createObjectURL(o),!0);else{if(typeof o=="string"||o.constructor===i)try{return b("data:"+f+";base64,"+h.btoa(o))}catch{return b("data:"+f+","+encodeURIComponent(o))}_=new FileReader,_.onload=function(w){b(this.result)},_.readAsDataURL(o)}return!0}T(k,"D"),typeof Y.exports<"u"&&(Y.exports=k)},769:Y=>{(function(k){if(1)Y.exports=k();else var v})(function(){var k,v,p;return function(){function d(h,m,f){function r(i,n){if(!m[i]){if(!h[i]){var u=void 0;if(!n&&u)return _n(i,!0);if(s)return s(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var o=m[i]={exports:{}};h[i][0].call(o.exports,function(c){var y=h[i][1][c];return r(y||c)},o,o.exports,d,h,m,f)}return m[i].exports}T(r,"r");for(var s=void 0,l=0;l<f.length;l++)r(f[l]);return r}return T(d,"B"),d}()({1:[function(d,h,m){function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}T(f,"o"),h.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(n){if(!s(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},f.prototype.emit=function(n){var u,a,o,c,y,_;if(this._events||(this._events={}),n==="error"&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if(u=arguments[1],u instanceof Error)throw u;var x=new Error('Uncaught, unspecified "error" event. ('+u+")");throw x.context=u,x}if(a=this._events[n],i(a))return!1;if(r(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),a.apply(this,c)}else if(l(a))for(c=Array.prototype.slice.call(arguments,1),_=a.slice(),o=_.length,y=0;y<o;y++)_[y].apply(this,c);return!0},f.prototype.addListener=function(n,u){var a;if(!r(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",n,r(u.listener)?u.listener:u),this._events[n]?l(this._events[n])?this._events[n].push(u):this._events[n]=[this._events[n],u]:this._events[n]=u,l(this._events[n])&&!this._events[n].warned&&(i(this._maxListeners)?a=f.defaultMaxListeners:a=this._maxListeners,a&&a>0&&this._events[n].length>a&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),typeof console.trace=="function"&&console.trace())),this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(n,u){if(!r(u))throw TypeError("listener must be a function");var a=!1;function o(){this.removeListener(n,o),a||(a=!0,u.apply(this,arguments))}return T(o,"h"),o.listener=u,this.on(n,o),this},f.prototype.removeListener=function(n,u){var a,o,c,y;if(!r(u))throw TypeError("listener must be a function");if(!this._events||!this._events[n])return this;if(a=this._events[n],c=a.length,o=-1,a===u||r(a.listener)&&a.listener===u)delete this._events[n],this._events.removeListener&&this.emit("removeListener",n,u);else if(l(a)){for(y=c;y-- >0;)if(a[y]===u||a[y].listener&&a[y].listener===u){o=y;break}if(o<0)return this;a.length===1?(a.length=0,delete this._events[n]):a.splice(o,1),this._events.removeListener&&this.emit("removeListener",n,u)}return this},f.prototype.removeAllListeners=function(n){var u,a;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[n]&&delete this._events[n],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(a=this._events[n],r(a))this.removeListener(n,a);else if(a)for(;a.length;)this.removeListener(n,a[a.length-1]);return delete this._events[n],this},f.prototype.listeners=function(n){var u;return!this._events||!this._events[n]?u=[]:r(this._events[n])?u=[this._events[n]]:u=this._events[n].slice(),u},f.prototype.listenerCount=function(n){if(this._events){var u=this._events[n];if(r(u))return 1;if(u)return u.length}return 0},f.listenerCount=function(n,u){return n.listenerCount(u)};function r(n){return typeof n=="function"}T(r,"r");function s(n){return typeof n=="number"}T(s,"f");function l(n){return typeof n=="object"&&n!==null}T(l,"m");function i(n){return n===void 0}T(i,"w")},{}],2:[function(d,h,m){var f=d("./TypedNeuQuant.js"),r=d("./LZWEncoder.js");function s(){this.page=-1,this.pages=[],this.newPage()}T(s,"f"),s.pageSize=4096,s.charMap={};for(var l=0;l<256;l++)s.charMap[l]=String.fromCharCode(l);s.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(s.pageSize),this.cursor=0},s.prototype.getData=function(){for(var n="",u=0;u<this.pages.length;u++)for(var a=0;a<s.pageSize;a++)n+=s.charMap[this.pages[u][a]];return n},s.prototype.writeByte=function(n){this.cursor>=s.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=n},s.prototype.writeUTFBytes=function(n){for(var u=n.length,a=0;a<u;a++)this.writeByte(n.charCodeAt(a))},s.prototype.writeBytes=function(n,u,a){for(var o=a||n.length,c=u||0;c<o;c++)this.writeByte(n[c])};function i(n,u){this.width=~~n,this.height=~~u,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new s}T(i,"w"),i.prototype.setDelay=function(n){this.delay=Math.round(n/10)},i.prototype.setFrameRate=function(n){this.delay=Math.round(100/n)},i.prototype.setDispose=function(n){n>=0&&(this.dispose=n)},i.prototype.setRepeat=function(n){this.repeat=n},i.prototype.setTransparent=function(n){this.transparent=n},i.prototype.addFrame=function(n){this.image=n,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),this.globalPalette===!0&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),!this.firstFrame&&!this.globalPalette&&this.writePalette(),this.writePixels(),this.firstFrame=!1},i.prototype.finish=function(){this.out.writeByte(59)},i.prototype.setQuality=function(n){n<1&&(n=1),this.sample=n},i.prototype.setDither=function(n){n===!0&&(n="FloydSteinberg"),this.dither=n},i.prototype.setGlobalPalette=function(n){this.globalPalette=n},i.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},i.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},i.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new f(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent,!0))},i.prototype.indexPixels=function(n){var u=this.pixels.length/3;this.indexedPixels=new Uint8Array(u);for(var a=0,o=0;o<u;o++){var c=this.findClosestRGB(this.pixels[a++]&255,this.pixels[a++]&255,this.pixels[a++]&255);this.usedEntry[c]=!0,this.indexedPixels[o]=c}},i.prototype.ditherPixels=function(n,u){var a={FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]]};if(!n||!a[n])throw"Unknown dithering kernel: "+n;var o=a[n],c=0,y=this.height,_=this.width,x=this.pixels,b=u?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var w=0;w<y;w++){u&&(b=b*-1);for(var M=b==1?0:_-1,E=b==1?_:0;M!==E;M+=b){c=w*_+M;var A=c*3,C=x[A],I=x[A+1],F=x[A+2];A=this.findClosestRGB(C,I,F),this.usedEntry[A]=!0,this.indexedPixels[c]=A,A*=3;for(var R=this.colorTab[A],U=this.colorTab[A+1],z=this.colorTab[A+2],P=C-R,W=I-U,Q=F-z,ae=b==1?0:o.length-1,j=b==1?o.length:0;ae!==j;ae+=b){var L=o[ae][1],G=o[ae][2];if(L+M>=0&&L+M<_&&G+w>=0&&G+w<y){var N=o[ae][0];A=c+L+G*_,A*=3,x[A]=Math.max(0,Math.min(255,x[A]+P*N)),x[A+1]=Math.max(0,Math.min(255,x[A+1]+W*N)),x[A+2]=Math.max(0,Math.min(255,x[A+2]+Q*N))}}}}},i.prototype.findClosest=function(n,u){return this.findClosestRGB((n&16711680)>>16,(n&65280)>>8,n&255,u)},i.prototype.findClosestRGB=function(n,u,a,o){if(this.colorTab===null)return-1;if(this.neuQuant&&!o)return this.neuQuant.lookupRGB(n,u,a);for(var c=a|u<<8|n<<16,y=0,_=16777216,x=this.colorTab.length,b=0,w=0;b<x;w++){var M=n-(this.colorTab[b++]&255),E=u-(this.colorTab[b++]&255),A=a-(this.colorTab[b++]&255),C=M*M+E*E+A*A;(!o||this.usedEntry[w])&&C<_&&(_=C,y=w)}return y},i.prototype.getImagePixels=function(){var n=this.width,u=this.height;this.pixels=new Uint8Array(n*u*3);for(var a=this.image,o=0,c=0,y=0;y<u;y++)for(var _=0;_<n;_++)this.pixels[c++]=a[o++],this.pixels[c++]=a[o++],this.pixels[c++]=a[o++],o++},i.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var n,u;this.transparent===null?(n=0,u=0):(n=1,u=2),this.dispose>=0&&(u=this.dispose&7),u<<=2,this.out.writeByte(0|u|0|n),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},i.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},i.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},i.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},i.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var n=768-this.colorTab.length,u=0;u<n;u++)this.out.writeByte(0)},i.prototype.writeShort=function(n){this.out.writeByte(n&255),this.out.writeByte(n>>8&255)},i.prototype.writePixels=function(){var n=new r(this.width,this.height,this.indexedPixels,this.colorDepth);n.encode(this.out)},i.prototype.stream=function(){return this.out},h.exports=i},{"./LZWEncoder.js":3,"./TypedNeuQuant.js":4}],3:[function(d,h,m){var f=-1,r=12,s=5003,l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function i(n,u,a,o){var c=Math.max(2,o),y=new Uint8Array(256),_=new Int32Array(s),x=new Int32Array(s),b,w=0,M,E=0,A,C=!1,I,F,R;function U(N,Z){y[M++]=N,M>=254&&ae(Z)}T(U,"E");function z(N){P(s),E=F+2,C=!0,G(F,N)}T(z,"j");function P(N){for(var Z=0;Z<N;++Z)_[Z]=-1}T(P,"s");function W(N,Z){var oe,ie,ce,ue,be,ye,se;for(I=N,C=!1,n_bits=I,A=j(n_bits),F=1<<N-1,R=F+1,E=F+2,M=0,ue=L(),se=0,oe=s;oe<65536;oe*=2)++se;se=8-se,ye=s,P(ye),G(F,Z);e:for(;(ie=L())!=f;){if(oe=(ie<<r)+ue,ce=ie<<se^ue,_[ce]===oe){ue=x[ce];continue}else if(_[ce]>=0){be=ye-ce,ce===0&&(be=1);do if((ce-=be)<0&&(ce+=ye),_[ce]===oe){ue=x[ce];continue e}while(_[ce]>=0)}G(ue,Z),ue=ie,E<1<<r?(x[ce]=E++,_[ce]=oe):z(Z)}G(ue,Z),G(R,Z)}T(W,"F");function Q(N){N.writeByte(c),remaining=n*u,curPixel=0,W(c+1,N),N.writeByte(0)}T(Q,"M");function ae(N){M>0&&(N.writeByte(M),N.writeBytes(y,0,M),M=0)}T(ae,"W");function j(N){return(1<<N)-1}T(j,"ee");function L(){if(remaining===0)return f;--remaining;var N=a[curPixel++];return N&255}T(L,"q");function G(N,Z){for(b&=l[w],w>0?b|=N<<w:b=N,w+=n_bits;w>=8;)U(b&255,Z),b>>=8,w-=8;if((E>A||C)&&(C?(A=j(n_bits=I),C=!1):(++n_bits,n_bits==r?A=1<<r:A=j(n_bits))),N==R){for(;w>0;)U(b&255,Z),b>>=8,w-=8;ae(Z)}}T(G,"te"),this.encode=Q}T(i,"w"),h.exports=i},{}],4:[function(d,h,m){var f=100,r=256,s=r-1,l=4,i=16,n=1<<i,u=10,a=1<<u,o=10,c=n>>o,y=n<<u-o,_=r>>3,x=6,b=1<<x,w=_*b,M=30,E=10,A=1<<E,C,I=8,F=1<<I,R=E+I,U=1<<R,z=499,P=491,W=487,Q=503,ae=3*Q;function j(L,G){var N,Z,oe,ie,ce;function ue(){N=[],Z=new Int32Array(256),oe=new Int32Array(r),ie=new Int32Array(r),ce=new Int32Array(r>>3);var ve,re;for(ve=0;ve<r;ve++)re=(ve<<l+8)/r,N[ve]=new Float64Array([re,re,re,0]),ie[ve]=n/r,oe[ve]=0}T(ue,"se");function be(){for(var ve=0;ve<r;ve++)N[ve][0]>>=l,N[ve][1]>>=l,N[ve][2]>>=l,N[ve][3]=ve}T(be,"pe");function ye(ve,re,fe,ge,B){N[re][0]-=ve*(N[re][0]-fe)/A,N[re][1]-=ve*(N[re][1]-ge)/A,N[re][2]-=ve*(N[re][2]-B)/A}T(ye,"ue");function se(ve,re,fe,ge,B){for(var H=Math.abs(re-ve),X=Math.min(re+ve,r),te=re+1,pe=re-1,le=1,$,ne;te<X||pe>H;)ne=ce[le++],te<X&&($=N[te++],$[0]-=ne*($[0]-fe)/U,$[1]-=ne*($[1]-ge)/U,$[2]-=ne*($[2]-B)/U),pe>H&&($=N[pe--],$[0]-=ne*($[0]-fe)/U,$[1]-=ne*($[1]-ge)/U,$[2]-=ne*($[2]-B)/U)}T(se,"ve");function xe(ve,re,fe){var ge=2147483647,B=ge,H=-1,X=H,te,pe,le,$,ne;for(te=0;te<r;te++)pe=N[te],le=Math.abs(pe[0]-ve)+Math.abs(pe[1]-re)+Math.abs(pe[2]-fe),le<ge&&(ge=le,H=te),$=le-(oe[te]>>i-l),$<B&&(B=$,X=te),ne=ie[te]>>o,ie[te]-=ne,oe[te]+=ne<<u;return ie[H]+=c,oe[H]-=y,X}T(xe,"ke");function Se(){var ve,re,fe,ge,B,H,X=0,te=0;for(ve=0;ve<r;ve++){for(fe=N[ve],B=ve,H=fe[1],re=ve+1;re<r;re++)ge=N[re],ge[1]<H&&(B=re,H=ge[1]);if(ge=N[B],ve!=B&&(re=ge[0],ge[0]=fe[0],fe[0]=re,re=ge[1],ge[1]=fe[1],fe[1]=re,re=ge[2],ge[2]=fe[2],fe[2]=re,re=ge[3],ge[3]=fe[3],fe[3]=re),H!=X){for(Z[X]=te+ve>>1,re=X+1;re<H;re++)Z[re]=ve;X=H,te=ve}}for(Z[X]=te+s>>1,re=X+1;re<256;re++)Z[re]=s}T(Se,"_e");function Ie(ve,re,fe){for(var ge,B,H,X=1e3,te=-1,pe=Z[re],le=pe-1;pe<r||le>=0;)pe<r&&(B=N[pe],H=B[1]-re,H>=X?pe=r:(pe++,H<0&&(H=-H),ge=B[0]-ve,ge<0&&(ge=-ge),H+=ge,H<X&&(ge=B[2]-fe,ge<0&&(ge=-ge),H+=ge,H<X&&(X=H,te=B[3])))),le>=0&&(B=N[le],H=re-B[1],H>=X?le=-1:(le--,H<0&&(H=-H),ge=B[0]-ve,ge<0&&(ge=-ge),H+=ge,H<X&&(ge=B[2]-fe,ge<0&&(ge=-ge),H+=ge,H<X&&(X=H,te=B[3]))));return te}T(Ie,"Pe");function Me(){var ve,re=L.length,fe=30+(G-1)/3,ge=re/(3*G),B=~~(ge/f),H=A,X=w,te=X>>x;for(te<=1&&(te=0),ve=0;ve<te;ve++)ce[ve]=H*((te*te-ve*ve)*F/(te*te));var pe;re<ae?(G=1,pe=3):re%z!==0?pe=3*z:re%P!==0?pe=3*P:re%W!==0?pe=3*W:pe=3*Q;var le,$,ne,J,de=0;for(ve=0;ve<ge;)if(le=(L[de]&255)<<l,$=(L[de+1]&255)<<l,ne=(L[de+2]&255)<<l,J=xe(le,$,ne),ye(H,J,le,$,ne),te!==0&&se(te,J,le,$,ne),de+=pe,de>=re&&(de-=re),ve++,B===0&&(B=1),ve%B===0)for(H-=H/fe,X-=X/M,te=X>>x,te<=1&&(te=0),J=0;J<te;J++)ce[J]=H*((te*te-J*J)*F/(te*te))}T(Me,"Ee");function q(){ue(),Me(),be(),Se()}T(q,"t"),this.buildColormap=q;function we(){for(var ve=[],re=[],fe=0;fe<r;fe++)re[N[fe][3]]=fe;for(var ge=0,B=0;B<r;B++){var H=re[B];ve[ge++]=N[H][0],ve[ge++]=N[H][1],ve[ge++]=N[H][2]}return ve}T(we,"K"),this.getColormap=we,this.lookupRGB=Ie}T(j,"ee"),h.exports=j},{}],5:[function(d,h,m){var f,r,s,l,i;i=navigator.userAgent.toLowerCase(),l=navigator.platform.toLowerCase(),f=i.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],s=f[1]==="ie"&&document.documentMode,r={name:f[1]==="version"?f[3]:f[1],version:s||parseFloat(f[1]==="opera"&&f[4]?f[4]:f[2]),platform:{name:i.match(/ip(?:ad|od|hone)/)?"ios":(i.match(/(?:webos|android)/)||l.match(/mac|win|linux/)||["other"])[0]}},r[r.name]=!0,r[r.name+parseInt(r.version,10)]=!0,r.platform[r.platform.name]=!0,h.exports=r},{}],6:[function(d,h,m){var f,r,s,l,i,n=T(function(c,y){for(var _ in y)u.call(y,_)&&(c[_]=y[_]);function x(){this.constructor=c}return T(x,"p"),x.prototype=y.prototype,c.prototype=new x,c.__super__=y.prototype,c},"a"),u={}.hasOwnProperty,a=[].indexOf||function(c){for(var y=0,_=this.length;y<_;y++)if(y in this&&this[y]===c)return y;return-1},o=[].slice;f=d("events").EventEmitter,l=d("./browser.coffee"),s=d("./GIFEncoder.js"),i=d("./gif.worker.coffee"),h.exports=r=function(c){var y,_;n(x,c),y={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},_={delay:500,copy:!1,dispose:-1};function x(b){var w,M,E;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(b);for(M in y)E=y[M],(w=this.options)[M]==null&&(w[M]=E)}return T(x,"p"),x.prototype.setOption=function(b,w){if(this.options[b]=w,this._canvas!=null&&(b==="width"||b==="height"))return this._canvas[b]=w},x.prototype.setOptions=function(b){var w,M,E;M=[];for(w in b)u.call(b,w)&&(E=b[w],M.push(this.setOption(w,E)));return M},x.prototype.addFrame=function(b,w){var M,E;w==null&&(w={}),M={},M.transparent=this.options.transparent;for(E in _)M[E]=w[E]||_[E];if(this.options.width==null&&this.setOption("width",b.width),this.options.height==null&&this.setOption("height",b.height),typeof ImageData<"u"&&ImageData!==null&&b instanceof ImageData)M.data=b.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&b instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&b instanceof WebGLRenderingContext)w.copy?M.data=this.getContextData(b):M.context=b;else if(b.childNodes!=null)w.copy?M.data=this.getImageData(b):M.image=b;else throw new Error("Invalid image");return this.frames.push(M)},x.prototype.render=function(){var b,w,M,E;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var A,C,I;for(I=[],b=A=0,C=this.frames.length;0<=C?A<C:A>C;b=0<=C?++A:--A)I.push(null);return I}.call(this),M=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(b=w=0,E=M;0<=E?w<E:w>E;b=0<=E?++w:--w)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},x.prototype.abort=function(){for(var b;b=this.activeWorkers.shift(),b!=null;)this.log("killing active worker"),b.terminate();return this.running=!1,this.emit("abort")},x.prototype.spawnWorkers=function(){var b,w,M,E;return w=Math.min(this.options.workers,this.frames.length),function(){E=[];for(var A=M=this.freeWorkers.length;M<=w?A<w:A>w;M<=w?A++:A--)E.push(A);return E}.apply(this).forEach(function(A){return function(C){var I;return A.log("spawning worker "+C),I=new Worker(A.options.workerScript),I.onmessage=function(F){return A.activeWorkers.splice(A.activeWorkers.indexOf(I),1),A.freeWorkers.push(I),A.frameFinished(F.data)},A.freeWorkers.push(I)}}(this)),w},x.prototype.frameFinished=function(b){var w,M,E;if(this.log("frame "+b.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[b.index]=b,this.options.globalPalette===!0&&(this.options.globalPalette=b.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(w=M=1,E=this.freeWorkers.length;1<=E?M<E:M>E;w=1<=E?++M:--M)this.renderNextFrame();return a.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},x.prototype.finishRendering=function(){var b,w,M,E,A,C,I,F,R,U,z,P,W,Q,ae,j;for(F=0,Q=this.imageParts,A=0,R=Q.length;A<R;A++)w=Q[A],F+=(w.data.length-1)*w.pageSize+w.cursor;for(F+=w.pageSize-w.cursor,this.log("rendering finished - filesize "+Math.round(F/1e3)+"kb"),b=new Uint8Array(F),P=0,ae=this.imageParts,C=0,U=ae.length;C<U;C++)for(w=ae[C],j=w.data,M=I=0,z=j.length;I<z;M=++I)W=j[M],b.set(W,P),M===w.data.length-1?P+=w.cursor:P+=w.pageSize;return E=new Blob([b],{type:"image/gif"}),this.emit("finished",E,b)},x.prototype.renderNextFrame=function(){var b,w,M;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return b=this.frames[this.nextFrame++],M=this.freeWorkers.shift(),w=this.getTask(b),this.log("starting frame "+(w.index+1)+" of "+this.frames.length),this.activeWorkers.push(M),M.postMessage(w)},x.prototype.getContextData=function(b){return b.getImageData(0,0,this.options.width,this.options.height).data},x.prototype.getImageData=function(b){var w;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),w=this._canvas.getContext("2d"),w.setFill=this.options.background,w.fillRect(0,0,this.options.width,this.options.height),w.drawImage(b,0,0),this.getContextData(w)},x.prototype.getTask=function(b){var w,M;if(w=this.frames.indexOf(b),M={index:w,last:w===this.frames.length-1,delay:b.delay,dispose:b.dispose,transparent:b.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:l.name==="chrome"},b.data!=null)M.data=b.data;else if(b.context!=null)M.data=this.getContextData(b.context);else if(b.image!=null)M.data=this.getImageData(b.image);else throw new Error("Invalid frame");return M},x.prototype.log=function(){var b;if(b=1<=arguments.length?o.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,b)},x}(f)},{"./GIFEncoder.js":2,"./browser.coffee":5,"./gif.worker.coffee":7,events:1}],7:[function(d,h,m){var f,r;f=d("./GIFEncoder.js"),r=T(function(s){var l,i,n,u;return l=new f(s.width,s.height),s.index===0?l.writeHeader():l.firstFrame=!1,l.setTransparent(s.transparent),l.setDispose(s.dispose),l.setRepeat(s.repeat),l.setDelay(s.delay),l.setQuality(s.quality),l.setDither(s.dither),l.setGlobalPalette(s.globalPalette),l.addFrame(s.data),s.last&&l.finish(),s.globalPalette===!0&&(s.globalPalette=l.getGlobalPalette()),n=l.stream(),s.data=n.pages,s.cursor=n.cursor,s.pageSize=n.constructor.pageSize,s.canTransfer?(u=function(){var a,o,c,y;for(c=s.data,y=[],a=0,o=c.length;a<o;a++)i=c[a],y.push(i.buffer);return y}(),self.postMessage(s,u)):self.postMessage(s)},"r"),self.onmessage=function(s){return r(s.data)}},{"./GIFEncoder.js":2}]},{},[6])(6)})},846:Y=>{(function(){"use strict";var k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function v(f){var r,s=new Uint8Array(f);for(r=0;r<f;r+=1)s[r]=0;return s}T(v,"J");function p(f,r,s,l){var i=r+s,n=v((parseInt(i/l)+1)*l);return n.set(f),n}T(p,"g");function d(f,r,s){return f=f.toString(s||8),"000000000000".substr(f.length+12-r)+f}T(d,"B");function h(f,r,s){var l,i;for(r=r||v(f.length),s=s||0,l=0,i=f.length;l<i;l+=1)r[s]=f.charCodeAt(l),s+=1;return r}T(h,"_");function m(f){var r,s=f.length%3,l="",i,n;function u(a){return k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[a&63]}for(T(u,"l"),r=0,n=f.length-s;r<n;r+=3)i=(f[r]<<16)+(f[r+1]<<8)+f[r+2],l+=u(i);switch(l.length%4){case 1:l+="=";break;case 2:l+="==";break;default:break}return l}T(m,"c"),window.utils={},window.utils.clean=v,window.utils.pad=d,window.utils.extend=p,window.utils.stringToUint8=h,window.utils.uint8ToBase64=m})(),function(){"use strict";var k=window.utils,v;v=[{field:"fileName",length:100},{field:"fileMode",length:8},{field:"uid",length:8},{field:"gid",length:8},{field:"fileSize",length:12},{field:"mtime",length:12},{field:"checksum",length:8},{field:"type",length:1},{field:"linkName",length:100},{field:"ustar",length:8},{field:"owner",length:32},{field:"group",length:32},{field:"majorNumber",length:8},{field:"minorNumber",length:8},{field:"filenamePrefix",length:155},{field:"padding",length:12}];function p(d,h){var m=k.clean(512),f=0;return v.forEach(function(r){var s=d[r.field]||"",l,i;for(l=0,i=s.length;l<i;l+=1)m[f]=s.charCodeAt(l),f+=1;f+=r.length-l}),typeof h=="function"?h(m,f):m}T(p,"g"),window.header={},window.header.structure=v,window.header.format=p}(),function(){"use strict";var k=window.header,v=window.utils,p=512,d;function h(m){this.written=0,d=(m||20)*p,this.out=v.clean(d),this.blocks=[],this.length=0}T(h,"_"),h.prototype.append=function(m,f,r,s){var l,i,n,u,a,o,c;if(typeof f=="string")f=v.stringToUint8(f);else if(f.constructor!==Uint8Array.prototype.constructor)throw"Invalid input type. You gave me: "+f.constructor.toString().match(/function\s*([$A-Za-z_][0-9A-Za-z_]*)\s*\(/)[1];typeof r=="function"&&(s=r,r={}),r=r||{},n=r.mode||parseInt("777",8)&4095,u=r.mtime||Math.floor(+new Date/1e3),a=r.uid||0,o=r.gid||0,l={fileName:m,fileMode:v.pad(n,7),uid:v.pad(a,7),gid:v.pad(o,7),fileSize:v.pad(f.length,11),mtime:v.pad(u,11),checksum:"        ",type:"0",ustar:"ustar  ",owner:r.owner||"",group:r.group||""},i=0,Object.keys(l).forEach(function(x){var b,w=l[x],M;for(b=0,M=w.length;b<M;b+=1)i+=w.charCodeAt(b)}),l.checksum=v.pad(i,6)+"\0 ",c=k.format(l);var y=Math.ceil(c.length/p)*p,_=Math.ceil(f.length/p)*p;this.blocks.push({header:c,input:f,headerLength:y,inputLength:_})},h.prototype.save=function(){var m=[],f=[],r=0,s=Math.pow(2,20),l=[];return this.blocks.forEach(function(i){r+i.headerLength+i.inputLength>s&&(f.push({blocks:l,length:r}),l=[],r=0),l.push(i),r+=i.headerLength+i.inputLength}),f.push({blocks:l,length:r}),f.forEach(function(i){var n=new Uint8Array(i.length),u=0;i.blocks.forEach(function(a){n.set(a.header,u),u+=a.headerLength,n.set(a.input,u),u+=a.inputLength}),m.push(n)}),m.push(new Uint8Array(2*p)),new Blob(m,{type:"octet/stream"})},h.prototype.clear=function(){this.written=0,this.out=v.clean(d)},typeof Y.exports<"u"?Y.exports=h:window.Tar=h}()},166:Y=>{"use strict";var k=T(function(p){this.data=new Uint8Array(p),this.pos=0},"D");k.prototype.seek=function(p){this.pos=p},k.prototype.writeBytes=function(p){for(var d=0;d<p.length;d++)this.data[this.pos++]=p[d]},k.prototype.writeByte=function(p){this.data[this.pos++]=p},k.prototype.writeU8=k.prototype.writeByte,k.prototype.writeU16BE=function(p){this.data[this.pos++]=p>>8,this.data[this.pos++]=p},k.prototype.writeDoubleBE=function(p){for(var d=new Uint8Array(new Float64Array([p]).buffer),h=d.length-1;h>=0;h--)this.writeByte(d[h])},k.prototype.writeFloatBE=function(p){for(var d=new Uint8Array(new Float32Array([p]).buffer),h=d.length-1;h>=0;h--)this.writeByte(d[h])},k.prototype.writeString=function(p){for(var d=0;d<p.length;d++)this.data[this.pos++]=p.charCodeAt(d)},k.prototype.writeEBMLVarIntWidth=function(p,d){switch(d){case 1:this.writeU8(128|p);break;case 2:this.writeU8(64|p>>8),this.writeU8(p);break;case 3:this.writeU8(32|p>>16),this.writeU8(p>>8),this.writeU8(p);break;case 4:this.writeU8(16|p>>24),this.writeU8(p>>16),this.writeU8(p>>8),this.writeU8(p);break;case 5:this.writeU8(8|p/4294967296&7),this.writeU8(p>>24),this.writeU8(p>>16),this.writeU8(p>>8),this.writeU8(p);break;default:throw new RuntimeException("Bad EBML VINT size "+d)}},k.prototype.measureEBMLVarInt=function(p){if(p<127)return 1;if(p<16383)return 2;if(p<2097151)return 3;if(p<268435455)return 4;if(p<34359738367)return 5;throw new RuntimeException("EBML VINT size not supported "+p)},k.prototype.writeEBMLVarInt=function(p){this.writeEBMLVarIntWidth(p,this.measureEBMLVarInt(p))},k.prototype.writeUnsignedIntBE=function(p,d){switch(d===void 0&&(d=this.measureUnsignedInt(p)),d){case 5:this.writeU8(Math.floor(p/4294967296));case 4:this.writeU8(p>>24);case 3:this.writeU8(p>>16);case 2:this.writeU8(p>>8);case 1:this.writeU8(p);break;default:throw new RuntimeException("Bad UINT size "+d)}},k.prototype.measureUnsignedInt=function(p){return p<256?1:p<65536?2:p<16777216?3:p<4294967296?4:5},k.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayBufferDataStream's pos lies beyond end of buffer"};var v=function(p){return function(d){var h=[],m=Promise.resolve(),f=null,r=null;typeof FileWriter<"u"&&d instanceof FileWriter?f=d:p&&d&&(r=d),this.pos=0,this.length=0;function s(n){return new Promise(function(u,a){var o=new FileReader;o.addEventListener("loadend",function(){u(o.result)}),o.readAsArrayBuffer(n)})}T(s,"f");function l(n){return new Promise(function(u,a){n instanceof Uint8Array?u(n):n instanceof ArrayBuffer||ArrayBuffer.isView(n)?u(new Uint8Array(n)):n instanceof Blob?u(s(n).then(function(o){return new Uint8Array(o)})):u(s(new Blob([n])).then(function(o){return new Uint8Array(o)}))})}T(l,"m");function i(n){var u=n.byteLength||n.length||n.size;if(!Number.isInteger(u))throw"Failed to determine size of element";return u}T(i,"w"),this.seek=function(n){if(n<0)throw"Offset may not be negative";if(isNaN(n))throw"Offset may not be NaN";if(n>this.length)throw"Seeking beyond the end of file is not allowed";this.pos=n},this.write=function(n){var u={offset:this.pos,data:n,length:i(n)},a=u.offset>=this.length;this.pos+=u.length,this.length=Math.max(this.length,this.pos),m=m.then(function(){if(r)return new Promise(function(y,_){l(u.data).then(function(x){var b=0,w=qt.from(x.buffer),M=T(function(E,A,C){b+=A,b>=C.length?y():p.write(r,C,b,C.length-b,u.offset+b,M)},"y");p.write(r,w,0,w.length,u.offset,M)})});if(f)return new Promise(function(y,_){f.onwriteend=y,f.seek(u.offset),f.write(new Blob([u.data]))});if(!a)for(var o=0;o<h.length;o++){var c=h[o];if(!(u.offset+u.length<=c.offset||u.offset>=c.offset+c.length)){if(u.offset<c.offset||u.offset+u.length>c.offset+c.length)throw new Error("Overwrite crosses blob boundaries");if(u.offset==c.offset&&u.length==c.length){c.data=u.data;return}else return l(c.data).then(function(y){return c.data=y,l(u.data)}).then(function(y){u.data=y,c.data.set(u.data,u.offset-c.offset)})}}h.push(u)})},this.complete=function(n){return r||f?m=m.then(function(){return null}):m=m.then(function(){for(var u=[],a=0;a<h.length;a++)u.push(h[a].data);return new Blob(u,{mimeType:n})}),m}}}(null);(function(){var p=T(function(d,h){function m(a,o){var c={};return[a,o].forEach(function(y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(c[_]=y[_])}),c}T(m,"c");function f(a){return typeof a!="string"||!a.match(/^data:image\/webp;base64,/i)?!1:window.atob(a.substring(23))}T(f,"o");function r(a){for(var o=new ArrayBuffer(a.length),c=new Uint8Array(o),y=0;y<a.length;y++)c[y]=a.charCodeAt(y);return o}T(r,"r");function s(a,o){var c=a.toDataURL("image/webp",{quality:o});return f(c)}T(s,"f");function l(a){var o=a.indexOf("VP8 ");if(o==-1)throw"Failed to identify beginning of keyframe in WebP image";return o+=8,a.substring(o)}T(l,"m");function i(a){this.value=a}T(i,"w");function n(a){this.value=a}T(n,"a");function u(a,o,c){if(Array.isArray(c))for(var y=0;y<c.length;y++)u(a,o,c[y]);else if(typeof c=="string")a.writeString(c);else if(c instanceof Uint8Array)a.writeBytes(c);else if(c.id)if(c.offset=a.pos+o,a.writeUnsignedIntBE(c.id),Array.isArray(c.data)){var _,x,b;c.size===-1?a.writeByte(255):(_=a.pos,a.writeBytes([0,0,0,0])),x=a.pos,c.dataOffset=x+o,u(a,o,c.data),c.size!==-1&&(b=a.pos,c.size=b-x,a.seek(_),a.writeEBMLVarIntWidth(c.size,4),a.seek(b))}else if(typeof c.data=="string")a.writeEBMLVarInt(c.data.length),c.dataOffset=a.pos+o,a.writeString(c.data);else if(typeof c.data=="number")c.size||(c.size=a.measureUnsignedInt(c.data)),a.writeEBMLVarInt(c.size),c.dataOffset=a.pos+o,a.writeUnsignedIntBE(c.data,c.size);else if(c.data instanceof n)a.writeEBMLVarInt(8),c.dataOffset=a.pos+o,a.writeDoubleBE(c.data.value);else if(c.data instanceof i)a.writeEBMLVarInt(4),c.dataOffset=a.pos+o,a.writeFloatBE(c.data.value);else if(c.data instanceof Uint8Array)a.writeEBMLVarInt(c.data.byteLength),c.dataOffset=a.pos+o,a.writeBytes(c.data);else throw"Bad EBML datatype "+typeof c.data;else throw"Bad EBML datatype "+typeof c.data}return T(u,"l"),function(a){var o=5e3,c=1,y=!1,_,x,b=[],w=0,M=0,E={quality:.95,fileWriter:null,fd:null,frameDuration:null,frameRate:null},A={Cues:{id:new Uint8Array([28,83,187,107]),positionEBML:null},SegmentInfo:{id:new Uint8Array([21,73,169,102]),positionEBML:null},Tracks:{id:new Uint8Array([22,84,174,107]),positionEBML:null}},C,I={id:17545,data:new n(0)},F,R=[],U=new h(a.fileWriter||a.fd);function z(ce){return ce-C.dataOffset}T(z,"j");function P(){var ce={id:21420,size:5,data:0},ue={id:290298740,data:[]};for(var be in A){var ye=A[be];ye.positionEBML=Object.create(ce),ue.data.push({id:19899,data:[{id:21419,data:ye.id},ye.positionEBML]})}return ue}T(P,"s");function W(){F=P();var ce={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]},ue={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:"webm-writer-js"},{id:22337,data:"webm-writer-js"},I]},be={id:374648427,data:[{id:174,data:[{id:215,data:c},{id:29637,data:c},{id:156,data:0},{id:2274716,data:"und"},{id:134,data:"V_VP8"},{id:2459272,data:"VP8"},{id:131,data:1},{id:224,data:[{id:176,data:_},{id:186,data:x}]}]}]};C={id:408125543,size:-1,data:[F,ue,be]};var ye=new d(256);u(ye,U.pos,[ce,C]),U.write(ye.getAsDataArray()),A.SegmentInfo.positionEBML.data=z(ue.offset),A.Tracks.positionEBML.data=z(be.offset)}T(W,"F");function Q(ce){var ue=new d(4);if(!(ce.trackNumber>0&&ce.trackNumber<127))throw"TrackNumber must be > 0 and < 127";return ue.writeEBMLVarInt(ce.trackNumber),ue.writeU16BE(ce.timecode),ue.writeByte(128),{id:163,data:[ue.getAsDataArray(),ce.frame]}}T(Q,"M");function ae(ce){return{id:524531317,data:[{id:231,data:Math.round(ce.timecode)}]}}T(ae,"W");function j(ce,ue,be){R.push({id:187,data:[{id:179,data:ue},{id:183,data:[{id:247,data:ce},{id:241,data:z(be)}]}]})}T(j,"ee");function L(){var ce={id:475249515,data:R},ue=new d(16+R.length*32);u(ue,U.pos,ce),U.write(ue.getAsDataArray()),A.Cues.positionEBML.data=z(ce.offset)}T(L,"q");function G(){if(b.length!=0){for(var ce=0,ue=0;ue<b.length;ue++)ce+=b[ue].frame.length;for(var be=new d(ce+b.length*32),ye=ae({timecode:Math.round(w)}),ue=0;ue<b.length;ue++)ye.data.push(Q(b[ue]));u(be,U.pos,ye),U.write(be.getAsDataArray()),j(c,Math.round(w),ye.offset),b=[],w+=M,M=0}}T(G,"te");function N(){if(!a.frameDuration)if(a.frameRate)a.frameDuration=1e3/a.frameRate;else throw"Missing required frameDuration or frameRate setting"}T(N,"P");function Z(ce){ce.trackNumber=c,ce.timecode=Math.round(M),b.push(ce),M+=ce.duration,M>=o&&G()}T(Z,"L");function oe(){var ce=new d(F.size),ue=U.pos;u(ce,F.dataOffset,F.data),U.seek(F.dataOffset),U.write(ce.getAsDataArray()),U.seek(ue)}T(oe,"le");function ie(){var ce=new d(8),ue=U.pos;ce.writeDoubleBE(w),U.seek(I.dataOffset),U.write(ce.getAsDataArray()),U.seek(ue)}T(ie,"X"),this.addFrame=function(ce){if(y){if(ce.width!=_||ce.height!=x)throw"Frame size differs from previous frames"}else _=ce.width,x=ce.height,W(),y=!0;var ue=s(ce,{quality:a.quality});if(!ue)throw"Couldn't decode WebP frame, does the browser support WebP?";Z({frame:l(ue),duration:a.frameDuration})},this.complete=function(){return G(),L(),oe(),ie(),U.complete("video/webm")},this.getWrittenSize=function(){return U.length},a=m(E,a||{}),N()}},"g");typeof Y.exports<"u"?Y.exports=p(k,v):window.WebMWriter=p(k,v)})()},681:Y=>{"use strict";Y.exports=JSON.parse('{"_from":"@ffmpeg/ffmpeg","_id":"@ffmpeg/ffmpeg@0.10.1","_inBundle":false,"_integrity":"sha512-ChQkH7Rh57hmVo1LhfQFibWX/xqneolJKSwItwZdKPcLZuKigtYAYDIvB55pDfP17VtR1R77SxgkB2/UApB+Og==","_location":"/@ffmpeg/ffmpeg","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"@ffmpeg/ffmpeg","name":"@ffmpeg/ffmpeg","escapedName":"@ffmpeg%2fffmpeg","scope":"@ffmpeg","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/@ffmpeg/ffmpeg/-/ffmpeg-0.10.1.tgz","_shasum":"3dacf3985de9c83a95fbf79fe709920cc009b00a","_spec":"@ffmpeg/ffmpeg","_where":"/Users/amandaghassaei/Projects/canvas-capture","author":{"name":"Jerome Wu","email":"jeromewus@gmail.com"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"bundleDependencies":false,"dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"deprecated":false,"description":"FFmpeg WebAssembly version","devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},"directories":{"example":"examples"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","keywords":["ffmpeg","WebAssembly","video"],"license":"MIT","main":"src/index.js","name":"@ffmpeg/ffmpeg","repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","prepublishOnly":"npm run build","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js"},"types":"src/index.d.ts","version":"0.10.1"}')}},Ze={};function Je(Y){var k=Ze[Y];if(k!==void 0)return k.exports;var v=Ze[Y]={id:Y,loaded:!1,exports:{}};return Oe[Y].call(v.exports,v,v.exports,Je),v.loaded=!0,v.exports}T(Je,"Se"),Je.d=(Y,k)=>{for(var v in k)Je.o(k,v)&&!Je.o(Y,v)&&Object.defineProperty(Y,v,{enumerable:!0,get:k[v]})},Je.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Je.o=(Y,k)=>Object.prototype.hasOwnProperty.call(Y,k),Je.r=Y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})},Je.nmd=Y=>(Y.paths=[],Y.children||(Y.children=[]),Y);var t={};return(()=>{"use strict";var Y=t;Object.defineProperty(Y,"__esModule",{value:!0}),Y.CanvasCapture=void 0;var k=Je(914);Y.CanvasCapture=k,Y.default=k})(),t})())}),kn={};ei(kn,{default:()=>eo});var ri=Sn(En());ti(kn,Sn(En()));var{default:jn,...oi}=ri,eo=jn!==void 0?jn:oi;var Or=class{static{T(this,"FlowField")}constructor(ke,Oe,Ze,Je=or()){this.tileSize=Ze,this.cols=Je.ceil(ke/Ze),this.rows=Je.ceil(Oe/Ze),this.center=null,this.vectors=[],this.inc=.1,this.p5=Je,this.particles=[],this.reset()}spawnParticles(ke,Oe){let Ze=[];for(let Je=0;Je<ke;++Je)Ze.push(new to(this,Oe));return this.particles.push(...Ze),Ze}setAttractor(ke){this.center=ke.copy(),this.reset()}reset(){let{p5:ke}=this,Oe=ke.createVector(0,1);this.vectors=[];let Ze=0;for(let Je=0;Je<this.rows;Je++){let t=0;for(let Y=0;Y<this.cols;Y++){let k;this.center?k=this.center.copy().sub(ke.createVector(Y,Je)).rotate(ke.noise(t,Ze,0)*ke.TWO_PI):k=Oe.copy().rotate(ke.noise(t,Ze,0)*ke.TWO_PI),k.setMag(-1),this.vectors[this.index(Y,Je)]=k,t+=this.inc}Ze+=this.inc}}index(ke,Oe){return ke+Oe*this.cols}get(ke,Oe){return this.vectors[this.index(ke,Oe)]}each(ke){for(let Oe=0;Oe<this.rows;Oe++)for(let Ze=0;Ze<this.cols;Ze++)ke(this.vectors[this.index(Ze,Oe)],this.p5.createVector(Ze*this.tileSize,Oe*this.tileSize))}update(ke=!1){let{p5:Oe}=this;ke&&this.each((Ze,{x:Je,y:t})=>{Oe.push(),Oe.translate(Je,t),Oe.line(0,0,Ze.x*10,Ze.y*10),Oe.pop()}),this.particles=this.particles.filter(Ze=>(Ze.update(),!Ze.dead))}particleCount(){return this.particles.length}},to=class{static{T(this,"FlowFieldParticle")}constructor(ke,Oe){this.store=new Map,this.p5=ke.p5,this.field=ke,this.pos=this.p5.createVector(this.p5.random(this.p5.width),this.p5.random(this.p5.height)),this.vel=this.p5.createVector(0,0),this.acc=this.p5.createVector(0,0),this.maxspeed=2,this.prevPos=this.pos.copy(),this.dead=!1,this.updateCallback=Oe}update(){if(this.checkOutOfBounds(),this.dead)return;this.vel.add(this.acc),this.vel.limit(this.maxspeed),this.pos.add(this.vel),this.acc.mult(0);let ke=this.p5.floor(this.pos.x/this.field.tileSize),Oe=this.p5.floor(this.pos.y/this.field.tileSize),Ze=this.field.get(ke,Oe);this.applyForce(Ze),this.updatePreviousPosition(),this.updateCallback&&this.updateCallback(this,this.p5)}applyForce(ke){ke&&this.acc.add(ke)}updatePreviousPosition(){this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y}checkOutOfBounds(){let{p5:ke}=this;this.pos.x>=ke.width-this.field.tileSize&&(this.pos.x=0,this.updatePreviousPosition(),this.dead=!0),this.pos.x<=this.field.tileSize&&(this.pos.x=ke.width,this.updatePreviousPosition(),this.dead=!0),this.pos.y>=ke.height-this.field.tileSize&&(this.pos.y=0,this.updatePreviousPosition(),this.dead=!0),this.pos.y<=this.field.tileSize&&(this.pos.y=ke.height,this.updatePreviousPosition(),this.dead=!0)}get x(){return this.pos.x}get y(){return this.pos.y}get position(){return this.pos}};var Pr=class{static{T(this,"Grid")}constructor(ke,Oe,Ze){this.width=ke,this.height=Oe;let Je=ke*Oe;this.items=new Array(Je),Ze&&this.each((t,Y,k)=>this.set(Y,k,Ze(Y,k)))}idx(ke,Oe){return Oe*this.width+ke}isValidCoord(ke,Oe){return ke>=0&&Oe>=0&&ke<this.width&&Oe<this.height}assertCoord(ke,Oe){if(!this.isValidCoord(ke,Oe))throw new Error(`Index Out Of Bounds (${ke}, ${Oe})`)}get(ke,Oe){return this.assertCoord(ke,Oe),this.items[this.idx(ke,Oe)]}set(ke,Oe,Ze){this.assertCoord(ke,Oe),this.items[this.idx(ke,Oe)]=Ze}*rowIterator(){for(let ke=0;ke<this.height;++ke){let Oe=this.idx(0,ke),Ze=this.idx(this.width,ke);yield this.items.slice(Oe,Ze)}}rows(){return[...this.rowIterator()]}each(ke){for(let Oe=0;Oe<this.width;++Oe)for(let Ze=0;Ze<this.height;++Ze)ke(this.get(Oe,Ze),Oe,Ze)}neighbors(ke,Oe,Ze=!1){let Je=[{x:ke-1,y:Oe-1},{x:ke,y:Oe-1},{x:ke+1,y:Oe-1},{x:ke-1,y:Oe},{x:ke+1,y:Oe},{x:ke-1,y:Oe+1},{x:ke,y:Oe+1},{x:ke+1,y:Oe+1}];return(Ze?[...Je,{x:ke,y:Oe}]:Je).filter(({x:Y,y:k})=>this.isValidCoord(Y,k)).map(({x:Y,y:k})=>({x:Y,y:k,value:this.get(Y,k)}))}fill(ke){return this.items.fill(ke),this}findCellRelativeToSurface(ke,Oe,Ze){return{x:Math.floor(ke/Ze),y:Math.floor(Oe/Ze)}}};function Tn(De){return De!=null}T(Tn,"present");var Mn=1e5;function Cn(De){return De*(Math.PI/180)}T(Cn,"degreesToRadians");function ni(De,ke,Oe,Ze){let Je=Oe-De,t=Ze-ke;return Math.sqrt(t*t+Je*Je)}T(ni,"dist");var An={computePoints(De){let{p5:ke=or(),surfaceHeight:Oe=ke.height,surfaceWidth:Ze=ke.width,maxRetry:Je=30,radius:t}=De,Y=T((i,n)=>(n===void 0&&(n=i,i=0),Math.floor(ke.random()*(n-i+1)+i)),"randomInt"),k=2,v=[],p=[],d=Math.floor(t/Math.sqrt(k)),h=Math.ceil(Ze/d)+1,m=Math.ceil(Oe/d)+1,f=new Pr(h,m).fill(null),r=ke.createVector(Ze/4+Y(Ze/2),Oe/4+Y(Oe/2)),s=T(i=>{if(i.x<0||i.x>=Ze||i.y<0||i.y>=Oe)return!1;let n=f.findCellRelativeToSurface(i.x,i.y,d);return!f.neighbors(n.x,n.y,!0).find(u=>Tn(u.value)&&ni(u.value.x,u.value.y,i.x,i.y)<t)},"isValidPoint");p.push(r),v.push(r);let l=Mn;for(;p.length>0;){let i=Y(p.length-1),n=p[i],u=!1;for(let a=0;a<Je;a++){let o=Y(360),c=Y(t,2*t),y=n.x+c*Math.cos(Cn(o)),_=n.y+c*Math.sin(Cn(o)),x=ke.createVector(y,_);if(s(x)){v.push(x),p.push(x);let b=f.findCellRelativeToSurface(x.x,x.y,d);f.set(b.x,b.y,x),u=!0;break}}if(u||p.splice(i,1),--l<=0){console.warn(`PoissondiskSampling reached max ${Mn} iterations and stopped earlier than planned`);break}}return v}};var si=T(De=>{let ke,Oe,Ze,Je,t=T((k,v,p,d)=>{let h=ke*De.constrain(p,.05,.95),m=0,f=-De.PI/2,r=De.random(De.PI/6,De.PI/3),s=k-h/2,l=v+h,i=De.random(1,10)*p,n=De.map(p,0,1,20,255);return d=qo(d,De),{draw:T(()=>{if(m>=r)return;let a=m/r;d.setAlpha(De.map(1-a,0,1,0,n));let o=h+10*(1-a),c=s+o*Math.cos(f+m),y=l+o*Math.sin(f+m);De.noFill(),De.stroke(d),De.strokeWeight(i*(1-a)),De.circle(c,y,1),m+=.01},"draw")}},"makeStroke"),Y=[];De.preload=()=>{Oe=De.loadImage("public/canvas.jpg")},De.setup=()=>{bt.configure({p5:De}),De.createCanvas(window.innerWidth,window.innerHeight),De.image(Oe,0,0,De.width,De.height),ke=De.random(20,30),Je=An.computePoints({p5:De,radius:ke/De.random(1,3)}),Ze=new Or(De.width,De.height,ke,De),console.log(Ze),Ze.spawnParticles(De.random(20,50),k=>{Je=Je.filter((v,p)=>{let d=De.color(De.random(0,90));return De.dist(k.x,k.y,v.x,v.y)<10?(Y.push(t(v.x,v.y,De.noise(v.x,v.y),d)),!1):!0})})},De.draw=()=>{De.stroke(200,40),De.strokeWeight(1),Ze.update(),Y.forEach(k=>k.draw())},De.doubleClicked=()=>{De.noLoop(),console.log("done")}},"sketch");new Cr(si);
/*! Bundled license information:

p5/lib/p5.min.js:
  (*! p5.js v1.9.0 November 28, 2023 *)
*/
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
/*! Bundled license information:

canvas-capture/dist/canvas-capture.js:
  (*!
  
  JSZip v3.7.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/master/LICENSE
  *)
  (* @license http://opensource.org/licenses/MIT *)
*/
