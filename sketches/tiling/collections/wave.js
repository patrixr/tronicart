var J=Object.defineProperty;var v=(n,a)=>J(n,"name",{value:a,configurable:!0});var K=Object.create,W=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyNames,Y=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty,z=v((n,a)=>()=>(a||n((a={exports:{}}).exports,a),a.exports),"J"),tt=v((n,a)=>{for(var _ in a)W(n,_,{get:a[_],enumerable:!0})},"K"),D=v((n,a,_,m)=>{if(a&&typeof a=="object"||typeof a=="function")for(let d of X(a))!Z.call(n,d)&&d!==_&&W(n,d,{get:()=>a[d],enumerable:!(m=Q(a,d))||m.enumerable});return n},"I"),et=v((n,a,_)=>(D(n,a,"default"),_&&D(_,a,"default")),"T"),V=v((n,a,_)=>(_=n!=null?K(Y(n)):{},D(a||!n||!n.__esModule?W(_,"default",{value:n,enumerable:!0}):_,n)),"G"),F=z((n,a)=>{(function(){var _,m=[].slice;_=function(){var d,b,N,j,H,B;for(H=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},p.SCHEMES={},j="mono monochromatic contrast triade tetrade analogic".split(/\s+/),b=0,N=j.length;b<N;b++)B=j[b],p.SCHEMES[B]=!0;p.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},p.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]};function p(){var t,e;for(t=[],e=1;e<=4;e++)t.push(new p.mutablecolor(60));this.col=t,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return v(p,"h"),p.prototype.colors=function(){var t,e,r,o,l,f,c,s,h;if(h=1,e=this.col[0].get_hue(),t={mono:function(i){return function(){}}(this),contrast:function(i){return function(){return h=2,i.col[1].set_hue(e),i.col[1].rotate(180)}}(this),triade:function(i){return function(){var g;return h=3,g=60*i._distance,i.col[1].set_hue(e),i.col[1].rotate(180-g),i.col[2].set_hue(e),i.col[2].rotate(180+g)}}(this),tetrade:function(i){return function(){var g;return h=4,g=90*i._distance,i.col[1].set_hue(e),i.col[1].rotate(180),i.col[2].set_hue(e),i.col[2].rotate(180+g),i.col[3].set_hue(e),i.col[3].rotate(g)}}(this),analogic:function(i){return function(){var g;return h=i._add_complement?4:3,g=60*i._distance,i.col[1].set_hue(e),i.col[1].rotate(g),i.col[2].set_hue(e),i.col[2].rotate(360-g),i.col[3].set_hue(e),i.col[3].rotate(180)}}(this)},t.monochromatic=t.mono,t[this._scheme]!=null)t[this._scheme]();else throw"Unknown color scheme name: "+this._scheme;for(c=[],r=l=0,s=h-1;0<=s?l<=s:l>=s;r=0<=s?++l:--l)for(o=f=0;f<=3;o=++f)c[r*4+o]=this.col[r].get_hex(this._web_safe,o);return c},p.prototype.colorset=function(){var t,e;for(t=d(this.colors()),e=[];t.length>0;)e.push(t.splice(0,4));return e},p.prototype.from_hue=function(t){if(t==null)throw"from_hue needs an argument";return this.col[0].set_hue(t),this},p.prototype.rgb2ryb=function(){var t,e,r,o,l,f,c,s,h;return c=1<=arguments.length?m.call(arguments,0):[],c[0]!=null&&H(c[0])&&(c=c[0]),f=c[0],e=c[1],t=c[2],s=Math.min(f,e,t),f-=s,e-=s,t-=s,o=Math.max(f,e,t),h=Math.min(f,e),f-=h,e-=h,t>0&&e>0&&(t/=2,e/=2),h+=e,t+=e,l=Math.max(f,h,t),l>0&&(r=o/l,f*=r,h*=r,t*=r),f+=s,h+=s,t+=s,[Math.floor(f),Math.floor(h),Math.floor(t)]},p.prototype.rgb2hsv=function(){var t,e,r,o,l,f,c,s,h,i;if(s=1<=arguments.length?m.call(arguments,0):[],s[0]!=null&&H(s[0])&&(s=s[0]),c=s[0],r=s[1],t=s[2],c/=255,r/=255,t/=255,f=Math.min.apply(Math,[c,r,t]),l=Math.max.apply(Math,[c,r,t]),e=l-f,i=l,e>0)h=e/l;else return[0,0,i];return o=c===l?(r-t)/e:r===l?2+(t-c)/e:4+(c-r)/e,o*=60,o%=360,[o,h,i]},p.prototype.rgbToHsv=function(){var t,e,r,o,l,f,c,s,h,i;if(s=1<=arguments.length?m.call(arguments,0):[],s[0]!=null&&H(s[0])&&(s=s[0]),c=s[0],r=s[1],t=s[2],c/=255,r/=255,t/=255,l=Math.max(c,r,t),f=Math.min(c,r,t),o=void 0,h=void 0,i=l,e=l-f,h=l===0?0:e/l,l===f)o=0;else{switch(l){case c:o=(r-t)/e+(r<t?6:0);break;case r:o=(t-c)/e+2;break;case t:o=(c-r)/e+4}o/=6}return[o,h,i]},p.prototype.from_hex=function(t){var e,r,o,l,f,c,s,h,i,g,M,P,x,T,y,L;if(t==null)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(t))throw"from_hex("+t+") - argument must be in the form of RRGGBB";return T=/(..)(..)(..)/.exec(t).slice(1,4),P=function(){var A,C,S;for(S=[],C=0,A=T.length;C<A;C++)g=T[C],S.push(parseInt(g,16));return S}(),M=P[0],r=P[1],e=P[2],x=this.rgb2ryb([M,r,e]),M=x[0],r=x[1],e=x[2],s=this.rgbToHsv(M,r,e),l=s[0],f=0,c=1e3,h=null,i=null,o=null,y=null,L=null,o=s[0],y=s[1],L=s[2],this.from_hue(o*360),this._set_variant_preset([y,L,y,L*.7,y*.25,1,y*.5,1]),this},p.prototype.add_complement=function(t){if(t==null)throw"add_complement needs an argument";return this._add_complement=t,this},p.prototype.web_safe=function(t){if(t==null)throw"web_safe needs an argument";return this._web_safe=t,this},p.prototype.distance=function(t){if(t==null)throw"distance needs an argument";if(t<0)throw"distance("+t+") - argument must be >= 0";if(t>1)throw"distance("+t+") - argument must be <= 1";return this._distance=t,this},p.prototype.scheme=function(t){if(t==null)return this._scheme;if(p.SCHEMES[t]==null)throw"'"+t+"' isn't a valid scheme name";return this._scheme=t,this},p.prototype.variation=function(t){if(t==null)throw"variation needs an argument";if(p.PRESETS[t]==null)throw"'$v' isn't a valid variation name";return this._set_variant_preset(p.PRESETS[t]),this},p.prototype._set_variant_preset=function(t){var e,r,o;for(o=[],e=r=0;r<=3;e=++r)o.push(this.col[e].set_variant_preset(t));return o},d=v(function(t){var e,r,o;if(t==null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return e="",t.global!=null&&(e+="g"),t.ignoreCase!=null&&(e+="i"),t.multiline!=null&&(e+="m"),t.sticky!=null&&(e+="y"),new RegExp(t.source,e);o=new t.constructor;for(r in t)o[r]=d(t[r]);return o},"m"),p.mutablecolor=function(){t.prototype.hue=0,t.prototype.saturation=[],t.prototype.value=[],t.prototype.base_red=0,t.prototype.base_green=0,t.prototype.base_saturation=0,t.prototype.base_value=0;function t(e){if(e==null)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(e),this.set_variant_preset(p.PRESETS.default)}return v(t,"t"),t.prototype.get_hue=function(){return this.hue},t.prototype.set_hue=function(e){var r,o,l,f,c,s,h,i,g,M;r=v(function(P,x,T){return P+Math.round((x-P)*T)},"r"),this.hue=Math.round(e%360),c=this.hue%15+(this.hue-Math.floor(this.hue)),M=c/15,s=this.hue-Math.floor(c),h=(s+15)%360,s===360&&(s=0),h===360&&(h=0),l=p.COLOR_WHEEL[s],f=p.COLOR_WHEEL[h],i={red:0,green:1,blue:2,value:3};for(o in i)g=i[o],this["base_"+o]=r(l[g],f[g],M);return this.base_saturation=r(100,100,M)/100,this.base_value/=100},t.prototype.rotate=function(e){var r;return r=(this.hue+e)%360,this.set_hue(r)},t.prototype.get_saturation=function(e){var r,o;return o=this.saturation[e],r=o<0?-o*this.base_saturation:o,r>1&&(r=1),r<0&&(r=0),r},t.prototype.get_value=function(e){var r,o;return o=this.value[e],r=o<0?-o*this.base_value:o,r>1&&(r=1),r<0&&(r=0),r},t.prototype.set_variant=function(e,r,o){return this.saturation[e]=r,this.value[e]=o},t.prototype.set_variant_preset=function(e){var r,o,l;for(l=[],r=o=0;o<=3;r=++o)l.push(this.set_variant(r,e[2*r],e[2*r+1]));return l},t.prototype.get_hex=function(e,r){var o,l,f,c,s,h,i,g,M,P,x,T,y,L,A,C,S;for(M=Math.max.apply(Math,function(){var O,w,E,R;for(E=["red","green","blue"],R=[],w=0,O=E.length;w<O;w++)l=E[w],R.push(this["base_"+l]);return R}.call(this)),P=Math.min.apply(Math,function(){var O,w,E,R;for(E=["red","green","blue"],R=[],w=0,O=E.length;w<O;w++)l=E[w],R.push(this["base_"+l]);return R}.call(this)),S=(r<0?this.base_value:this.get_value(r))*255,A=r<0?this.base_saturation:this.get_saturation(r),s=M>0?S/M:0,y=[],T=["red","green","blue"],g=0,h=T.length;g<h;g++)l=T[g],L=Math.min.apply(Math,[255,Math.round(S-(S-this["base_"+l]*s)*A)]),y.push(L);for(e&&(y=function(){var O,w,E;for(E=[],w=0,O=y.length;w<O;w++)o=y[w],E.push(Math.round(o/51)*51);return E}()),f="",x=0,i=y.length;x<i;x++)c=y[x],C=c.toString(16),C.length<2&&(C="0"+C),f+=C;return f},t}(),p}(),typeof a<"u"&&a!==null&&a.exports!=null?a.exports=_:typeof define=="function"&&define.amd?define([],function(){return _}):window.ColorScheme=_}).call(n)}),U={};tt(U,{default:()=>I});var rt=V(F());et(U,V(F()));var{default:$,...ot}=rt,I=$!==void 0?$:ot;var nt=window;var q=v(()=>nt,"getGlobalP5");var u={ALL_SCHEMES:["mono","contrast","triade","tetrade","analogic"],ALL_VARIATIONS:["default","pastel","soft","light","hard","pale"],p5:null,index:0,colors:[],configured:!1,savedConfig:null,configure(n={}){u.p5=n.p5??q();let{hue:a=u.p5.floor(u.p5.random(0,360)),variation:_=u.p5.random([...u.ALL_VARIATIONS]),scheme:m=u.p5.random([...u.ALL_SCHEMES]),distance:d=u.p5.random(0,1)}=n;console.log("Palette config:"),console.log({hue:a,variation:_,scheme:m,distance:d}),u.colors=new I().from_hue(a).distance(d).scheme(m).variation(_).colors().map(b=>`#${b}`),u.colors=u.p5.shuffle(u.colors),u.configured=!0,u.savedConfig={...n}},reload(){u.prepare(),u.configure(u.savedConfig)},prepare(){u.configured||u.configure()},nextColor(){return u.prepare(),u.p5.color(u.colors[u.index++%u.colors.length])},intToColor(n){return u.prepare(),u.p5.color(u.colors[Math.floor(n)%u.colors.length])},peekNextColor(){return u.prepare(),u.p5.color(u.colors[(u.index+1)%u.colors.length])},allColors(){return u.prepare(),u.colors.map(n=>u.p5.color(n))},colorCount(){return u.prepare(),u.colors.length}};var at=0,k=v((n,a,_)=>{let m=n.createGraphics(a.width,a.height);m.push(),m.imageMode(m.CENTER),m.translate(m.width/2,m.height/2);for(let d=0;d<_;++d)m.rotate(n.PI/2);return m.image(a,0,0,a.width,a.height),m.pop(),m},"rotateBy"),G=v((n,a,_)=>{let m=++at;return{id:String(m),connections:_,draw:(d,b)=>{n.image(a,d,b)}}},"toTile"),vt=v((n,a)=>{u.configure({p5:n});let _=u.nextColor(),m=u.nextColor(),d=n.createGraphics(a,a);d.noStroke(),d.background(0),d.fill(m),d.arc(0,a,a*2,a*2,n.TWO_PI*.75,n.TWO_PI);let b=n.createGraphics(a,a);return b.noStroke(),b.background(m),b.fill(0),b.arc(0,a,a*2,a*2,n.TWO_PI*.75,n.TWO_PI),[G(n,k(n,d,0),{left:"1",bottom:"2"}),G(n,k(n,d,2),{right:"3",top:"2"}),G(n,k(n,b,0),{right:"1",top:"4"}),G(n,k(n,b,2),{left:"3",bottom:"4"})]},"waveTiles"),bt=v((n,a)=>{},"waveTilesConnectionMatcher");export{vt as waveTiles,bt as waveTilesConnectionMatcher};
