<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.13.0">
<title>Differential Growth Basics | Tronicart</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="../_observablehq/theme-parchment.d89d0dee.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="../_observablehq/theme-parchment.d89d0dee.css">
<link rel="modulepreload" href="../_observablehq/client.a725201a.js">
<link rel="modulepreload" href="../_observablehq/runtime.f168f711.js">
<link rel="modulepreload" href="../_observablehq/stdlib.0e911bb9.js">
<link rel="modulepreload" href="https://early.webawesome.com/webawesome@3.0.0-alpha.8/dist/webawesome.loader.js">
<link rel="modulepreload" href="../_import/components/sketch.96f782c4.js">
<link rel="modulepreload" href="../_import/lib/differential-growth.2f9c14bd.js">
<link rel="modulepreload" href="../_observablehq/stdlib/mermaid.b7b51fd9.js">
<link rel="modulepreload" href="../_import/components/p5.08228e06.js">
<link rel="modulepreload" href="../_import/lib/helpers.23012005.js">
<link rel="modulepreload" href="../_import/lib/dom.46cf68a8.js">
<link rel="modulepreload" href="../_node/p5@1.11.2/index.8e5b333a.js">
<link rel="modulepreload" href="../_npm/mermaid@11.4.1/dist/mermaid.esm.min.mjs.940dc0bc.js">

<meta name="description" content="Differential Growth Basics">
<meta name="keywords" content="creative, code, art, github">
<meta name="author" content="Patrick Rabier">

<meta property="og:title" content="Differential Growth Basics">
<meta property="og:type" content="article">
<meta property="og:url" content="/algorithms/differential-growth-basics">
<meta property="og:image" content="https://tronica.io/_file/data/static/og-thumb.png">
<meta name="twitter:card" content="Differential Growth Basics">
<meta name="twitter:site" content="@tronicapps">
<meta name="twitter:creator" content="@tronicapps">

<link rel="icon" href="../_file/data/static/favicon-32x32.6f5dce35.png" sizes="32x32">
<link rel="icon" href="../_file/data/static/favicon-16x16.827eb093.png" sizes="16x16">
<link rel="apple-touch-icon" href="../_file/data/static/apple-touch-icon.045844fa.png">
<link rel="manifest" href="../_file/data/static/manifest.7a9e07ce.json">

<link rel="stylesheet" href="https://early.webawesome.com/webawesome@3.0.0-alpha.8/dist/styles/themes/default.css">
<script type="module" src="https://early.webawesome.com/webawesome@3.0.0-alpha.8/dist/webawesome.loader.js"></script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Differential Growth Basics",
  "image": "https://tronica.io/_file/data/static/og-thumb.png,
  "keywords": "creative code art github",
  "publisher": "Tronica",
  "url": "https://tronica.io/algorithms/differential-growth-basics",
  "description": "Differential Growth Basics",
  "author": {
    "@type": "Person",
    "name": "Patrick Rabier"
  }
}
</script>


<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-GCRE839L0Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GCRE839L0Y');
</script>
  

<script type="module">

import {define} from "../_observablehq/client.a725201a.js";

define({id: "3b9beaab", inputs: ["mermaid","display"], body: async (mermaid,display) => {
display(await(
await mermaid`graph LR
  style A fill:#bbf,stroke-width:2px,color:#fff
  style B fill:#bbf,stroke-width:2px,color:#fff
  style C fill:#bbf,stroke-width:2px,color:#fff
  style D fill:#bbf,stroke-width:2px,color:#fff
  style E fill:#bbf,stroke-width:2px,color:#fff
  style F fill:#bbf,stroke-width:2px,color:#fff
  A[Start] --> B{Is there a cell nearby?}
  B -->|Yes| C[Move towards it]
  C --> D{Is there a cell too close?}
  D -->|Yes| E[Move away from it]
  E --> B
  D -->|No| B
  B -->|No| F[Create a new neighbour]
  F --> B`
))
}});

define({id: "be1359c8", outputs: ["draw","sketch","DifferentialGrowth"], body: async () => {
const [{draw, sketch}, {DifferentialGrowth}] = await Promise.all([import("../_import/components/sketch.96f782c4.js"), import("../_import/lib/differential-growth.2f9c14bd.js")]);

return {draw,sketch,DifferentialGrowth};
}});

define({id: "2b88d86b", inputs: ["draw","createCircularPath","display"], body: async (draw,createCircularPath,display) => {
display(await(
draw(525, 295, (p5) => {
  createCircularPath(p5, p5.width / 2, p5.height / 2, 100).forEach((node) => {
    p5.ellipse(node.x, node.y, 5, 5)
  })
})
))
}});

define({id: "9374bce7", outputs: ["createCircularPath"], body: () => {
function createCircularPath(p5, cx, cy, radius) {
  const path = []
  const cellCount = 40
  const angleStep = p5.TWO_PI / cellCount
  for (let angle = 0; angle <= p5.TWO_PI; angle += angleStep) {
    const x = cx + p5.cos(angle) * radius
    const y = cy + p5.sin(angle) * radius
    path.push(p5.createVector(x, y))
  }
  return path
}
return {createCircularPath};
}});

define({id: "fbe5652d", inputs: ["sketch","DifferentialGrowth","createCircularPath","display"], body: async (sketch,DifferentialGrowth,createCircularPath,display) => {
display(await(
sketch((p5) => {
  let dg = new DifferentialGrowth({ p5, minSeparation: 30 })
  const w = 525
  const h = 295

  p5.setup = () => {
    p5.createCanvas(w, h)
    dg.addPath(createCircularPath(p5, w / 2, h / 2, 100))
  }

  p5.draw = () => {
    p5.clear()
    p5.fill(255)
    dg.update()
    for (const path of dg.paths) {
      for (const node of path.nodes) {
        p5.ellipse(node.x, node.y, 5, 5)
      }
    }

    if (p5.frameCount >= 1000) p5.noLoop()
  }
})
))
}});

</script>
</head>
<body>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="../">Tronicart</a></li>
  </ol>
  <div id="observablehq-search"><input type="search" placeholder="Search"></div>
  <div id="observablehq-search-results"></div>
  <script>{const o=document.querySelector("#observablehq-search");o.setAttribute("data-shortcut",`${/Mac|iPhone/.test(navigator.platform)?"\u2318":"Alt-"}K`);const t=o.querySelector("input"),r=()=>import("../_observablehq/search.59969b84.js");t.addEventListener("focus",r,{once:!0}),t.addEventListener("keydown",r,{once:!0});const c=document.querySelector("#observablehq-sidebar-toggle");addEventListener("keydown",e=>{(e.code==="KeyK"&&e.metaKey&&!e.altKey&&!e.ctrlKey||e.key==="/"&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&e.target===document.body)&&(c.checked?t.focus():(c.click(),t.focus(),c.click()),t.select(),e.preventDefault())});}</script>
  <section>
    <summary>Experiments</summary>
    <ol>
    <li class="observablehq-link"><a href="../experiments/raytracing-wasm">Raytracing with Go and Wasm</a></li>
    <li class="observablehq-link"><a href="../experiments/three-body-problem">Three body problem</a></li>
    <li class="observablehq-link"><a href="../experiments/hand-drawn">Hand-drawn lines</a></li>
    <li class="observablehq-link"><a href="../experiments/bitwise-tiles">Bitwise creativity</a></li>
    </ol>
  </section>
  <details open class="observablehq-section-active">
    <summary>Creative algorithms</summary>
    <ol>
    <li class="observablehq-link"><a href="./composition">Composable sketches</a></li>
    <li class="observablehq-link observablehq-link-active"><a href="./differential-growth-basics">Differential growth</a></li>
    <li class="observablehq-link"><a href="./orbital-mechanics">Orbital mechanics</a></li>
    </ol>
  </details>
  <details>
    <summary>Articles</summary>
    <ol>
    <li class="observablehq-link"><a href="../articles/state-management">An outlook on state management</a></li>
    <li class="observablehq-link"><a href="../articles/custom-react-hook">Custom React API hook</a></li>
    <li class="observablehq-link"><a href="../articles/observable-seo">Observable SEO</a></li>
    </ol>
  </details>
  <details>
    <summary>Playgrounds</summary>
    <ol>
    <li class="observablehq-link"><a href="../playgrounds/falling-sand">Falling sand</a></li>
    <li class="observablehq-link"><a href="../playgrounds/triangles">Triangles</a></li>
    <li class="observablehq-link"><a href="../playgrounds/hexmesh/">Hexmesh</a></li>
    </ol>
  </details>
  <ol>
    <li class="observablehq-link"><a href="https://github.com/patrixr" target="_blank"><span>Github</span></a></li>
    <li class="observablehq-link"><a href="https://x.com/tronicapps" target="_blank"><span>Twitter</span></a></li>
    <li class="observablehq-link"><a href="https://objkt.com/users/tz1dQEFRNPdx2TXqfcprr1XCKdcUfir9geTP" target="_blank"><span>NFTs</span></a></li>
  </ol>
</nav>
<script>{const e=document.querySelector("#observablehq-sidebar"),o=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?o.checked=r==="true":o.indeterminate=!0;for(const t of document.querySelectorAll("#observablehq-sidebar summary")){const s=t.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${t.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<div id="observablehq-center">
<aside id="observablehq-toc" data-selector="h1:not(:first-of-type)[id], h2:first-child[id], :not(h1) + h2[id]">
<nav>
<div>Contents</div>
<ol>
<li class="observablehq-secondary-link"><a href="#an-example">An example</a></li>
</ol>
</nav>
</aside>
<main id="observablehq-main" class="observablehq">
<h1 id="differential-growth-basics" tabindex="-1"><a class="observablehq-header-anchor" href="#differential-growth-basics">Differential Growth Basics</a></h1>
<p>I'm playing with the concept of differential growth, a technique used to simulate the growth of organic forms. The idea is to create a bunch of nodes, or "cells" which are bound by rules of attraction amongst themselves:</p>
<ul>
<li>Rule 1: A cell must always be within a certain distance of another cell, a basic social instinct</li>
<li>Rule 2: A cell cannot be too close to another cell, for risks of overcrowding</li>
</ul>
<p>To ensure cells are never too isolated, we can create new cells to fill the gaps. This is a simple implementation of the concept, but it can be used to create complex, beautiful, organic forms.</p>
<p>Here's the basic logic:</p>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:3b9beaab:--></div>
<div class="observablehq observablehq--block"><!--:be1359c8:--></div>
<h2 id="an-example" tabindex="-1"><a class="observablehq-header-anchor" href="#an-example">An example</a></h2>
<p>In this sketch, we place cells in the form of a circle, and we let them grow following the rules of differential growth.</p>
<h3 id="placing-our-cells" tabindex="-1"><a class="observablehq-header-anchor" href="#placing-our-cells">Placing our cells</a></h3>
<p>We want to start with our cells placed as a circle by leveraging using polar coordinates:</p>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:2b88d86b:--></div>
<p>Here's the code to place our cells in a circle:</p>
<div class="observablehq observablehq--block"><!--:9374bce7:--></div>
<pre data-language="js"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCircularPath</span>(<span class="hljs-params">p5, cx, cy, radius</span>) {
  <span class="hljs-keyword">const</span> path = []
  <span class="hljs-keyword">const</span> cellCount = <span class="hljs-number">40</span>
  <span class="hljs-keyword">const</span> angleStep = p5.<span class="hljs-property">TWO_PI</span> / cellCount
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>; angle &lt;= p5.<span class="hljs-property">TWO_PI</span>; angle += angleStep) {
    <span class="hljs-keyword">const</span> x = cx + p5.<span class="hljs-title function_">cos</span>(angle) * radius
    <span class="hljs-keyword">const</span> y = cy + p5.<span class="hljs-title function_">sin</span>(angle) * radius
    path.<span class="hljs-title function_">push</span>(p5.<span class="hljs-title function_">createVector</span>(x, y))
  }
  <span class="hljs-keyword">return</span> path
}
</code></pre>
<h3 id="in-action" tabindex="-1"><a class="observablehq-header-anchor" href="#in-action">In action</a></h3>
<p>When we run our differential growth simulation, we can see the cells moving based on our rules, which creates this organic behaviour</p>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:fbe5652d:--></div>
</main>
<footer id="observablehq-footer">
<nav><a rel="prev" href="./composition"><span>Composable sketches</span></a><a rel="next" href="./orbital-mechanics"><span>Orbital mechanics</span></a></nav>
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2025-01-12T12:11:07">Jan 12, 2025</a>.</div>
</footer>
</div>
</body>
</html>
